/* @license MIT https://raw.githubusercontent.com/jquery/jquery/3.7.0/LICENSE.txt */
/*! jQuery v3.7.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var t="3.7.0",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=ue.call(t,"constructor")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=ce.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function p(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ce.escapeSelector=function(e){return(e+"").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",p="\\["+ge+"*("+t+")(?:"+ge+"*([*^$|!~]?=)"+ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+ge+"*\\]",g=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+p+")*)|.*)\\)|)",v=new RegExp(ge+"+","g"),y=new RegExp("^"+ge+"*,"+ge+"*"),m=new RegExp("^"+ge+"*([>+~]|"+ge+")"+ge+"*"),x=new RegExp(ge+"|>"),j=new RegExp(g),A=new RegExp("^"+t+"$"),D={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+p),PSEUDO:new RegExp("^"+g),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ge+"*(even|odd|(([+-]|)(\\d*)n|)"+ge+"*(?:([+-]|)"+ge+"*(\\d+)|))"+ge+"*\\)|)","i"),bool:new RegExp("^(?:"+f+")$","i"),needsContext:new RegExp("^"+ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ge+"*((?:-\\d)?\\d*)"+ge+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\([^\\r\\n\\f])","g"),P=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},R=function(){V()},M=J(function(e){return!0===e.disabled&&fe(e,"fieldset")},{dir:"parentNode",next:"legend"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+" "]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&z(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute("id"))?s=ce.escapeSelector(s):e.setAttribute("id",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+Q(l[o]);c=l.join(",")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return re(t.replace(ve,"$1"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,"input")&&e.type===t}}function _(t){return function(e){return(fe(e,"input")||fe(e,"button"))&&e.type===t}}function X(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&M(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function U(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function z(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",R),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,"*")}),le.scope=$(function(){return T.querySelectorAll(":scope")}),le.cssHas=$(function(){try{return T.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if("undefined"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+ge+"*(?:value|"+f+")"),e.querySelectorAll("[id~="+S+"-]").length||d.push("~="),e.querySelectorAll("a#"+S+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+ge+"*name"+ge+"*="+ge+"*(?:''|\"\")")}),le.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+" "]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||"").replace(O,P),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return"*"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+ge+")"+e+"("+ge+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(v," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,"$1"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:X(!1),disabled:X(!0),checked:function(e){return fe(e,"input")&&!!e.checked||fe(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,"input")&&"button"===e.type||fe(e,"button")},text:function(e){var t;return fe(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:U(function(){return[0]}),last:U(function(e,t){return[t-1]}),eq:U(function(e,t,n){return[n<0?n+t:n]}),even:U(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:U(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:U(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:U(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve," ")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ve,"$1"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+" "];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&z(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&z(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split("").sort(l).join("")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ce.find=I,ce.expr[":"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,"template")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener("DOMContentLoaded",P),ie.removeEventListener("load",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)["catch"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener("DOMContentLoaded",P),ie.addEventListener("load",P));var R=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)R(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},M=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(M,"ms-").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,X=new B,U=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,z=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:U.test(i)?JSON.parse(i):i)}catch(e){}X.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return X.hasData(e)||_.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=X.get(o),1===o.nodeType&&!_.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){X.set(this,n)}):R(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=X.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){X.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=_.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&K(e)&&"none"===ce.css(e,"display")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,"")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=e.nodeType&&(ce.cssNumber[t]||"px"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=_.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ne[s]=u)))):"none"!==n&&(l[c]="none",_.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement("div")),(be=C.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",le.option=!!xe.lastChild;var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement("div")),s=(Te.exec(o)||["",""])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),"script"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||"")&&n.push(o)}return f}var De=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(D)||[""]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,"events")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,"input")&&_.get(t,"click")||fe(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,"handle"),n=ce.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Me(e,t){return fe(e,"table")&&fe(11!==t.nodeType?t:t.firstChild,"tr")&&ce(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);X.hasData(e)&&(o=X.access(e),a=ce.extend({},o),X.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&"string"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,"script"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||"")&&!_.access(u,"globalEval")&&ce.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):m(u.textContent.replace(Re,""),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,"script")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,"script")).length&&Ee(a,!f&&Se(e,"script")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return R(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return R(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),Xe=/^--/,Ue=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},ze=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join("|"),"i");function Ge(e,t,n){var r,i,o,a,s=Xe.test(t),u=e.style;return(n=n||Ue(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,"$1")||void 0),""!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=["Webkit","Moz","ms"],Je=C.createElement("div").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?("content"===n&&(u-=ce.css(e,"padding"+Q[a],!0,i)),"margin"!==n&&(u-=ce.css(e,"border"+Q[a]+"Width",!0,i))):(u+=ce.css(e,"padding"+Q[a],!0,i),"padding"!==n?u+=ce.css(e,"border"+Q[a]+"Width",!0,i):s+=ce.css(e,"border"+Q[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Ue(e),i=(!le.boxSizingReliable()||n)&&"border-box"===ce.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===ce.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===ce.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=Xe.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return Xe.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each(["height","width"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):ze(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Ue(e),o=!le.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===ce.css(e,"boxSizing",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,"border",!1,i)-.5)),s&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return R(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ue(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,"fxshow");for(r in n.queue||(null==(a=ce._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,"display")),"none"===(c=ce.css(e,"display"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,"display"),re([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=_.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,"fxshow"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=_.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each(["toggle","show","hide"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement("input"),ct=C.createElement("select").appendChild(C.createElement("option")),lt.type="checkbox",le.checkOn=""!==lt.value,le.optSelected=ct.selected,(lt=C.createElement("input")).value="t",lt.type="radio",le.radioValue="t"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return R(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&fe(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return R(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=Ct(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":_.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var St=/\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?"":e+""})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(St,""):null==e?"":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,"optgroup"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\?/;ce.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||ce.error("Invalid XML: "+(n?ce.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,"type")?e.type:e,h=ue.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,"events")||Object.create(null))[e.type]&&_.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==x(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Rt=/%20/g,Mt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},_t={},Xt="*/".concat("*"),Ut=C.createElement("a");function zt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Ut.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:zt(Bt),ajaxTransport:zt(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace($t,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(D)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Ut.protocol+"//"+Ut.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Mt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Rt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),o=(At.test(f)?"&":"?")+"_="+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader("If-None-Match",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Xt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray("script",v.dataTypes)&&ce.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ce.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ce.active||ce.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&"withCredentials"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||ce.expando+"_"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ce.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),"script"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ce("<div>").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,"position"),c=ce(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ce.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===ce.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,"borderTopWidth",!0),i.left+=ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ce.css(r,"marginTop",!0),left:t.left-i.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===ce.css(e,"position"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ce.fn[t]=function(e){return R(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each(["top","left"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+"px":t})}),ce.each({Height:"height",Width:"width"},function(a,s){ce.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return R(this,function(e,t,n){var r;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},"undefined"==typeof e&&(ie.jQuery=ie.$=ce),ce});
;
/* @license GNU-GPL-2.0-or-later https://www.drupal.org/licensing/faq */
window.drupalTranslations={"strings":{"":{"1 sec\u0003@count sec":"@count \u0441\u0435\u043a.\u0003@count \u0441\u0435\u043a.\u0003@count[2] \u0441\u0435\u043a.","Save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","An AJAX HTTP error occurred.":"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 AJAX HTTP \u043e\u0448\u0438\u0431\u043a\u0430.","HTTP Result Code: !status":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 HTTP: !status","An AJAX HTTP request terminated abnormally.":"AJAX HTTP-\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d.","Debugging information follows.":"\u0421\u043b\u0435\u0434\u0443\u0435\u0442 \u043e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f.","Path: !uri":"\u041f\u0443\u0442\u044c: !uri","StatusText: !statusText":"\u0422\u0435\u043a\u0441\u0442 \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f: !statusText","ResponseText: !responseText":"\u0422\u0435\u043a\u0441\u0442 \u041e\u0442\u0432\u0435\u0442\u0430: !responseText","ReadyState: !readyState":"ReadyState: !readyState","CustomMessage: !customMessage":"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: !customMessage","Please wait...":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...","The response failed verification so will not be processed.":"\u041e\u0442\u0432\u0435\u0442 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0431\u0443\u0434\u0435\u0442.","The callback URL is not local and not trusted: !url":"URL-\u0430\u0434\u0440\u0435\u0441 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0432\u044b\u0437\u043e\u0432\u0430 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0434\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u043c: !url","Changed":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435","Home":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","Next":"\u0412\u043f\u0435\u0440\u0451\u0434","List":"\u0421\u043f\u0438\u0441\u043e\u043a","closed":"\u0437\u0430\u043a\u0440\u044b\u0442\u043e","Cancel":"\u041e\u0442\u043c\u0435\u043d\u0430","Disabled":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e","Enabled":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e","new":"\u043d\u043e\u0432\u043e\u0435","Download":"\u0421\u043a\u0430\u0447\u0430\u0442\u044c","Edit":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","Link":"\u0421\u0441\u044b\u043b\u043a\u0430","Image":"Image","Open":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c","Sunday":"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","Monday":"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","Tuesday":"\u0432\u0442\u043e\u0440\u043d\u0438\u043a","Wednesday":"\u0441\u0440\u0435\u0434\u0430","Thursday":"\u0447\u0435\u0442\u0432\u0435\u0440\u0433","Friday":"\u043f\u044f\u0442\u043d\u0438\u0446\u0430","Saturday":"\u0441\u0443\u0431\u0431\u043e\u0442\u0430","Add":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","Continue":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c","Node":"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b","Done":"\u0413\u043e\u0442\u043e\u0432\u043e","1 hour\u0003@count hours":"@count \u0447\u0430\u0441\u0003@count \u0447\u0430\u0441\u0430\u0003@count \u0447\u0430\u0441\u043e\u0432","1 day\u0003@count days":"@count \u0434\u0435\u043d\u044c\u0003@count \u0434\u043d\u044f\u0003@count \u0434\u043d\u0435\u0439","Fields":"\u041f\u043e\u043b\u044f","OK":"OK","Nodes":"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b","Details":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438","Prev":"\u041d\u0430\u0437\u0430\u0434","Mon":"\u043f\u043d","Tue":"\u0432\u0442","Wed":"\u0441\u0440","Thu":"\u0447\u0442","Fri":"\u043f\u0442","Sat":"\u0441\u0431","Sun":"\u0432\u0441","May":"\u041c\u0430\u0439","Install":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","Close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","Add group":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443","Show":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","Select all rows in this table":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b","Deselect all rows in this table":"\u0421\u043d\u044f\u0442\u044c \u043e\u0442\u043c\u0435\u0442\u043a\u0443 \u0441\u043e \u0432\u0441\u0435\u0445 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446\u044b","Today":"\u0421\u0435\u0433\u043e\u0434\u043d\u044f","Jan":"\u044f\u043d\u0432","Feb":"\u0444\u0435\u0432","Mar":"\u043c\u0430\u0440","Apr":"\u0430\u043f\u0440","Jun":"\u0438\u044e\u043d","Jul":"\u0438\u044e\u043b","Aug":"\u0430\u0432\u0433","Sep":"\u0441\u0435\u043d","Oct":"\u043e\u043a\u0442","Nov":"\u043d\u043e\u044f","Dec":"\u0434\u0435\u043a","Extend":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f","Su":"\u0432\u0441","Mo":"\u043f\u043d","Tu":"\u0432\u0442","We":"\u0441\u0440","Th":"\u0447\u0442","Fr":"\u043f\u0442","Sa":"\u0441\u0431","Installed":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e","Not published":"\u041d\u0435 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e","Loading...":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","Apply":"Apply","Grid":"\u0421\u0435\u0442\u043a\u0430","Hide":"\u0421\u043a\u0440\u044b\u0442\u044c","1 new comment\u0003@count new comments":"@count \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439\u0003@count \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0003@count[2] \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432","Unlink":"\u041e\u0442\u0432\u044f\u0437\u0430\u0442\u044c","1 year\u0003@count years":"@count \u0433\u043e\u0434\u0003@count \u0433\u043e\u0434\u0430\u0003@count[2] \u043b\u0435\u0442","1 week\u0003@count weeks":"@count \u043d\u0435\u0434\u0435\u043b\u044f\u0003@count \u043d\u0435\u0434\u0435\u043b\u0438\u0003@count[2] \u043d\u0435\u0434\u0435\u043b\u044c","1 min\u0003@count min":"@count \u043c\u0438\u043d.\u0003@count \u043c\u0438\u043d.\u0003@count[2] \u043c\u0438\u043d.","Not promoted":"\u041d\u0435 \u0432\u044b\u0432\u0435\u0434\u0435\u043d\u043e \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e","mm\/dd\/yy":"mm\/dd\/yy","Error message":"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435","Quick edit":"\u0411\u044b\u0441\u0442\u0440\u043e\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","1 month\u0003@count months":"@count \u043c\u0435\u0441\u044f\u0446\u0003@count \u043c\u0435\u0441\u044f\u0446\u0430\u0003@count[2] \u043c\u0435\u0441\u044f\u0446\u0435\u0432","button":"\u043a\u043d\u043e\u043f\u043a\u0430","Warning message":"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435","Edit Link":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","Remove group":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443","By @name on @date":"@name, @date","By @name":"@name","Not in menu":"\u041d\u0435 \u0432 \u043c\u0435\u043d\u044e","Alias: @alias":"\u0421\u0438\u043d\u043e\u043d\u0438\u043c: @alias","No alias":"\u0421\u0438\u043d\u043e\u043d\u0438\u043c \u043d\u0435 \u0437\u0430\u0434\u0430\u043d","@label":"@label","0 sec":"0 \u0441\u0435\u043a","New revision":"\u041d\u043e\u0432\u0430\u044f \u0440\u0435\u0434\u0430\u043a\u0446\u0438\u044f","Placeholder":"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c","Drag to re-order":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043c\u043e\u0436\u043d\u043e, \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0432 \u043f\u0443\u043d\u043a\u0442 \u043c\u044b\u0448\u043a\u043e\u0439.","Changes made in this table will not be saved until the form is submitted.":"\u0421\u0434\u0435\u043b\u0430\u043d\u043d\u044b\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0432\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u0441\u0438\u043b\u0443, \u043f\u043e\u043a\u0430 \u0432\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0438\u0445.","Discard changes":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","Show description":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","New group":"\u041d\u043e\u0432\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430","Saving":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435","This permission is inherited from the authenticated user role.":"\u042d\u0442\u043e \u043f\u0440\u0430\u0432\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0442 \u0440\u043e\u043b\u0438 \u00ab\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u00bb.","No revision":"\u041d\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0446\u0438\u0438","Requires a title":"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","Not restricted":"\u0411\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439","(active tab)":"(\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0432\u043a\u043b\u0430\u0434\u043a\u0430)","Status message":"\u0421\u0442\u0430\u0442\u0443\u0441","Restricted to certain pages":"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446","The block cannot be placed in this region.":"\u0411\u043b\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0449\u0451\u043d \u0432 \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438.","Hide summary":"\u0421\u043a\u0440\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043a\u043e\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435","Edit summary":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0430\u0442\u043a\u043e\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435","Don\u0027t display post information":"\u041d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438","Collapse":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c","The selected file %filename cannot be uploaded. Only files with the following extensions are allowed: %extensions.":"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b %filename \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f\u043c\u0438: %extensions.","Re-order rows by numerical weight instead of dragging.":"\u0423\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u043e \u0432\u0435\u0441\u0443 \u0432\u043c\u0435\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f.","Show row weights":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0435\u0441 \u0441\u0442\u0440\u043e\u043a","Hide row weights":"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u0435\u0441 \u0441\u0442\u0440\u043e\u043a","Apply (all displays)":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c (\u0432\u0441\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f)","Apply (this display)":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c (\u0434\u0430\u043d\u043d\u043e\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435)","Revert to default":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u043a \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e","Hide description":"\u0421\u043a\u0440\u044b\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","You have unsaved changes":"\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","Needs to be updated":"\u041d\u0443\u0436\u0434\u0430\u0435\u0442\u0441\u044f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438","Does not need to be updated":"\u041d\u0435 \u043d\u0443\u0436\u0434\u0430\u0435\u0442\u0441\u044f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438","Show all columns":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b","Show table cells that were hidden to make the table fit within a small screen.":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u044b\u043b\u0438 \u0441\u043a\u0440\u044b\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043d\u0430 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u043e\u043c \u044d\u043a\u0440\u0430\u043d\u0435.","List additional actions":"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439","Flag other translations as outdated":"\u041f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b \u043a\u0430\u043a \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0435","Do not flag other translations as outdated":"\u041d\u0435 \u043f\u043e\u043c\u0435\u0447\u0430\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b \u043a\u0430\u043a \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0435","opened":"\u041e\u0442\u043a\u0440\u044b\u0442\u043e","Horizontal orientation":"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0440\u0438\u0435\u043d\u0442\u0430\u0446\u0438\u044f","Vertical orientation":"\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0440\u0438\u0435\u043d\u0442\u0430\u0446\u0438\u044f","You have unsaved changes.":"\u0415\u0441\u0442\u044c \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f.","Available buttons":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043a\u043d\u043e\u043f\u043a\u0438","Active toolbar":"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c","No styles configured":"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0438\u043b\u0438","@count styles configured":"\u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043e @count \u0441\u0442\u0438\u043b\u044c\r\n\u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043e @count \u0441\u0442\u0438\u043b\u044f\r\n\u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043e @count[2] \u0441\u0442\u0438\u043b\u0435\u0439","@action @title configuration options":"@action @title \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","Tabbing is no longer constrained by the Contextual module.":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043a\u043b\u0430\u0434\u043e\u043a \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e \u043c\u043e\u0434\u0443\u043b\u0435\u043c Context.","Press the esc key to exit.":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 ESC \u0434\u043b\u044f \u0432\u044b\u0445\u043e\u0434\u0430.","@count contextual link\u0003@count contextual links":"@count \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430\u0003@count \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0445 \u0441\u0441\u044b\u043b\u043a\u0438\u0003@count[2] \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a","Based on the text editor configuration, these tags have automatically been added: \u003Cstrong\u003E@tag-list\u003C\/strong\u003E.":"\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0442\u0435\u0433\u0438 \u0431\u044b\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u003Cstrong\u003E@tag-list\u003C\/strong\u003E.","!tour_item of !total":"!tour_item \u0438\u0437 !total","End tour":"\u041a\u043e\u043d\u0435\u0446 \u0442\u0443\u0440\u0430","Uploads disabled":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b","Uploads enabled, max size: @size @dimensions":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440: @size @dimensions","Discard changes?":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?","The toolbar cannot be set to a horizontal orientation when it is locked.":"\u041f\u0430\u043d\u0435\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0432 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u0433\u0434\u0430 \u043e\u043d\u0430 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430.","Button divider":"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u043a\u043d\u043e\u043f\u043a\u0438","Hide group names":"\u0421\u043a\u0440\u044b\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f","Show group names":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f","@groupName button group in position @position of @positionCount in row @row of @rowCount.":"\u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043d\u043e\u043f\u043e\u043a @groupName \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 @position \u0438\u0437 @positionCount \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 @row \u0438\u0437 @rowCount.","Press the down arrow key to create a new row.":"\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 \u0022\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043d\u0438\u0437\u0022.","@name @type.":"@name @type.","Press the down arrow key to activate.":"\u0414\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 \u0022\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043d\u0438\u0437\u0022.","@name @type in position @position of @positionCount in @groupName button group in row @row of @rowCount.":"@type @name \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 @position \u0438\u0437 @positionCount \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u043a\u043d\u043e\u043f\u043e\u043a @groupName \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 @row \u0438\u0437 @rowCount.","Press the down arrow key to create a new button group in a new row.":"\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043d\u043e\u043f\u043e\u043a \u043d\u0430 \u043d\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 \u0022\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043d\u0438\u0437\u0022.","This is the last group. Move the button forward to create a new group.":"\u042d\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0433\u0440\u0443\u043f\u043f\u0430. \u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u043f\u0435\u0440\u0451\u0434.","The \u0022@name\u0022 button is currently enabled.":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0022@name\u0022 \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430.","Use the keyboard arrow keys to change the position of this button.":"\u0414\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u0441\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c\u0438 \u043d\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435.","Press the up arrow key on the top row to disable the button.":"\u0427\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 \u0022\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u0432\u0435\u0440\u0445\u0022 \u043d\u0430 \u0432\u0435\u0440\u0445\u043d\u0435\u0439 \u0441\u0442\u0440\u043e\u043a\u0435.","The \u0022@name\u0022 button is currently disabled.":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0022@name\u0022 \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430.","Use the down arrow key to move this button into the active toolbar.":"\u0427\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 \u0022\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043d\u0438\u0437\u0022 \u043d\u0430 \u043d\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432.","This @name is currently enabled.":"@name \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e.","Use the keyboard arrow keys to change the position of this separator.":"\u0414\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438 \u0441\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c\u0438 \u043d\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435.","Separators are used to visually split individual buttons.":"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0432\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043a\u043d\u043e\u043f\u043e\u043a.","This @name is currently disabled.":"@name \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e.","Use the down arrow key to move this separator into the active toolbar.":"\u0427\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 \u0022\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043d\u0438\u0437\u0022","You may add multiple separators to each button group.":"\u041a \u043a\u0430\u0436\u0434\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043a\u043d\u043e\u043f\u043e\u043a \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u0435\u0439.","Please provide a name for the button group.":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043d\u043e\u043f\u043e\u043a.","Button group name":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043d\u043e\u043f\u043e\u043a","Editing the name of the new button group in a dialog.":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043d\u043e\u043f\u043e\u043a \u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u0435.","Editing the name of the \u0022@groupName\u0022 button group in a dialog.":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u043d\u043e\u043f\u043e\u043a \u0022@groupName\u0022 \u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u0435.","Place a button to create a new button group.":"\u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0433\u0440\u0443\u043f\u043f\u0443 \u043a\u043d\u043e\u043f\u043e\u043a \u0440\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443.","Add a CKEditor button group to the end of this row.":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u043a\u043d\u043e\u043f\u043e\u043a CKEditor \u0432 \u043a\u043e\u043d\u0435\u0446 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438.","Changing the text format to %text_format will permanently remove content that is not allowed in that text format.\u003Cbr\u003E\u003Cbr\u003ESave your changes before switching the text format to avoid losing data.":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043d\u0430 %text_format \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435, \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0435 \u0432 \u043d\u043e\u0432\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435.\u003Cbr\u003E\u003Cbr\u003E\u0414\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u0435\u0440\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0434 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0430.","Change text format?":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442 \u0442\u0435\u043a\u0441\u0442\u0430?","Rich Text Editor, !label field":"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0430, \u043f\u043e\u043b\u0435 !label","Hide lower priority columns":"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u0441 \u043d\u0438\u0437\u043a\u0438\u043c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c","!modules modules are available in the modified list.":"\u041c\u043e\u0434\u0443\u043b\u0438 !modules \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435.","Network problem!":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u0435\u0442\u044c\u044e!","Authored on @date":"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u0432 @date","1 block is available in the modified list.\u0003@count blocks are available in the modified list.":"\u0412 \u0438\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d 1 \u0431\u043b\u043e\u043a.\u0003\u0412 \u0438\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e @count \u0431\u043b\u043e\u043a\u0430.\u0003\u0412 \u0438\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e @count \u0431\u043b\u043e\u043a\u043e\u0432.","Could not load the form for \u003Cq\u003E@field-label\u003C\/q\u003E, either due to a website problem or a network connection problem.\u003Cbr\u003EPlease try again.":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u003Cq\u003E@field-label\u003C\/q\u003E \u0438\u0437-\u0437\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u043e\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0442\u0435\u0432\u044b\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c. \u003Cbr\u003E\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.","Your changes to \u003Cq\u003E@entity-title\u003C\/q\u003E could not be saved, either due to a website problem or a network connection problem.\u003Cbr\u003EPlease try again.":"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0430\u0448\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u003Cq\u003E@entity-title\u003C\/q\u003E \u0438\u0437-\u0437\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u043e\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0442\u0435\u0432\u044b\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c. \u003Cbr\u003E\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.","Tray orientation changed to @orientation.":"\u041e\u0440\u0438\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u0430\u043d\u0435\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u043d\u0430 @orientation.","Tray \u0022@tray\u0022 @action.":"\u041f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0022@tray\u0022 @action.","Tray @action.":"\u041f\u0430\u043d\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447 @action.","Tabbing is constrained to a set of @contextualsCount and the edit mode toggle.":"\u0412\u043a\u043b\u0430\u0434\u043a\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0430 \u043d\u0430\u0431\u043e\u0440\u043e\u043c @contextualsCount \u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0435\u043c \u0440\u0435\u0436\u0438\u043c\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.","Add or drag new file":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b","Results":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b","item":"\u043f\u0443\u043d\u043a\u0442","items":"\u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432","Collapse all":"C\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435","Expand all":"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435","Last":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439","First":"\u041f\u0435\u0440\u0432\u044b\u0439","Insert this token into your form":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0442\u043e\u043a\u0435\u043d \u0432 \u0432\u0430\u0448\u0443 \u0444\u043e\u0440\u043c\u0443","First click a text field to insert your tokens into.":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d\u044b.","Previous":"\u041d\u0430\u0437\u0430\u0434","Automatic alias":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u0438\u043d\u043e\u043d\u0438\u043c","Select None":"\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0431\u043e\u0440","Select All":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435","Compatible":"\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c","Not compatible":"\u041d\u0435 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e.","Leave preview?":"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440?","Leave preview":"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440","Leaving the preview will cause unsaved changes to be lost. Are you sure you want to leave the preview?":"\u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u043f\u043e\u0442\u0435\u0440\u0435 \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440?","CTRL+Left click will prevent this dialog from showing and proceed to the clicked link.":"CTRL+\u0449\u0435\u043b\u0447\u043e\u043a \u043b\u0435\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043c\u044b\u0448\u0438 \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043d\u0430\u0436\u0430\u0442\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435.","optional":"\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e","required":"\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e","1 item selected\u0003@count items selected":"\u0412\u044b\u0431\u0440\u0430\u043d 1 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0003@count \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043e\u0003@count \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0432\u044b\u0431\u0440\u0430\u043d\u043e","Remove file":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b","GB":"\u0413\u0411","MB":"\u041c\u0411","KB":"\u041a\u0411","TB":"\u0422\u0411","Select date":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443","Text alternative":"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442","Categories":"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438","Browse":"\u041e\u0431\u0437\u043e\u0440"," for ":" \u0434\u043b\u044f ","Categories:":"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438:","Sort by:":"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:","Installing":"\u0418\u0434\u0451\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","No items selected":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"},"Long month name":{"January":"\u044f\u043d\u0432\u0430\u0440\u044f","February":"\u0444\u0435\u0432\u0440\u0430\u043b\u044f","March":"\u043c\u0430\u0440\u0442\u0430","April":"\u0430\u043f\u0440\u0435\u043b\u044f","May":"\u043c\u0430\u044f","June":"\u0438\u044e\u043d\u044f","July":"\u0438\u044e\u043b\u044f","August":"\u0430\u0432\u0433\u0443\u0441\u0442\u0430","September":"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","October":"\u043e\u043a\u0442\u044f\u0431\u0440\u044f","November":"\u043d\u043e\u044f\u0431\u0440\u044f","December":"\u0434\u0435\u043a\u0430\u0431\u0440\u044f"}},"pluralFormula":{"1":0,"2":1,"3":1,"4":1,"21":0,"22":1,"23":1,"24":1,"31":0,"32":1,"33":1,"34":1,"41":0,"42":1,"43":1,"44":1,"51":0,"52":1,"53":1,"54":1,"61":0,"62":1,"63":1,"64":1,"71":0,"72":1,"73":1,"74":1,"81":0,"82":1,"83":1,"84":1,"91":0,"92":1,"93":1,"94":1,"101":0,"102":1,"103":1,"104":1,"121":0,"122":1,"123":1,"124":1,"131":0,"132":1,"133":1,"134":1,"141":0,"142":1,"143":1,"144":1,"151":0,"152":1,"153":1,"154":1,"161":0,"162":1,"163":1,"164":1,"171":0,"172":1,"173":1,"174":1,"181":0,"182":1,"183":1,"184":1,"191":0,"192":1,"193":1,"194":1,"default":2}};;
(function(){const settingsElement=document.querySelector('head > script[type="application/json"][data-drupal-selector="drupal-settings-json"], body > script[type="application/json"][data-drupal-selector="drupal-settings-json"]');window.drupalSettings={};if(settingsElement!==null)window.drupalSettings=JSON.parse(settingsElement.textContent);})();;
window.Drupal={behaviors:{},locale:{}};(function(Drupal,drupalSettings,drupalTranslations,console,Proxy,Reflect){Drupal.throwError=function(error){setTimeout(()=>{throw error;},0);};Drupal.attachBehaviors=function(context,settings){context=context||document;settings=settings||drupalSettings;const behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach((i)=>{if(typeof behaviors[i].attach==='function')try{behaviors[i].attach(context,settings);}catch(e){Drupal.throwError(e);}});};Drupal.detachBehaviors=function(context,settings,trigger){context=context||document;settings=settings||drupalSettings;trigger=trigger||'unload';const behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach((i)=>{if(typeof behaviors[i].detach==='function')try{behaviors[i].detach(context,settings,trigger);}catch(e){Drupal.throwError(e);}});};Drupal.checkPlain=function(str){str=str.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');return str;};Drupal.formatString=function(str,args){const processedArgs={};Object.keys(args||{}).forEach((key)=>{switch(key.charAt(0)){case '@':processedArgs[key]=Drupal.checkPlain(args[key]);break;case '!':processedArgs[key]=args[key];break;default:processedArgs[key]=Drupal.theme('placeholder',args[key]);break;}});return Drupal.stringReplace(str,processedArgs,null);};Drupal.stringReplace=function(str,args,keys){if(str.length===0)return str;if(!Array.isArray(keys)){keys=Object.keys(args||{});keys.sort((a,b)=>a.length-b.length);}if(keys.length===0)return str;const key=keys.pop();const fragments=str.split(key);if(keys.length){for(let i=0;i<fragments.length;i++)fragments[i]=Drupal.stringReplace(fragments[i],args,keys.slice(0));}return fragments.join(args[key]);};Drupal.t=function(str,args,options){options=options||{};options.context=options.context||'';if(typeof drupalTranslations!=='undefined'&&drupalTranslations.strings&&drupalTranslations.strings[options.context]&&drupalTranslations.strings[options.context][str])str=drupalTranslations.strings[options.context][str];if(args)str=Drupal.formatString(str,args);return str;};Drupal.url=function(path){return drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix+path;};Drupal.url.toAbsolute=function(url){const urlParsingNode=document.createElement('a');try{url=decodeURIComponent(url);}catch(e){}urlParsingNode.setAttribute('href',url);return urlParsingNode.cloneNode(false).href;};Drupal.url.isLocal=function(url){let absoluteUrl=Drupal.url.toAbsolute(url);let {protocol}=window.location;if(protocol==='http:'&&absoluteUrl.indexOf('https:')===0)protocol='https:';let baseUrl=`${protocol}//${window.location.host}${drupalSettings.path.baseUrl.slice(0,-1)}`;try{absoluteUrl=decodeURIComponent(absoluteUrl);}catch(e){}try{baseUrl=decodeURIComponent(baseUrl);}catch(e){}return absoluteUrl===baseUrl||absoluteUrl.indexOf(`${baseUrl}/`)===0;};Drupal.formatPlural=function(count,singular,plural,args,options){args=args||{};args['@count']=count;const pluralDelimiter=drupalSettings.pluralDelimiter;const translations=Drupal.t(singular+pluralDelimiter+plural,args,options).split(pluralDelimiter);let index=0;if(typeof drupalTranslations!=='undefined'&&drupalTranslations.pluralFormula)index=count in drupalTranslations.pluralFormula?drupalTranslations.pluralFormula[count]:drupalTranslations.pluralFormula.default;else{if(args['@count']!==1)index=1;}return translations[index];};Drupal.encodePath=function(item){return window.encodeURIComponent(item).replace(/%2F/g,'/');};Drupal.deprecationError=({message})=>{if(drupalSettings.suppressDeprecationErrors===false&&typeof console!=='undefined'&&console.warn)console.warn(`[Deprecation] ${message}`);};Drupal.deprecatedProperty=({target,deprecatedProperty,message})=>{if(!Proxy||!Reflect)return target;return new Proxy(target,{get:(target,key,...rest)=>{if(key===deprecatedProperty)Drupal.deprecationError({message});return Reflect.get(target,key,...rest);}});};Drupal.theme=function(func,...args){if(func in Drupal.theme)return Drupal.theme[func](...args);};Drupal.theme.placeholder=function(str){return `<em class="placeholder">${Drupal.checkPlain(str)}</em>`;};})(Drupal,window.drupalSettings,window.drupalTranslations,window.console,window.Proxy,window.Reflect);;
if(window.jQuery)jQuery.noConflict();document.documentElement.className+=' js';(function(Drupal,drupalSettings){const domReady=(callback)=>{const listener=()=>{callback();document.removeEventListener('DOMContentLoaded',listener);};if(document.readyState!=='loading')setTimeout(callback,0);else document.addEventListener('DOMContentLoaded',listener);};domReady(()=>{Drupal.attachBehaviors(document,drupalSettings);});})(Drupal,window.drupalSettings);;
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.axios=t():e.axios=t();}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports;}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r});},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t];}.bind(null,o));return r;},n.n=function(e){var t=e&&e.__esModule?function(){return e.default;}:function(){return e;};return n.d(t,"a",t),t;},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},n.p="",n(n.s=13);}([function(e,t,n){"use strict";var r,o=n(4),i=Object.prototype.toString,s=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase());});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e;};}function u(e){return Array.isArray(e);}function c(e){return void 0===e;}var f=a("ArrayBuffer");function l(e){return null!==e&&"object"==typeof e;}function p(e){if("object"!==s(e))return !1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype;}var d=a("Date"),h=a("File"),m=a("Blob"),v=a("FileList");function y(e){return "[object Function]"===i.call(e);}var g=a("URLSearchParams");function E(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e);}var b,O=(b="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b;});e.exports={isArray:u,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e);},isFormData:function(e){return e&&("function"==typeof FormData&&e instanceof FormData||"[object FormData]"===i.call(e)||y(e.toString)&&"[object FormData]"===e.toString());},isArrayBufferView:function(e){return "undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer);},isString:function(e){return "string"==typeof e;},isNumber:function(e){return "number"==typeof e;},isObject:l,isPlainObject:p,isUndefined:c,isDate:d,isFile:h,isBlob:m,isFunction:y,isStream:function(e){return l(e)&&y(e.pipe);},isURLSearchParams:g,isStandardBrowserEnv:function(){return ("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document);},forEach:E,merge:function e(){var t={};function n(n,r){p(t[r])&&p(n)?t[r]=e(t[r],n):p(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n;}for(var r=0,o=arguments.length;r<o;r++)E(arguments[r],n);return t;},extend:function(e,t,n){return E(t,(function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t;})),e;},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"");},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e;},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n);},toFlatObject:function(e,t,n){var r,o,i,s={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-->0;)s[i=r[o]]||(t[i]=e[i],s[i]=!0);e=Object.getPrototypeOf(e);}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t;},kindOf:s,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return -1!==r&&r===n;},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-->0;)n[t]=e[t];return n;},isTypedArray:O,isFileList:v};},function(e,t,n){"use strict";var r=n(0);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o);}r.inherits(o,Error,{toJSON:function(){return {message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null};}});var i=o.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e};})),Object.defineProperties(o,s),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,n,s,a,u){var c=Object.create(i);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype;})),o.call(c,e.message,t,n,s,a),c.name=e.name,u&&Object.assign(c,u),c;},e.exports=o;},function(e,t,n){"use strict";var r=n(1);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError";}n(0).inherits(o,r,{__CANCEL__:!0}),e.exports=o;},function(e,t,n){"use strict";var r=n(0),o=n(19),i=n(1),s=n(6),a=n(7),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t);}var f,l={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(f=n(8)),f),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),s=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===s){var u=this.env&&this.env.FormData;return a(n?{"files[]":e}:e,u&&new u());}return i||"application/json"===s?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return (t||JSON.parse)(e),r.trim(e);}catch(e){if("SyntaxError"!==e.name)throw e;}return (n||JSON.stringify)(e);}(e)):e;}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&r.isString(e)&&e.length)try{return JSON.parse(e);}catch(e){if(s){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e;}}return e;}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(27)},validateStatus:function(e){return e>=200&&e<300;},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={};})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(u);})),e.exports=l;},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n);};};},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]");}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e));})));})),i=s.join("&");}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i;}return e;};},function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||new FormData();var n=[];function o(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e;}return function e(i,s){if(r.isPlainObject(i)||r.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+s);n.push(i),r.forEach(i,(function(n,i){if(!r.isUndefined(n)){var a,u=s?s+"."+i:i;if(n&&!s&&"object"==typeof n)if(r.endsWith(i,"{}"))n=JSON.stringify(n);else{if(r.endsWith(i,"[]")&&(a=r.toArray(n)))return void a.forEach((function(e){!r.isUndefined(e)&&t.append(u,o(e));}));}e(n,u);}})),n.pop();}else t.append(s,o(i));}(e),t;};},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(21),s=n(5),a=n(9),u=n(24),c=n(25),f=n(6),l=n(1),p=n(2),d=n(26);e.exports=function(e){return new Promise((function(t,n){var h,m=e.data,v=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h);}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete v["Content-Type"];var E=new XMLHttpRequest();if(e.auth){var b=e.auth.username||"",O=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+O);}var x=a(e.baseURL,e.url);function w(){if(E){var r="getAllResponseHeaders" in E?u(E.getAllResponseHeaders()):null,i={data:y&&"text"!==y&&"json"!==y?E.response:E.responseText,status:E.status,statusText:E.statusText,headers:r,config:e,request:E};o((function(e){t(e),g();}),(function(e){n(e),g();}),i),E=null;}}if(E.open(e.method.toUpperCase(),s(x,e.params,e.paramsSerializer),!0),E.timeout=e.timeout,"onloadend" in E?E.onloadend=w:E.onreadystatechange=function(){E&&4===E.readyState&&(0!==E.status||E.responseURL&&0===E.responseURL.indexOf("file:"))&&setTimeout(w);},E.onabort=function(){E&&(n(new l("Request aborted",l.ECONNABORTED,e,E)),E=null);},E.onerror=function(){n(new l("Network Error",l.ERR_NETWORK,e,E,E)),E=null;},E.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new l(t,r.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,e,E)),E=null;},r.isStandardBrowserEnv()){var R=(e.withCredentials||c(x))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;R&&(v[e.xsrfHeaderName]=R);}"setRequestHeader" in E&&r.forEach(v,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete v[t]:E.setRequestHeader(t,e);})),r.isUndefined(e.withCredentials)||(E.withCredentials=!!e.withCredentials),y&&"json"!==y&&(E.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&E.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&E.upload&&E.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){E&&(n(!e||e&&e.type?new p():e),E.abort(),E=null);},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),m||(m=null);var S=d(x);S&&-1===["http","https","file"].indexOf(S)?n(new l("Unsupported protocol "+S+":",l.ERR_BAD_REQUEST,e)):E.send(m);}));};},function(e,t,n){"use strict";var r=n(22),o=n(23);e.exports=function(e,t){return e&&!r(t)?o(e,t):t;};},function(e,t,n){"use strict";e.exports=function(e){return !(!e||!e.__CANCEL__);};},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t;}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n]);}function s(e){if(!r.isUndefined(t[e]))return o(void 0,t[e]);}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n]);}function u(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0;}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);r.isUndefined(o)&&t!==u||(n[e]=o);})),n;};},function(e,t){e.exports={version:"0.27.2"};},function(e,t,n){e.exports=n(14);},function(e,t,n){"use strict";var r=n(0),o=n(4),i=n(15),s=n(11);var a=function e(t){var n=new i(t),a=o(i.prototype.request,n);return r.extend(a,i.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n));},a;}(n(3));a.Axios=i,a.CanceledError=n(2),a.CancelToken=n(29),a.isCancel=n(10),a.VERSION=n(12).version,a.toFormData=n(7),a.AxiosError=n(1),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e);},a.spread=n(30),a.isAxiosError=n(31),e.exports=a,e.exports.default=a;},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(16),s=n(17),a=n(11),u=n(9),c=n(28),f=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i(),response:new i()};}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:f.transitional(f.boolean),forcedJSONParsing:f.transitional(f.boolean),clarifyTimeoutError:f.transitional(f.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected));}));var i,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected);})),!o){var l=[s,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(u),i=Promise.resolve(t);l.length;)i=i.then(l.shift(),l.shift());return i;}for(var p=t;r.length;){var d=r.shift(),h=r.shift();try{p=d(p);}catch(e){h(e);break;}}try{i=s(p);}catch(e){return Promise.reject(e);}for(;u.length;)i=i.then(u.shift(),u.shift());return i;},l.prototype.getUri=function(e){e=a(this.defaults,e);var t=u(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer);},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}));};})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}));};}l.prototype[e]=t(),l.prototype[e+"Form"]=t(!0);})),e.exports=l;},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[];}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1;},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null);},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t);}));},e.exports=o;},function(e,t,n){"use strict";var r=n(0),o=n(18),i=n(10),s=n(3),a=n(2);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a();}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t];})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t;}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t);}));};},function(e,t,n){"use strict";var r=n(0),o=n(3);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t);})),e;};},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r]);}));};},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n);};},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ");},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null;},remove:function(e){this.write(e,"",Date.now()-864e5);}}:{write:function(){},read:function(){return null;},remove:function(){}};},function(e,t,n){"use strict";e.exports=function(e){return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);};},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e;};},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n;}})),s):s;};},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname};}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host;};}():function(){return !0;};},function(e,t,n){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||"";};},function(e,t){e.exports=null;},function(e,t,n){"use strict";var r=n(12).version,o=n(1),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e;};}));var s={};i.transitional=function(e,t,n){function i(e,t){return "[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"");}return function(n,r,a){if(!1===e)throw new o(i(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a);};},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-->0;){var s=r[i],a=t[s];if(a){var u=e[s],c=void 0===u||a(u,s,e);if(!0!==c)throw new o("option "+s+" must be "+c,o.ERR_BAD_OPTION_VALUE);}else{if(!0!==n)throw new o("Unknown option "+s,o.ERR_BAD_OPTION);}}},validators:i};},function(e,t,n){"use strict";var r=n(2);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e;}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null;}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e;})).then(e);return r.cancel=function(){n.unsubscribe(t);},r;},e((function(e){n.reason||(n.reason=new r(e),t(n.reason));}));}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason;},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e];},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1);}},o.source=function(){var e;return {token:new o((function(t){e=t;})),cancel:e};},e.exports=o;},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t);};};},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError;};}]);}));;
axios.defaults.headers['X-Requested-With']='XMLHttpRequest';function updateCurrency(key,value,type){return new CustomEvent('setCurrency',{detail:{key,value,type}});}function getCurrency(key){return localStorage.getItem(key)||'rub';}function setCurrency(key,value,type){localStorage.setItem(key,value);window.dispatchEvent(updateCurrency(key,value,type));}function updatePrice(currency){document.body.setAttribute('data-currency',currency);let currencies__array={'rub':'₽','usd':'$','eur':'€'};let currencies=currencies__array[currency];let prices=document.querySelectorAll('.price-box .num')||[];prices.forEach((price)=>{price.innerHTML=price.getAttribute(`data-${currency}`);price.parentNode.querySelector('.cu .s').innerHTML=currencies;});document.body.classList.add('currency-update');}function setCurrencies(currency){let filter__currency=document.querySelectorAll('#filter-main .currency .item')||[];let widget__currency=document.querySelectorAll('.widget .widget__content__radio')||[];filter__currency.forEach((currency__item)=>{currency__item.classList.remove('active');let type=currency__item.getAttribute('data-cy')||null;if(type===null)return;if(type===currency){currency__item.classList.add('active');let filter=document.querySelector('#filter-main');if(filter){let event=new Event('clickUpdate');event.target=currency__item;filter.dispatchEvent(event);}}});widget__currency.forEach((currency__item)=>{currency__item.classList.remove('active');let type=currency__item.getAttribute('data-currency_key')||null;if(type===null)return;if(type===currency){currency__item.classList.add('active');let type__symbol=currency__item.getAttribute('data-currency_symbol')||null;if(type__symbol===null)return;let toggle__symbol=document.querySelector('.widget .widget__toggler__currency span')||null;if(toggle__symbol===null)return;toggle__symbol.textContent=type__symbol;}});}let currency=getCurrency('currency');setCurrencies(currency);updatePrice(currency);window.addEventListener('setCurrency',(e)=>{let type=e.detail.type;if(e.detail.key==='currency'){let filter__currency=document.querySelectorAll('#filter-main .currency .item')||[];let widget__currency=document.querySelectorAll('.widget .widget__content__radio')||[];let currency=getCurrency('currency')||'rub';if(type==='filter')filter__currency.forEach((currency__item)=>{if(currency__item.classList.contains('active')){let type=currency__item.getAttribute('data-cy')||null;if(type===null)return;currency=type;}});if(type==='widget')widget__currency.forEach((currency__item)=>{if(currency__item.classList.contains('active')){let type=currency__item.getAttribute('data-currency_key')||null;if(type===null)return;currency=type;}});setCurrencies(currency);axios.post('/system/options',`data="${JSON.stringify({'type':'currency','currency':currency})}"`).then(()=>{updatePrice(currency);});}});window.addEventListener('DOMContentLoaded',()=>{let input=document.querySelector('input[name="currency"]');if(!input)return;if(getCurrency('currency')!=='rub')input.value=getCurrency('currency');});window.homehunterEventListener=function(eventName,parentSelector,selector,eventHandler){let el=document.querySelector(parentSelector);if(!el)return;if(selector){const wrappedHandler=(e)=>{if(!e.target)return;const el=e.target.closest(selector);if(el){const newEvent=Object.create(e,{target:{value:el}});eventHandler.call(el,newEvent);}};el.addEventListener(eventName,wrappedHandler);return wrappedHandler;}else{const wrappedHandler=(e)=>{eventHandler.call(el,e);};el.addEventListener(eventName,wrappedHandler);return wrappedHandler;}};window.homehunterHighlight=function(elements,type){function innerHighlight(node,type){let skip=0;if(node.nodeType===3){let pos=node.data.toUpperCase().indexOf(type);if(pos>=0){let span_node=document.createElement('span');span_node.className='find';let middlebit=node.splitText(pos);let endbit=middlebit.splitText(type.length);let middleclone=middlebit.cloneNode(true);span_node.appendChild(middleclone);middlebit.parentNode.replaceChild(span_node,middlebit);skip=1;}}else{if(node.nodeType==1&&node.childNodes&&!/(script|style)/i.test(node.tagName)){for(let i=0;i<node.childNodes.length;++i)i+=innerHighlight(node.childNodes[i],type);}}return skip;}return (elements.length&&type&&type.length)?elements.forEach((element)=>innerHighlight(element,type.toUpperCase())):elements;};window.homehunterDelay=(function(){let timer=0;return function(callback,delay){clearTimeout(timer);timer=setTimeout(callback,delay);};})();window.homehunterLoadScript=function(src,callback){let isLoadedScript=false;let scripts=document.querySelectorAll('script');scripts.forEach((script)=>{if(script.src===src)isLoadedScript=true;});if(!isLoadedScript){let script=document.createElement('script');script.src=src;script.async=true;script.onload=()=>callback(script);document.head.append(script);}};window.homehunterOptions={delay:1000};;
class Modal{id='';disableScroll=false;onShow=()=>{};onHide=()=>{};openClass='micromodal__slide__opened';trigger='';constructor({id,disableScroll,onShow,onHide,openClass}){this.id=id||'';this.disableScroll=disableScroll||false;this.onShow=onShow||(()=>{});this.onHide=onHide||(()=>{});this.openClass=openClass||'micromodal__slide__opened';this.modal=document.getElementById(this.id);if(this.modal!==null){this.modal.classList.add('init');document.body.addEventListener('click',(event)=>{this.showHandler(event);},{passive:true});document.body.addEventListener('mousedown',(event)=>{this.hideHandler(event);},{passive:true});}else console.error('Modal ID not found.');}disabledScroll(){if(this.disableScroll){let body=document.body;if(window.innerWidth>768){this.modal.querySelector('.micromodal__overlay').style.paddingRight='15px';body.style.transition='unset';}body.style.overflow='hidden';if(window.innerWidth>768)body.style.paddingRight='15px';}}activateScroll(){if(this.disableScroll){let body=document.body;if(window.innerWidth>768)this.modal.querySelector('.micromodal__overlay').style.paddingRight=null;body.style.overflow=null;if(window.innerWidth>768){body.style.paddingRight=null;setTimeout(()=>{body.style.transition=null;},1);}}}escapeHandler(){if(event.keyCode===27)this.hide();}showHandler(){if(event.target.closest(`[data-micromodal-trigger="${this.id}"]`)){this.trigger=event.target;if(event.target.classList.contains('actions-item')){let object__id=event.target.closest('.favoriteControl').getAttribute('data-object_id');this.modal.setAttribute('data-object-id',object__id);}this.modal.style.display='block';setTimeout(()=>{this.modal.classList.add(this.openClass);this.disabledScroll();this.onShow(this);},1);document.addEventListener('keydown',(event)=>{this.escapeHandler(event);});}}hideHandler(){if(event.target.getAttribute('data-micromodal-close')!==null&&event.which===1){if(event.target.closest('.micromodal__slide').getAttribute('id')!==this.id)return;this.modal.classList.remove(this.openClass);setTimeout(()=>{this.modal.style.display='none';},350);this.activateScroll();this.onHide();document.removeEventListener('keydown',this.escapeHandler);}}show(){this.modal.style.display='block';setTimeout(()=>{this.modal.classList.add(this.openClass);this.disabledScroll();this.onShow();},350);}hide(){this.modal.classList.remove(this.openClass);this.activateScroll();this.onHide();setTimeout(()=>{this.modal.style.display='none';},350);}};
class Notification{constructor(){let notificationContainerElement=document.body.querySelector('.notification')||null;if(notificationContainerElement===null){notificationContainerElement=document.createElement('div');notificationContainerElement.classList.add('notification');document.body.appendChild(notificationContainerElement);}this.controller=notificationContainerElement;}create(options){const {message='',type='success',duration=5000}=options||{};const id=Date.now()+Math.random();const notification=document.createElement('div');const notificationId=`${id}`;notification.classList.add('notification__item');notification.setAttribute('notification-id',notificationId);this.controller.appendChild(notification);notification.innerHTML=`
			<span class="notification__icon notification__icon__${type}"></span>
			<p class="notification__content">${message}</p>
			<span class="notification__close"></span>
		`;const notificationClose=notification.querySelector('.notification__close');notificationClose.addEventListener('click',()=>this.removeHandler(notification),{passive:true});setTimeout(()=>{this.createAnimation(notification);},1);setTimeout(()=>{this.removeHandler(notification);},duration);return id;}remove(id){const notification=document.querySelector(`[notification-id="${id}"]`);this.removeAnimation.bind(notification);}removeHandler(notification){notification.addEventListener('transitionend',()=>notification.remove());this.removeAnimation(notification);}removeAnimation(notification){notification.classList.add('notification__item__removed');}createAnimation(notification){notification.classList.add('notification__item__created');}};
class Tooltip{content='';position='';tooltip=document.createElement('div');tooltip_parent='';tooltip_margin=12;tooltip_timer;constructor({content,position,parent}){this.content=content||'';this.position=position||'top center';this.tooltip_parent=parent;this.tooltip.id=this.getId();this.tooltip.classList.add('tooltip');this.tooltip.innerHTML=this.content;this.position=this.position.split(' ');this.mouseEnter();this.mouserLeave();return this.tooltip;}mouseEnter(){this.tooltip_parent.addEventListener('mouseenter',()=>{let document_tooltip=this.tooltip;document.body.append(document_tooltip);document_tooltip.style.top=this.calculateY();document_tooltip.style.left=this.calculateX();document_tooltip.style.opacity='1';document_tooltip.style.transform='translateY(0px)';clearTimeout(this.tooltip_timer);});}mouserLeave(){this.tooltip_parent.addEventListener('mouseleave',()=>{let document_tooltip=document.getElementById(this.tooltip.id);if(!document_tooltip)return;document_tooltip.style.opacity='0';if(this.tooltip.classList.contains('top'))document_tooltip.style.transform='translateY(-4px)';else document_tooltip.style.transform='translateY(4px)';this.tooltip_timer=setTimeout(()=>{document_tooltip.remove();},350);});}calculateY(){let y_position=this.position[0]||'top';let y=0;let tooltip_parent_rect=this.tooltip_parent.getBoundingClientRect();let tooltip_parent_styles=getComputedStyle(this.tooltip_parent);let tooltip_rect=this.tooltip.getBoundingClientRect();switch(y_position){case 'top':y=(window.pageYOffset+tooltip_parent_rect.top)-(tooltip_rect.height-parseFloat(tooltip_parent_styles.paddingTop))-this.tooltip_margin;this.tooltip.classList.add('tooltip__top');break;case 'bottom':y=(window.pageYOffset+tooltip_parent_rect.top)+tooltip_parent_rect.height+this.tooltip_margin;this.tooltip.classList.add('tooltip__bottom');break;}return y+'px';}calculateX(){let x_position=this.position[1]||'center';let x=0;let tooltip_parent_rect=this.tooltip_parent.getBoundingClientRect();let tooltip_rect=this.tooltip.getBoundingClientRect();switch(x_position){case 'left':x=tooltip_parent_rect.x;this.tooltip.classList.add('tooltip__left');break;case 'center':x=tooltip_parent_rect.x+(tooltip_parent_rect.width/2)-(tooltip_rect.width/2);this.tooltip.classList.add('tooltip__center');break;case 'right':x=tooltip_parent_rect.x+tooltip_parent_rect.width-tooltip_rect.width;this.tooltip.classList.add('tooltip__right');break;}return x+'px';}getId(){return 'tooltip_'+(Math.floor(Math.random()*(9999999999))+99999);}}if(document.body.classList.contains('user-557')){let tooltips=document.querySelectorAll('[data-tooltip]');tooltips.forEach((item)=>{item.classList.add('inited');let content=item.dataset.tooltip;let position=item.dataset.tooltipPosition;new Tooltip({content,position,parent:item});});}function tooltip(){let tooltips=document.querySelectorAll('[data-tooltip]:not(.inited)');tooltips.forEach((el)=>{let tooltip;let tooltipID='tooltip'+(Math.floor(Math.random()*(9999999999-99999))+99999);let parentText=el.textContent;let parentClass=el.className;function mobileScroll(){el.dispatchEvent(new Event('mousewheel'));}function clickOnElement(event){if(event.target.closest('.vscomp-ele'))return;if(event.type==='touchend'){let tooltiped=document.querySelectorAll('.tooltip.tooltip-enter');tooltiped.forEach((tip)=>tip.remove());}let target=el;let xml=document.querySelector('.page-node-19385');let xml2=document.querySelector('.page-node-18303');let tooltipData=el.dataset.tooltip;let tooltipPos;if(xml||xml2)tooltipPos='top';else tooltipPos=target.dataset.position||'top';if(!tooltipData)return;tooltip=document.createElement('div');tooltip.className=`tooltip ${tooltipPos} ${tooltipID}`;tooltip.setAttribute('data-parent',parentText);tooltip.setAttribute('data-class',parentClass);tooltip.innerHTML=tooltipData;document.body.append(tooltip);let coords=target.getBoundingClientRect();let top;let left;switch(tooltipPos){case 'top':if(xml!==null||xml2!==null||parentText==='Ещё адреса'){top=coords.top+window.scrollY-tooltip.offsetHeight-8;left=coords.left+window.scrollX+8;}else{top=coords.top+window.scrollY-tooltip.offsetHeight-8;left=coords.left+window.scrollX+(target.offsetWidth-tooltip.offsetWidth)/2;}break;case 'left':top=coords.top+window.scrollY+(target.offsetHeight-tooltip.offsetHeight)/2;left=coords.left+window.scrollX-tooltip.offsetWidth-8;break;case 'right':top=coords.top+window.scrollY+(target.offsetHeight-tooltip.offsetHeight)/2;left=coords.left+window.scrollX+target.offsetWidth+8;break;case 'bottom':top=coords.top+window.scrollY+target.offsetHeight+8;left=coords.left+window.scrollX+(target.offsetWidth-tooltip.offsetWidth)/2;break;default:top=coords.top+window.scrollY-tooltip.offsetHeight-8;left=coords.left+window.scrollX+(target.offsetWidth-tooltip.offsetWidth)/2;break;}if(top<0){top=coords.top+window.scrollY+target.offsetHeight+8;left=coords.left+window.scrollX+(target.offsetWidth-tooltip.offsetWidth)/2;tooltip.className=`tooltip bottom ${tooltipID}`;}if(top+tooltip.offsetHeight+8>window.scrollY+window.innerHeight){top=coords.top+window.scrollY-tooltip.offsetHeight-8;left=coords.left+window.scrollX+(target.offsetWidth-tooltip.offsetWidth)/2;tooltip.className=`tooltip top ${tooltipID}`;}if(left<0){top=coords.top+window.scrollY+(target.offsetHeight-tooltip.offsetHeight)/2;left=coords.left+window.scrollX+target.offsetWidth+8;tooltip.className=`tooltip right ${tooltipID}`;}if(left+tooltip.offsetWidth+8>window.innerWidth){top=coords.top+window.scrollY+(target.offsetHeight-tooltip.offsetHeight)/2;left=coords.left+window.scrollX-tooltip.offsetWidth-8;tooltip.className=`tooltip left ${tooltipID}`;}if(left<0){top=coords.top+window.scrollY+(target.offsetHeight-tooltip.offsetHeight)/2;left=coords.left+window.scrollX+target.offsetWidth+8;if(left+tooltip.offsetWidth+8>window.innerWidth){top=coords.top+window.scrollY-tooltip.offsetHeight-8;left=coords.left+window.scrollX+(target.offsetWidth-tooltip.offsetWidth)/2;tooltip.className=`tooltip top ${tooltipID}`;}}if(!el.classList.contains('tmb__content__tag'))if(window.innerWidth<=568){left=8;if((coords.top+coords.height)<(tooltip.offsetHeight+coords.height+8))top=coords.top+coords.height+8;}tooltip.style.top=top+'px';tooltip.style.left=left+'px';tooltip.classList.add('tooltip-enter');if(xml!==null||xml2!==null)tooltip.style['text-align']='left';document.body.addEventListener('touchmove',mobileScroll,{passive:false});}if(window.innerWidth>568){el.addEventListener('mouseenter',clickOnElement);el.addEventListener('mouseleave',function(){if(tooltip){tooltip.classList.add('tooltip-exit');setTimeout(function(){document.querySelectorAll(`.${tooltipID}`).forEach((el)=>el.remove());tooltip=null;},150);}document.body.removeEventListener('touchmove',mobileScroll);});}if(window.innerWidth<568)el.addEventListener('touchend',clickOnElement);el.addEventListener('mousewheel',function(){if(tooltip){tooltip.classList.add('tooltip-exit');setTimeout(function(){document.querySelectorAll(`.${tooltipID}`).forEach((el)=>el.remove());tooltip=null;},150);}document.body.removeEventListener('touchmove',mobileScroll);},{passive:false});});}tooltip();function mobileMoreAddresses(){let tooltiped=document.querySelector('.node-type-property .more-address-btn.tooltipped')||null;if(tooltiped===null)return;let tooltipedContent=tooltiped.getAttribute('data-tooltip');tooltiped.outerHTML=tooltiped.outerHTML;let addressModalElement=document.createElement('div');addressModalElement.classList.add('address__modal');addressModalElement.classList.add('micromodal__slide');addressModalElement.setAttribute('id','address__modal');let addressModalOverlay=document.createElement('div');addressModalOverlay.classList.add('address__modal__overlay');addressModalOverlay.setAttribute('data-micromodal-close','');addressModalOverlay.setAttribute('aria-hidden','true');let addressModalContainer=document.createElement('div');addressModalContainer.classList.add('address__modal__container');let addressModalHeader=document.createElement('div');addressModalHeader.classList.add('address__modal__header');addressModalHeader.innerHTML=`<span class="address__modal__close" data-micromodal-close></span>Адреса`;let addressModalContent=document.createElement('div');addressModalContent.classList.add('address__modal__content');addressModalContent.innerHTML=tooltipedContent;addressModalElement.appendChild(addressModalOverlay);addressModalOverlay.appendChild(addressModalContainer);addressModalContainer.appendChild(addressModalHeader);addressModalContainer.appendChild(addressModalContent);document.body.appendChild(addressModalElement);const modal=new Modal({id:'address__modal',disableScroll:true});document.querySelector('.node-type-property .more-address-btn.tooltipped').addEventListener('click',function(){modal.show();});}if(window.innerWidth<868)document.addEventListener('DOMContentLoaded',mobileMoreAddresses);;
class Share{parent='';popup={url:document.URL,title:document.title,top:(window.outerHeight-600)/2,left:(window.outerWidth-800)/2,width:800,height:600};constructor({parent}){this.parent=parent;if(this.parent.dataset.url)this.popup.url=this.parent.dataset.url;if(this.parent.dataset.title)this.popup.title=this.parent.dataset.title;this.toggler=this.parent.querySelector('.share-toggler');this.socials=this.parent.querySelectorAll('.share-social');this.copy=this.parent.querySelector('.share-copy');this.copy_item=this.copy.querySelector('.share-copy-item');if(window.innerWidth>869){this.socials.forEach((social)=>{let social__icon=social.querySelector('.share-social-icon');let social__type=social__icon.dataset.type;social.addEventListener('click',()=>{this.handleClick(social__type);});social.addEventListener('click',()=>{this.handleClickCounter();},{once:true});});this.copy.addEventListener('click',()=>{navigator.clipboard.writeText(this.popup.url).then(()=>{this.copy_item.classList.add("copied");this.copy_item.querySelector(".share-copy-text").textContent="Ссылка скопирована";});setTimeout(()=>{this.copy_item.classList.remove("copied");this.copy_item.querySelector(".share-copy-text").textContent="Скопировать ссылку";},5000);});this.copy.addEventListener('click',()=>{yaCounter50743261.reachGoal('sharelink');},{once:true});}else{this.toggler.addEventListener('click',()=>{navigator.share({url:this.popup.url,title:this.popup.title});});this.toggler.addEventListener('click',()=>{yaCounter50743261.reachGoal('sharelink');},{once:true});}this.parent.classList.add('inited');}handleClick(type){event.preventDefault();let url="";switch(type){case "vk":url=`https://vk.com/share.php?url=${encodeURIComponent(this.popup.url)}&title=${encodeURIComponent(this.popup.title)}&noparse=true`;break;case "fb":url=`https://www.facebook.com/v2.5/dialog/share?app_id=681114281993063&display=popup&href=${encodeURIComponent(this.popup.url)}&locale=en_US&sdk=joey&title=${encodeURIComponent(this.popup.title)}&version=v2.5`;break;case "tg":url=`https://t.me/share/url?url=${encodeURIComponent(this.popup.url)}&text=${encodeURIComponent(this.popup.title)}`;break;case "wa":url=`https://api.whatsapp.com/send?text=${encodeURIComponent(this.popup.url)}`;break;case "vb":url=`viber://forward?text=${encodeURIComponent(this.popup.url)}`;break;}window.open(url,"",`width=${this.popup.width}, height=${this.popup.height}, scrollbars=0, top=${this.popup.top}, left=${this.popup.left}`);}handleClickCounter(){yaCounter50743261.reachGoal('sharelink');}}function shareInit(){const shares=document.querySelectorAll(".share:not(.inited)");shares.forEach((share)=>{new Share({parent:share});});};
function poselokToggler(){let togglers=document.querySelectorAll('.tmb__content__toggler');togglers.forEach((toggle)=>{toggle.addEventListener('click',function(){if(this.classList.contains('active'))this.classList.remove('active');else this.classList.add('active');let objects=document.querySelector(`[data-title="${this.dataset.objects}"]`)||null;if(objects===null)return;if(objects.classList.contains('active')){objects.classList.remove('active');objects.style['max-height']=0+'px';objects.style['padding-top']=0+'px';}else{objects.classList.add('active');objects.style['max-height']=objects.scrollHeight+36+'px';objects.style['padding-top']=36+'px';}});});let closeTogglers=document.querySelectorAll('.poselok-toggler');closeTogglers.forEach((el)=>{el.addEventListener('click',function(){if(this.parentNode.classList.contains('active')){this.parentNode.classList.remove('active');this.parentNode.style['max-height']=0+'px';this.parentNode.style['padding-top']=0+'px';}else{this.parentNode.classList.add('active');this.parentNode.style['max-height']=this.parentNode.scrollHeight+36+'px';this.parentNode.style['padding-top']=36+'px';}let toggler=document.querySelector(`[data-objects="${this.parentNode.dataset.title}"]`)||null;if(toggler===null)return;if(toggler.classList.contains('active'))toggler.classList.remove('active');else toggler.classList.add('active');});});}function poselokHeight(){let objects=document.querySelectorAll('.poselok-objects');objects.forEach((object)=>{object.style.height=object.scrollHeight+36+'px';});}poselokHeight();poselokToggler();;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e();}(this,function(){"use strict";function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),o.push.apply(o,n)),o;}function M(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t));});}return o;}function o(t){return (o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t;}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t;})(t);}function a(){return (a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);}return t;}).apply(this,arguments);}function i(t,e){if(null==t)return {};var n,o=function(t,e){if(null==t)return {};for(var n,o={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o;}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n]);return o;}function r(t){return function(t){if(Array.isArray(t))return l(t);}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t);}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return "Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0;}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o;}function t(t){if("undefined"!=typeof window&&window.navigator)return !!navigator.userAgent.match(t);}var y=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),w=t(/Edge/i),s=t(/firefox/i),u=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),c=t(/chrome/i)&&t(/android/i),d={capture:!1,passive:!1};function h(t,e,n){t.addEventListener(e,n,!y&&d);}function f(t,e,n){t.removeEventListener(e,n,!y&&d);}function p(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e);}catch(t){return;}}function N(t,e,n,o){if(t){n=n||document;do if(null!=e&&(">"!==e[0]||t.parentNode===n)&&p(t,e)||o&&t===n)return t;while(t!==n&&(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode));}var i;return null;}var g,m=/\s+/g;function I(t,e,n){var o;t&&e&&(t.classList?t.classList[n?"add":"remove"](e):(o=(" "+t.className+" ").replace(m," ").replace(" "+e+" "," "),t.className=(o+(n?" "+e:"")).replace(m," ")));}function P(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=!(e in o||-1!==e.indexOf("webkit"))?"-webkit-"+e:e]=n+("string"==typeof n?"":"px");}}function v(t,e){var n="";if("string"==typeof t)n=t;else do var o=P(t,"transform");while(o&&"none"!==o&&(n=o+" "+n),!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n);}function b(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o;}return [];}function O(){var t=document.scrollingElement;return t||document.documentElement;}function k(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,a,l,s,c,u,d=t!==window&&t.parentNode&&t!==O()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(i=i||t.parentNode,!y))do if(i&&i.getBoundingClientRect&&("none"!==P(i,"transform")||n&&"static"!==P(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(P(i,"border-top-width")),l-=h.left+parseInt(P(i,"border-left-width")),s=a+r.height,c=l+r.width;break;}while(i=i.parentNode);return o&&t!==window&&(o=(e=v(i||t))&&e.a,t=e&&e.d,e&&(s=(a/=t)+(u/=t),c=(l/=o)+(d/=o))),{top:a,left:l,bottom:s,right:c,width:d,height:u};}}function R(t,e,n){for(var o=A(t,!0),i=k(t)[e];o;){var r=k(o)[n];if(!("top"===n||"left"===n?r<=i:i<=r))return o;if(o===O())break;o=A(o,!1);}return !1;}function X(t,e,n,o){for(var i=0,r=0,a=t.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==Bt.ghost&&(o||a[r]!==Bt.dragged)&&N(a[r],n.draggable,t,!1)){if(i===e)return a[r];i++;}r++;}return null;}function Y(t,e){for(var n=t.lastElementChild;n&&(n===Bt.ghost||"none"===P(n,"display")||e&&!p(n,e));)n=n.previousElementSibling;return n||null;}function B(t,e){var n=0;if(!t||!t.parentNode)return -1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!p(t,e)||n++;return n;}function E(t){var e=0,n=0,o=O();if(t)do var i=v(t),r=i.a,i=i.d;while(e+=t.scrollLeft*r,n+=t.scrollTop*i,t!==o&&(t=t.parentNode));return [e,n];}function A(t,e){if(!t||!t.getBoundingClientRect)return O();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=P(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(o||e)return n;o=!0;}}while(n=n.parentNode);return O();}function D(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width);}function S(e,n){return function(){var t;g||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),g=setTimeout(function(){g=void 0;},n));};}function F(t,e,n){t.scrollLeft+=e,t.scrollTop+=n;}function _(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0);}function C(t,e){P(t,"position","absolute"),P(t,"top",e.top),P(t,"left",e.left),P(t,"width",e.width),P(t,"height",e.height);}function T(t){P(t,"position",""),P(t,"top",""),P(t,"left",""),P(t,"width",""),P(t,"height","");}var j="Sortable"+(new Date()).getTime();function x(){var e,o=[];return {captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;"none"!==P(t,"display")&&t!==Bt.ghost&&(o.push({target:t,rect:k(t)}),e=M({},o[o.length-1].rect),!t.thisAnimationDuration||(n=v(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e);});},addAnimationState:function(t){o.push(t);},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return -1;}(o,{target:t}),1);},animateAll:function(t){var c=this;if(!this.options.animation)return clearTimeout(e),void ("function"==typeof t&&t());var u=!1,d=0;o.forEach(function(t){var e=0,n=t.target,o=n.fromRect,i=k(n),r=n.prevFromRect,a=n.prevToRect,l=t.rect,s=v(n,!0);s&&(i.top-=s.f,i.left-=s.e),n.toRect=i,n.thisAnimationDuration&&D(r,i)&&!D(o,i)&&(l.top-i.top)/(l.left-i.left)==(o.top-i.top)/(o.left-i.left)&&(t=l,s=r,r=a,a=c.options,e=Math.sqrt(Math.pow(s.top-t.top,2)+Math.pow(s.left-t.left,2))/Math.sqrt(Math.pow(s.top-r.top,2)+Math.pow(s.left-r.left,2))*a.animation),D(i,o)||(n.prevFromRect=o,n.prevToRect=i,e=e||c.options.animation,c.animate(n,l,i,e)),e&&(u=!0,d=Math.max(d,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null;},e),n.thisAnimationDuration=e);}),clearTimeout(e),u?e=setTimeout(function(){"function"==typeof t&&t();},d):"function"==typeof t&&t(),o=[];},animate:function(t,e,n,o){var i,r;o&&(P(t,"transition",""),P(t,"transform",""),i=(r=v(this.el))&&r.a,r=r&&r.d,i=(e.left-n.left)/(i||1),r=(e.top-n.top)/(r||1),t.animatingX=!!i,t.animatingY=!!r,P(t,"transform","translate3d("+i+"px,"+r+"px,0)"),this.forRepaintDummy=t.offsetWidth,P(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),P(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){P(t,"transition",""),P(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1;},o));}};}var H=[],L={initializeByDefault:!0},K={mount:function(e){for(var t in L)!L.hasOwnProperty(t)||t in e||(e[t]=L[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw "Sortable: Cannot mount plugin ".concat(e.pluginName," more than once");}),H.push(e);},pluginEvent:function(e,n,o){var t=this;this.eventCanceled=!1,o.cancel=function(){t.eventCanceled=!0;};var i=e+"Global";H.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][i]&&n[t.pluginName][i](M({sortable:n},o)),n.options[t.pluginName]&&n[t.pluginName][e]&&n[t.pluginName][e](M({sortable:n},o)));});},initializePlugins:function(n,o,i,t){for(var e in H.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,o,n.options)).sortable=n,t.options=n.options,n[e]=t,a(i,t.defaults));}),n.options){var r;n.options.hasOwnProperty(e)&&(void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r));}},getEventProperties:function(e,n){var o={};return H.forEach(function(t){"function"==typeof t.eventProperties&&a(o,t.eventProperties.call(n[t.pluginName],e));}),o;},modifyOption:function(e,n,o){var i;return H.forEach(function(t){e[t.pluginName]&&t.optionListeners&&"function"==typeof t.optionListeners[n]&&(i=t.optionListeners[n].call(e[t.pluginName],o));}),i;}};function W(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[j]){var g,m=e.options,t="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||y||w?(g=document.createEvent("Event")).initEvent(o,!0,!0):g=new CustomEvent(o,{bubbles:!0,cancelable:!0}),g.to=a||n,g.from=l||n,g.item=i||n,g.clone=r,g.oldIndex=s,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var v,b=M(M({},p),K.getEventProperties(o,e));for(v in b)g[v]=b[v];n&&n.dispatchEvent(g),m[t]&&m[t].call(e,g);}}function z(t,e){var n=(o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,o=i(o,G);K.pluginEvent.bind(Bt)(t,e,M({dragEl:q,parentEl:V,ghostEl:Z,rootEl:$,nextEl:Q,lastDownEl:J,cloneEl:tt,cloneHidden:et,dragStarted:pt,putSortable:lt,activeSortable:Bt.active,originalEvent:n,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt,hideGhostForTarget:kt,unhideGhostForTarget:Rt,cloneNowHidden:function(){et=!0;},cloneNowShown:function(){et=!1;},dispatchSortableEvent:function(t){U({sortable:e,name:t,originalEvent:n});}},o));}var G=["evt"];function U(t){W(M({putSortable:lt,cloneEl:tt,targetEl:q,rootEl:$,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt},t));}var q,V,Z,$,Q,J,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt,ht,ft,pt,gt,mt,vt,bt,yt=!1,wt=!1,Et=[],Dt=!1,St=!1,_t=[],Ct=!1,Tt=[],xt="undefined"!=typeof document,Ot=n,At=w||y?"cssFloat":"float",Mt=xt&&!c&&!n&&"draggable" in document.createElement("div"),Nt=function(){if(xt){if(y)return !1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents;}}(),It=function(t,e){var n=P(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=X(t,0,e),r=X(t,1,e),a=i&&P(i),l=r&&P(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+k(i).width,t=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+k(r).width;if("flex"===n.display)return "column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){e="left"===a.float?"left":"right";return !r||"both"!==l.clear&&l.clear!==e?"horizontal":"vertical";}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||o<=s&&"none"===n[At]||r&&"none"===n[At]&&o<s+t)?"vertical":"horizontal";},Pt=function(t){function l(r,a){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||i))return !0;if(null==r||!1===r)return !1;if(a&&"clone"===r)return r;if("function"==typeof r)return l(r(t,e,n,o),a)(t,e,n,o);e=(a?t:e).options.group.name;return !0===r||"string"==typeof r&&r===e||r.join&&-1<r.indexOf(e);};}var e={},n=t.group;n&&"object"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e;},kt=function(){!Nt&&Z&&P(Z,"display","none");},Rt=function(){!Nt&&Z&&P(Z,"display","");};xt&&!c&&document.addEventListener("click",function(t){if(wt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),wt=!1;},!0);function Xt(t){if(q){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,r=t.clientY,Et.some(function(t){var e=t[j].options.emptyInsertThreshold;if(e&&!Y(t)){var n=k(t),o=i>=n.left-e&&i<=n.right+e,e=r>=n.top-e&&r<=n.bottom+e;return o&&e?a=t:void 0;}}),a);if(e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[j]._onDragOver(o);}}var i,r,a;}function Yt(t){q&&q.parentNode[j]._isOutsideThisEl(t.target);}function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[j]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(t,this.options);},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent);},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&"PointerEvent" in window&&!u,emptyInsertThreshold:5};for(n in K.initializePlugins(this,t,i),i)n in e||(e[n]=i[n]);for(o in Pt(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Mt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?h(t,"pointerdown",this._onTapStart):(h(t,"mousedown",this._onTapStart),h(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(h(t,"dragover",this),h(t,"dragenter",this)),Et.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,x());}function Ft(t,e,n,o,i,r,a,l){var s,c,u=t[j],d=u.options.onMove;return !window.CustomEvent||y||w?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||k(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=d?d.call(u,s,a):c;}function jt(t){t.draggable=!1;}function Ht(){Ct=!1;}function Lt(t){return setTimeout(t,0);}function Kt(t){return clearTimeout(t);}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null);},_getDirection:function(t,e){return "function"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction;},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,t=this.options,i=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=t.filter;if(!function(t){Tt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var o=e[n];o.checked&&Tt.push(o);}}(o),!q&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!u||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=N(l,t.draggable,o,!1))&&l.animated||J===l)){if(nt=B(l),it=B(l,t.draggable),"function"==typeof c){if(c.call(this,e,l,this))return U({sortable:n,rootEl:s,name:"filter",targetEl:l,toEl:o,fromEl:o}),z("filter",n,{evt:e}),void (i&&e.cancelable&&e.preventDefault());}else{if(c=c&&c.split(",").some(function(t){if(t=N(s,t.trim(),o,!1))return U({sortable:n,rootEl:t,name:"filter",targetEl:l,fromEl:o,toEl:o}),z("filter",n,{evt:e}),!0;}))return void (i&&e.cancelable&&e.preventDefault());}t.handle&&!N(s,t.handle,o,!1)||this._prepareDragStart(e,a,l);}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!q&&n.parentNode===r&&(o=k(n),$=r,V=(q=n).parentNode,Q=q.nextSibling,J=n,at=a.group,st={target:Bt.dragged=q,clientX:(e||t).clientX,clientY:(e||t).clientY},ht=st.clientX-o.left,ft=st.clientY-o.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,q.style["will-change"]="all",o=function(){z("delayEnded",i,{evt:t}),Bt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!s&&i.nativeDraggable&&(q.draggable=!0),i._triggerDragStart(t,e),U({sortable:i,name:"choose",originalEvent:t}),I(q,a.chosenClass,!0));},a.ignore.split(",").forEach(function(t){b(q,t.trim(),jt);}),h(l,"dragover",Xt),h(l,"mousemove",Xt),h(l,"touchmove",Xt),h(l,"mouseup",i._onDrop),h(l,"touchend",i._onDrop),h(l,"touchcancel",i._onDrop),s&&this.nativeDraggable&&(this.options.touchStartThreshold=4,q.draggable=!0),z("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(w||y)?o():Bt.eventCanceled?this._onDrop():(h(l,"mouseup",i._disableDelayedDrag),h(l,"touchend",i._disableDelayedDrag),h(l,"touchcancel",i._disableDelayedDrag),h(l,"mousemove",i._delayedDragTouchMoveHandler),h(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&h(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)));},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag();},_disableDelayedDrag:function(){q&&jt(q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents();},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;f(t,"mouseup",this._disableDelayedDrag),f(t,"touchend",this._disableDelayedDrag),f(t,"touchcancel",this._disableDelayedDrag),f(t,"mousemove",this._delayedDragTouchMoveHandler),f(t,"touchmove",this._delayedDragTouchMoveHandler),f(t,"pointermove",this._delayedDragTouchMoveHandler);},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?h(document,"pointermove",this._onTouchMove):h(document,e?"touchmove":"mousemove",this._onTouchMove):(h(q,"dragend",this),h($,"dragstart",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty();}):window.getSelection().removeAllRanges();}catch(t){}},_dragStarted:function(t,e){var n;yt=!1,$&&q?(z("dragStarted",this,{evt:e}),this.nativeDraggable&&h(document,"dragover",Yt),n=this.options,t||I(q,n.dragClass,!1),I(q,n.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),U({sortable:this,name:"start",originalEvent:e})):this._nulling();},_emulateDragOver:function(){if(ct){this._lastX=ct.clientX,this._lastY=ct.clientY,kt();for(var t=document.elementFromPoint(ct.clientX,ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ct.clientX,ct.clientY))!==e;)e=t;if(q.parentNode[j]._isOutsideThisEl(t),e)do if(e[j])if(e[j]._onDragOver({clientX:ct.clientX,clientY:ct.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;while(e=(t=e).parentNode);Rt();}},_onTouchMove:function(t){if(st){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=Z&&v(Z,!0),a=Z&&r&&r.a,l=Z&&r&&r.d,e=Ot&&bt&&E(bt),a=(i.clientX-st.clientX+o.x)/(a||1)+(e?e[0]-_t[0]:0)/(a||1),l=(i.clientY-st.clientY+o.y)/(l||1)+(e?e[1]-_t[1]:0)/(l||1);if(!Bt.active&&!yt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0);}Z&&(r?(r.e+=a-(ut||0),r.f+=l-(dt||0)):r={a:1,b:0,c:0,d:1,e:a,f:l},r="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")"),P(Z,"webkitTransform",r),P(Z,"mozTransform",r),P(Z,"msTransform",r),P(Z,"transform",r),ut=a,dt=l,ct=i),t.cancelable&&t.preventDefault();}},_appendGhost:function(){if(!Z){var t=this.options.fallbackOnBody?document.body:$,e=k(q,!0,Ot,!0,t),n=this.options;if(Ot){for(bt=t;"static"===P(bt,"position")&&"none"===P(bt,"transform")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=O()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=O(),_t=E(bt);}I(Z=q.cloneNode(!0),n.ghostClass,!1),I(Z,n.fallbackClass,!0),I(Z,n.dragClass,!0),P(Z,"transition",""),P(Z,"transform",""),P(Z,"box-sizing","border-box"),P(Z,"margin",0),P(Z,"top",e.top),P(Z,"left",e.left),P(Z,"width",e.width),P(Z,"height",e.height),P(Z,"opacity","0.8"),P(Z,"position",Ot?"absolute":"fixed"),P(Z,"zIndex","100000"),P(Z,"pointerEvents","none"),Bt.ghost=Z,t.appendChild(Z),P(Z,"transform-origin",ht/parseInt(Z.style.width)*100+"% "+ft/parseInt(Z.style.height)*100+"%");}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;z("dragStart",this,{evt:t}),Bt.eventCanceled?this._onDrop():(z("setupClone",this),Bt.eventCanceled||((tt=_(q)).removeAttribute("id"),tt.draggable=!1,tt.style["will-change"]="",this._hideClone(),I(tt,this.options.chosenClass,!1),Bt.clone=tt),n.cloneId=Lt(function(){z("clone",n),Bt.eventCanceled||(n.options.removeCloneOnHide||$.insertBefore(tt,q),n._hideClone(),U({sortable:n,name:"clone"}));}),e||I(q,i.dragClass,!0),e?(wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(f(document,"mouseup",n._onDrop),f(document,"touchend",n._onDrop),f(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,q)),h(document,"drop",n),P(q,"transform","translateZ(0)")),yt=!0,n._dragStartId=Lt(n._dragStarted.bind(n,e,t)),h(document,"selectstart",n),pt=!0,u&&P(document.body,"user-select","none"));},_onDragOver:function(n){var o,i,r,t,a=this.el,l=n.target,e=this.options,s=e.group,c=Bt.active,u=at===s,d=e.sort,h=lt||c,f=this,p=!1;if(!Ct){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),l=N(l,e.draggable,a,!0),T("dragOver"),Bt.eventCanceled)return p;if(q.contains(n.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return O(!1);if(wt=!1,c&&!e.disabled&&(u?d||(i=V!==$):lt===this||(this.lastPutMode=at.checkPull(this,c,q,n))&&s.checkPut(this,c,q,n))){if(r="vertical"===this._getDirection(n,l),o=k(q),T("dragOverValid"),Bt.eventCanceled)return p;if(i)return V=$,x(),this._hideClone(),T("revert"),Bt.eventCanceled||(Q?$.insertBefore(q,Q):$.appendChild(q)),O(!0);var g=Y(a,e.draggable);if(!g||function(t,e,n){n=k(Y(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10;}(n,r,this)&&!g.animated){if(g===q)return O(!1);if((l=g&&a===n.target?g:l)&&(w=k(l)),!1!==Ft($,a,q,o,l,w,n,!!l))return x(),g&&g.nextSibling?a.insertBefore(q,g.nextSibling):a.appendChild(q),V=a,A(),O(!0);}else if(g&&function(t,e,n){n=k(X(n.el,0,n.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left;}(n,r,this)){var m=X(a,0,e,!0);if(m===q)return O(!1);if(w=k(l=m),!1!==Ft($,a,q,o,l,w,n,!1))return x(),a.insertBefore(q,m),V=a,A(),O(!0);}else{if(l.parentNode===a){var v,b,y,w=k(l),E=q.parentNode!==a,D=(D=q.animated&&q.toRect||o,C=l.animated&&l.toRect||w,S=(t=r)?D.left:D.top,s=t?D.right:D.bottom,g=t?D.width:D.height,m=t?C.left:C.top,D=t?C.right:C.bottom,C=t?C.width:C.height,!(S===m||s===D||S+g/2===m+C/2)),S=r?"top":"left",g=R(l,"top","top")||R(q,"top","top"),m=g?g.scrollTop:void 0;if(gt!==l&&(b=w[S],Dt=!1,St=!D&&e.invertSwap||E),0!==(v=function(t,e,n,o,i,r,a,l){var s=o?t.clientY:t.clientX,c=o?n.height:n.width,t=o?n.top:n.left,o=o?n.bottom:n.right,n=!1;if(!a)if(l&&vt<c*i)if(Dt=!Dt&&(1===mt?t+c*r/2<s:s<o-c*r/2)?!0:Dt)n=!0;else{if(1===mt?s<t+vt:o-vt<s)return -mt;}else{if(t+c*(1-i)/2<s&&s<o-c*(1-i)/2)return function(t){return B(q)<B(t)?1:-1;}(e);}if((n=n||a)&&(s<t+c*r/2||o-c*r/2<s))return t+c/2<s?1:-1;return 0;}(n,l,w,r,D?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,St,gt===l)))for(var _=B(q);(y=V.children[_-=v])&&("none"===P(y,"display")||y===Z););if(0===v||y===l)return O(!1);mt=v;var C=(gt=l).nextElementSibling,E=!1,D=Ft($,a,q,o,l,w,n,E=1===v);if(!1!==D)return 1!==D&&-1!==D||(E=1===D),Ct=!0,setTimeout(Ht,30),x(),E&&!C?a.appendChild(q):l.parentNode.insertBefore(q,E?C:l),g&&F(g,0,m-g.scrollTop),V=q.parentNode,void 0===b||St||(vt=Math.abs(b-k(l)[S])),A(),O(!0);}}if(a.contains(q))return O(!1);}return !1;}function T(t,e){z(t,f,M({evt:n,isOwner:u,axis:r?"vertical":"horizontal",revert:i,dragRect:o,targetRect:w,canSort:d,fromSortable:h,target:l,completed:O,onMove:function(t,e){return Ft($,a,q,o,t,k(t),n,e);},changed:A},e));}function x(){T("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState();}function O(t){return T("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(f),f!==h&&(I(q,(lt||c).options.ghostClass,!1),I(q,e.ghostClass,!0)),lt!==f&&f!==Bt.active?lt=f:f===Bt.active&&lt&&(lt=null),h===f&&(f._ignoreWhileAnimating=l),f.animateAll(function(){T("dragOverAnimationComplete"),f._ignoreWhileAnimating=null;}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(l===q&&!q.animated||l===a&&!l.animated)&&(gt=null),e.dragoverBubble||n.rootEl||l===document||(q.parentNode[j]._isOutsideThisEl(n.target),t||Xt(n)),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),p=!0;}function A(){ot=B(q),rt=B(q,e.draggable),U({sortable:f,name:"change",toEl:a,newIndex:ot,newDraggableIndex:rt,originalEvent:n});}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,"mousemove",this._onTouchMove),f(document,"touchmove",this._onTouchMove),f(document,"pointermove",this._onTouchMove),f(document,"dragover",Xt),f(document,"mousemove",Xt),f(document,"touchmove",Xt);},_offUpEvents:function(){var t=this.el.ownerDocument;f(t,"mouseup",this._onDrop),f(t,"touchend",this._onDrop),f(t,"pointerup",this._onDrop),f(t,"touchcancel",this._onDrop),f(document,"selectstart",this);},_onDrop:function(t){var e=this.el,n=this.options;ot=B(q),rt=B(q,n.draggable),z("drop",this,{evt:t}),V=q&&q.parentNode,ot=B(q),rt=B(q,n.draggable),Bt.eventCanceled||(Dt=St=yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kt(this.cloneId),Kt(this._dragStartId),this.nativeDraggable&&(f(document,"drop",this),f(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&P(document.body,"user-select",""),P(q,"transform",""),t&&(pt&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),($===V||lt&&"clone"!==lt.lastPutMode)&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),q&&(this.nativeDraggable&&f(q,"dragend",this),jt(q),q.style["will-change"]="",pt&&!yt&&I(q,(lt||this).options.ghostClass,!1),I(q,this.options.chosenClass,!1),U({sortable:this,name:"unchoose",toEl:V,newIndex:null,newDraggableIndex:null,originalEvent:t}),$!==V?(0<=ot&&(U({rootEl:V,name:"add",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:"remove",toEl:V,originalEvent:t}),U({rootEl:V,name:"sort",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:"sort",toEl:V,originalEvent:t})),lt&&lt.save()):ot!==nt&&0<=ot&&(U({sortable:this,name:"update",toEl:V,originalEvent:t}),U({sortable:this,name:"sort",toEl:V,originalEvent:t})),Bt.active&&(null!=ot&&-1!==ot||(ot=nt,rt=it),U({sortable:this,name:"end",toEl:V,originalEvent:t}),this.save())))),this._nulling();},_nulling:function(){z("nulling",this),$=q=V=Z=Q=tt=J=et=st=ct=pt=ot=rt=nt=it=gt=mt=lt=at=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,Tt.forEach(function(t){t.checked=!0;}),Tt.length=ut=dt=0;},handleEvent:function(t){switch(t.type){case "drop":case "dragend":this._onDrop(t);break;case "dragenter":case "dragover":q&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault();}(t));break;case "selectstart":t.preventDefault();}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)N(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;for(;n--;)o+=e.charCodeAt(n);return o.toString(36);}(t));return e;},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){e=o.children[e];N(e,this.options.draggable,o,!1)&&(n[t]=e);},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]));}),e&&this.animateAll();},save:function(){var t=this.options.store;t&&t.set&&t.set(this);},closest:function(t,e){return N(t,e||this.options.draggable,this.el,!1);},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=K.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&Pt(n);},destroy:function(){z("destroy",this);var t=this.el;t[j]=null,f(t,"mousedown",this._onTapStart),f(t,"touchstart",this._onTapStart),f(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(f(t,"dragover",this),f(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable");}),this._onDrop(),this._disableDelayedDragEvents(),Et.splice(Et.indexOf(this.el),1),this.el=t=null;},_hideClone:function(){et||(z("hideClone",this),Bt.eventCanceled||(P(tt,"display","none"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),et=!0));},_showClone:function(t){"clone"===t.lastPutMode?et&&(z("showClone",this),Bt.eventCanceled||(q.parentNode!=$||this.options.group.revertClone?Q?$.insertBefore(tt,Q):$.appendChild(tt):$.insertBefore(tt,q),this.options.group.revertClone&&this.animate(q,tt),P(tt,"display",""),et=!1)):this._hideClone();}},xt&&h(document,"touchmove",function(t){(Bt.active||yt)&&t.cancelable&&t.preventDefault();}),Bt.utils={on:h,off:f,css:P,find:b,is:function(t,e){return !!N(t,e,t,!1);},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t;},throttle:S,closest:N,toggleClass:I,clone:_,index:B,nextTick:Lt,cancelNextTick:Kt,detectDirection:It,getChild:X},Bt.get=function(t){return t[j];},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Bt.utils=M(M({},Bt.utils),t.utils)),K.mount(t);});},Bt.create=function(t,e){return new Bt(t,e);};var Wt,zt,Gt,Ut,qt,Vt,Zt=[],$t=!(Bt.version="1.15.0");function Qt(){Zt.forEach(function(t){clearInterval(t.pid);}),Zt=[];}function Jt(){clearInterval(Vt);}var te,ee=S(function(n,t,e,o){if(t.scroll){var i,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=O(),u=!1;zt!==e&&(zt=e,Qt(),Wt=t.scroll,i=t.scrollFn,!0===Wt&&(Wt=A(e,!0)));var d=0,h=Wt;do{var f=h,p=k(f),g=p.top,m=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,E=void 0,D=void 0,S=f.scrollWidth,_=f.scrollHeight,C=P(f),T=f.scrollLeft,p=f.scrollTop,D=f===c?(E=y<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),w<_&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(E=y<S&&("auto"===C.overflowX||"scroll"===C.overflowX),w<_&&("auto"===C.overflowY||"scroll"===C.overflowY)),T=E&&(Math.abs(b-r)<=l&&T+y<S)-(Math.abs(v-r)<=l&&!!T),p=D&&(Math.abs(m-a)<=l&&p+w<_)-(Math.abs(g-a)<=l&&!!p);if(!Zt[d])for(var x=0;x<=d;x++)Zt[x]||(Zt[x]={});Zt[d].vx==T&&Zt[d].vy==p&&Zt[d].el===f||(Zt[d].el=f,Zt[d].vx=T,Zt[d].vy=p,clearInterval(Zt[d].pid),0==T&&0==p||(u=!0,Zt[d].pid=setInterval(function(){o&&0===this.layer&&Bt.active._onTouchMove(qt);var t=Zt[this.layer].vy?Zt[this.layer].vy*s:0,e=Zt[this.layer].vx?Zt[this.layer].vx*s:0;"function"==typeof i&&"continue"!==i.call(Bt.dragged.parentNode[j],e,t,n,qt,Zt[this.layer].el)||F(Zt[this.layer].el,e,t);}.bind({layer:d}),24))),d++;}while(t.bubbleScroll&&h!==c&&(h=A(h,!1)));$t=u;}},30),c=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(i=n||i,a(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),i&&!i.el.contains(e)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n})));};function ne(){}function oe(){}ne.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t;},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();t=X(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll();},drop:c},a(ne,{pluginName:"revertOnSpill"}),oe.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll();},drop:c},a(oe,{pluginName:"removeOnSpill"});var ie,re,ae,le,se,ce=[],ue=[],de=!1,he=!1,fe=!1;function pe(n,o){ue.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t);});}function ge(){ce.forEach(function(t){t!==ae&&t.parentNode&&t.parentNode.removeChild(t);});}return Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):this.options.supportPointer?h(document,"pointermove",this._handleFallbackAutoScroll):t.touches?h(document,"touchmove",this._handleFallbackAutoScroll):h(document,"mousemove",this._handleFallbackAutoScroll);},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t);},drop:function(){this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):(f(document,"pointermove",this._handleFallbackAutoScroll),f(document,"touchmove",this._handleFallbackAutoScroll),f(document,"mousemove",this._handleFallbackAutoScroll)),Jt(),Qt(),clearTimeout(g),g=void 0;},nulling:function(){qt=zt=Wt=$t=Vt=Gt=Ut=null,Zt.length=0;},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0);},_handleAutoScroll:function(e,n){var o,i=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,a);qt=e,n||this.options.forceAutoScrollFallback||w||y||u?(ee(e,this.options,t,n),o=A(t,!0),!$t||Vt&&r===Gt&&a===Ut||(Vt&&Jt(),Vt=setInterval(function(){var t=A(document.elementFromPoint(r,a),!0);t!==o&&(o=t,Qt()),ee(e,i.options,t,n);},10),Gt=r,Ut=a)):this.options.bubbleScroll&&A(t,!0)!==O()?ee(e,this.options,A(t,!1),!1):Qt();}},a(t,{pluginName:"scroll",initializeByDefault:!0});}()),Bt.mount(oe,ne),Bt.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"};}return t.prototype={dragStart:function(t){t=t.dragEl;te=t;},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.onMove,i=t.activeSortable,r=t.changed,a=t.cancel;i.options.swap&&(t=this.sortable.el,i=this.options,n&&n!==t&&(t=te,te=!1!==o(n)?(I(n,i.swapClass,!0),n):null,t&&t!==te&&I(t,i.swapClass,!1)),r(),e(!0),a());},drop:function(t){var e,n,o=t.activeSortable,i=t.putSortable,r=t.dragEl,a=i||this.sortable,l=this.options;te&&I(te,l.swapClass,!1),te&&(l.swap||i&&i.options.swap)&&r!==te&&(a.captureAnimationState(),a!==o&&o.captureAnimationState(),n=te,t=(e=r).parentNode,l=n.parentNode,t&&l&&!t.isEqualNode(n)&&!l.isEqualNode(e)&&(i=B(e),r=B(n),t.isEqualNode(l)&&i<r&&r++,t.insertBefore(n,t.children[i]),l.insertBefore(e,l.children[r])),a.animateAll(),a!==o&&o.animateAll());},nulling:function(){te=null;}},a(t,{pluginName:"swap",eventProperties:function(){return {swapItem:te};}});}()),Bt.mount(new function(){function t(o){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));o.options.avoidImplicitDeselect||(o.options.supportPointer?h(document,"pointerup",this._deselectMultiDrag):(h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag))),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,e){var n="";ce.length&&re===o?ce.forEach(function(t,e){n+=(e?", ":"")+t.textContent;}):n=e.textContent,t.setData("Text",n);}};}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl;ae=t;},delayEnded:function(){this.isMultiDrag=~ce.indexOf(ae);},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var n=0;n<ce.length;n++)ue.push(_(ce[n])),ue[n].sortableIndex=ce[n].sortableIndex,ue[n].draggable=!1,ue[n].style["will-change"]="",I(ue[n],this.options.selectedClass,!1),ce[n]===ae&&I(ue[n],this.options.chosenClass,!1);e._hideClone(),t();}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ce.length&&re===e&&(pe(!0,n),o("clone"),t()));},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,t=t.cancel;this.isMultiDrag&&(pe(!1,n),ue.forEach(function(t){P(t,"display","");}),e(),se=!1,t());},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(ue.forEach(function(t){P(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t);}),n(),se=!0,t());},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&re&&re.multiDrag._deselectMultiDrag(),ce.forEach(function(t){t.sortableIndex=B(t);}),ce=ce.sort(function(t,e){return t.sortableIndex-e.sortableIndex;}),fe=!0;},dragStarted:function(t){var e,n=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation&&(ce.forEach(function(t){t!==ae&&P(t,"position","absolute");}),e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&C(t,e);}),de=he=!0)),t.animateAll(function(){de=he=!1,n.options.animation&&ce.forEach(function(t){T(t);}),n.options.sort&&ge();}));},dragOver:function(t){var e=t.target,n=t.completed,t=t.cancel;he&&~ce.indexOf(e)&&(n(!1),t());},revert:function(t){var n,o,e=t.fromSortable,i=t.rootEl,r=t.sortable,a=t.dragRect;1<ce.length&&(ce.forEach(function(t){r.addAnimationState({target:t,rect:he?k(t):a}),T(t),t.fromRect=a,e.removeAnimationState(t);}),he=!1,n=!this.options.removeCloneOnHide,o=i,ce.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t);}));},dragOverCompleted:function(t){var e,n=t.sortable,o=t.isOwner,i=t.insertion,r=t.activeSortable,a=t.parentEl,l=t.putSortable,t=this.options;i&&(o&&r._hideClone(),de=!1,t.animation&&1<ce.length&&(he||!o&&!r.options.sort&&!l)&&(e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&(C(t,e),a.appendChild(t));}),he=!0),o||(he||ge(),1<ce.length?(o=se,r._showClone(n),r.options.animation&&!se&&o&&ue.forEach(function(t){r.addAnimationState({target:t,rect:le}),t.fromRect=le,t.thisAnimationDuration=null;})):r._showClone(n)));},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,t=t.activeSortable;ce.forEach(function(t){t.thisAnimationDuration=null;}),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(le=a({},e),e=v(ae,!0),le.top-=e.f,le.left-=e.e);},dragOverAnimationComplete:function(){he&&(he=!1,ge());},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c,u,d,h=this.options,f=o.children;if(!fe)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(ae,h.selectedClass,!~ce.indexOf(ae)),~ce.indexOf(ae))ce.splice(ce.indexOf(ae),1),ie=null,W({sortable:i,rootEl:n,name:"deselect",targetEl:ae,originalEvent:e});else{if(ce.push(ae),W({sortable:i,rootEl:n,name:"select",targetEl:ae,originalEvent:e}),e.shiftKey&&ie&&i.el.contains(ie)){var p=B(ie),t=B(ae);if(~p&&~t&&p!==t)for(var g,m=p<t?(g=p,t):(g=t,p+1);g<m;g++)~ce.indexOf(f[g])||(I(f[g],h.selectedClass,!0),ce.push(f[g]),W({sortable:i,rootEl:n,name:"select",targetEl:f[g],originalEvent:e}));}else ie=ae;re=s;}fe&&this.isMultiDrag&&(he=!1,(o[j].options.sort||o!==n)&&1<ce.length&&(c=k(ae),u=B(ae,":not(."+this.options.selectedClass+")"),!de&&h.animation&&(ae.thisAnimationDuration=null),s.captureAnimationState(),de||(h.animation&&(ae.fromRect=c,ce.forEach(function(t){var e;t.thisAnimationDuration=null,t!==ae&&(e=he?k(t):c,t.fromRect=e,s.addAnimationState({target:t,rect:e}));})),ge(),ce.forEach(function(t){f[u]?o.insertBefore(t,f[u]):o.appendChild(t),u++;}),a===B(ae)&&(d=!1,ce.forEach(function(t){t.sortableIndex!==B(t)&&(d=!0);}),d&&r("update"))),ce.forEach(function(t){T(t);}),s.animateAll()),re=s),(n===o||l&&"clone"!==l.lastPutMode)&&ue.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t);});}},nullingGlobal:function(){this.isMultiDrag=fe=!1,ue.length=0;},destroyGlobal:function(){this._deselectMultiDrag(),f(document,"pointerup",this._deselectMultiDrag),f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp);},_deselectMultiDrag:function(t){if(!(void 0!==fe&&fe||re!==this.sortable||t&&N(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ce.length;){var e=ce[0];I(e,this.options.selectedClass,!1),ce.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvent:t});}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0);},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1);}},a(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[j];e&&e.options.multiDrag&&!~ce.indexOf(t)&&(re&&re!==e&&(re.multiDrag._deselectMultiDrag(),re=e),I(t,e.options.selectedClass,!0),ce.push(t));},deselect:function(t){var e=t.parentNode[j],n=ce.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),ce.splice(n,1));}},eventProperties:function(){var n=this,o=[],i=[];return ce.forEach(function(t){var e;o.push({multiDragElement:t,index:t.sortableIndex}),e=he&&t!==ae?-1:he?B(t,":not(."+n.options.selectedClass+")"):B(t),i.push({multiDragElement:t,index:e});}),{items:r(ce),clones:[].concat(ue),oldIndicies:o,newIndicies:i};},optionListeners:{multiDragKey:function(t){return "ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t;}}});}()),Bt;});;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).IMask={});}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=function(t){return t&&t.Math==Math&&t;},i=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this;}()||Function("return this")(),r={},u=function(t){try{return !!t();}catch(t){return !0;}},s=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7;}})[1];})),a=!u((function(){var t=function(){}.bind();return "function"!=typeof t||t.hasOwnProperty("prototype");})),o=a,l=Function.prototype.call,h=o?l.bind(l):function(){return l.apply(l,arguments);},c={},f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,d=p&&!f.call({1:2},1);c.f=d?function(t){var e=p(this,t);return !!e&&e.enumerable;}:f;var v,g,k=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e};},y=a,m=Function.prototype,b=m.bind,_=m.call,A=y&&b.bind(_,_),C=y?function(t){return t&&A(t);}:function(t){return t&&function(){return _.apply(t,arguments);};},E=C,F=E({}.toString),S=E("".slice),w=function(t){return S(F(t),8,-1);},B=C,D=u,x=w,M=i.Object,O=B("".split),P=D((function(){return !M("z").propertyIsEnumerable(0);}))?function(t){return "String"==x(t)?O(t,""):M(t);}:M,T=i.TypeError,I=function(t){if(null==t)throw T("Can't call method on "+t);return t;},j=P,R=I,V=function(t){return j(R(t));},L=function(t){return "function"==typeof t;},N=L,U=function(t){return "object"==typeof t?null!==t:N(t);},z=i,q=L,H=function(t){return q(t)?t:void 0;},Y=function(t,e){return arguments.length<2?H(z[t]):z[t]&&z[t][e];},Z=C({}.isPrototypeOf),G=Y("navigator","userAgent")||"",K=i,$=G,W=K.process,X=K.Deno,J=W&&W.versions||X&&X.version,Q=J&&J.v8;Q&&(g=(v=Q.split("."))[0]>0&&v[0]<4?1:+(v[0]+v[1])),!g&&$&&(!(v=$.match(/Edge\/(\d+)/))||v[1]>=74)&&(v=$.match(/Chrome\/(\d+)/))&&(g=+v[1]);var tt=g,et=u,nt=!!Object.getOwnPropertySymbols&&!et((function(){var t=Symbol();return !String(t)||!(Object(t) instanceof Symbol)||!Symbol.sham&&tt&&tt<41;})),it=nt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,rt=Y,ut=L,st=Z,at=it,ot=i.Object,lt=at?function(t){return "symbol"==typeof t;}:function(t){var e=rt("Symbol");return ut(e)&&st(e.prototype,ot(t));},ht=i.String,ct=L,ft=function(t){try{return ht(t);}catch(t){return "Object";}},pt=i.TypeError,dt=function(t){if(ct(t))return t;throw pt(ft(t)+" is not a function");},vt=h,gt=L,kt=U,yt=i.TypeError,mt={exports:{}},bt=i,_t=Object.defineProperty,At=function(t,e){try{_t(bt,t,{value:e,configurable:!0,writable:!0});}catch(n){bt[t]=e;}return e;},Ct=At,Et="__core-js_shared__",Ft=i[Et]||Ct(Et,{}),St=Ft;(mt.exports=function(t,e){return St[t]||(St[t]=void 0!==e?e:{});})("versions",[]).push({version:"3.21.0",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"});var wt=I,Bt=i.Object,Dt=function(t){return Bt(wt(t));},xt=Dt,Mt=C({}.hasOwnProperty),Ot=Object.hasOwn||function(t,e){return Mt(xt(t),e);},Pt=C,Tt=0,It=Math.random(),jt=Pt(1..toString),Rt=function(t){return "Symbol("+(void 0===t?"":t)+")_"+jt(++Tt+It,36);},Vt=i,Lt=mt.exports,Nt=Ot,Ut=Rt,zt=nt,qt=it,Ht=Lt("wks"),Yt=Vt.Symbol,Zt=Yt&&Yt.for,Gt=qt?Yt:Yt&&Yt.withoutSetter||Ut,Kt=function(t){if(!Nt(Ht,t)||!zt&&"string"!=typeof Ht[t]){var e="Symbol."+t;zt&&Nt(Yt,t)?Ht[t]=Yt[t]:Ht[t]=qt&&Zt?Zt(e):Gt(e);}return Ht[t];},$t=h,Wt=U,Xt=lt,Jt=function(t,e){var n=t[e];return null==n?void 0:dt(n);},Qt=function(t,e){var n,i;if("string"===e&&gt(n=t.toString)&&!kt(i=vt(n,t)))return i;if(gt(n=t.valueOf)&&!kt(i=vt(n,t)))return i;if("string"!==e&&gt(n=t.toString)&&!kt(i=vt(n,t)))return i;throw yt("Can't convert object to primitive value");},te=Kt,ee=i.TypeError,ne=te("toPrimitive"),ie=function(t,e){if(!Wt(t)||Xt(t))return t;var n,i=Jt(t,ne);if(i){if(void 0===e&&(e="default"),n=$t(i,t,e),!Wt(n)||Xt(n))return n;throw ee("Can't convert object to primitive value");}return void 0===e&&(e="number"),Qt(t,e);},re=lt,ue=function(t){var e=ie(t,"string");return re(e)?e:e+"";},se=U,ae=i.document,oe=se(ae)&&se(ae.createElement),le=function(t){return oe?ae.createElement(t):{};},he=!s&&!u((function(){return 7!=Object.defineProperty(le("div"),"a",{get:function(){return 7;}}).a;})),ce=s,fe=h,pe=c,de=k,ve=V,ge=ue,ke=Ot,ye=he,me=Object.getOwnPropertyDescriptor;r.f=ce?me:function(t,e){if(t=ve(t),e=ge(e),ye)try{return me(t,e);}catch(t){}if(ke(t,e))return de(!fe(pe.f,t,e),t[e]);};var be={},_e=s&&u((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype;})),Ae=i,Ce=U,Ee=Ae.String,Fe=Ae.TypeError,Se=function(t){if(Ce(t))return t;throw Fe(Ee(t)+" is not an object");},we=s,Be=he,De=_e,xe=Se,Me=ue,Oe=i.TypeError,Pe=Object.defineProperty,Te=Object.getOwnPropertyDescriptor,Ie="enumerable",je="configurable",Re="writable";be.f=we?De?function(t,e,n){if(xe(t),e=Me(e),xe(n),"function"==typeof t&&"prototype"===e&&"value" in n&&Re in n&&!n.writable){var i=Te(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:je in n?n.configurable:i.configurable,enumerable:Ie in n?n.enumerable:i.enumerable,writable:!1});}return Pe(t,e,n);}:Pe:function(t,e,n){if(xe(t),e=Me(e),xe(n),Be)try{return Pe(t,e,n);}catch(t){}if("get" in n||"set" in n)throw Oe("Accessors not supported");return "value" in n&&(t[e]=n.value),t;};var Ve=be,Le=k,Ne=s?function(t,e,n){return Ve.f(t,e,Le(1,n));}:function(t,e,n){return t[e]=n,t;},Ue={exports:{}},ze=L,qe=Ft,He=C(Function.toString);ze(qe.inspectSource)||(qe.inspectSource=function(t){return He(t);});var Ye,Ze,Ge,Ke=qe.inspectSource,$e=L,We=Ke,Xe=i.WeakMap,Je=$e(Xe)&&/native code/.test(We(Xe)),Qe=mt.exports,tn=Rt,en=Qe("keys"),nn={},rn=Je,un=i,sn=C,an=U,on=Ne,ln=Ot,hn=Ft,cn=function(t){return en[t]||(en[t]=tn(t));},fn=nn,pn="Object already initialized",dn=un.TypeError,vn=un.WeakMap;if(rn||hn.state){var gn=hn.state||(hn.state=new vn()),kn=sn(gn.get),yn=sn(gn.has),mn=sn(gn.set);Ye=function(t,e){if(yn(gn,t))throw new dn(pn);return e.facade=t,mn(gn,t,e),e;},Ze=function(t){return kn(gn,t)||{};},Ge=function(t){return yn(gn,t);};}else{var bn=cn("state");fn[bn]=!0,Ye=function(t,e){if(ln(t,bn))throw new dn(pn);return e.facade=t,on(t,bn,e),e;},Ze=function(t){return ln(t,bn)?t[bn]:{};},Ge=function(t){return ln(t,bn);};}var _n={set:Ye,get:Ze,has:Ge,enforce:function(t){return Ge(t)?Ze(t):Ye(t,{});},getterFor:function(t){return function(e){var n;if(!an(e)||(n=Ze(e)).type!==t)throw dn("Incompatible receiver, "+t+" required");return n;};}},An=s,Cn=Ot,En=Function.prototype,Fn=An&&Object.getOwnPropertyDescriptor,Sn=Cn(En,"name"),wn=Sn&&"something"===function(){}.name,Bn=Sn&&(!An||An&&Fn(En,"name").configurable),Dn=i,xn=L,Mn=Ot,On=Ne,Pn=At,Tn=Ke,In={EXISTS:Sn,PROPER:wn,CONFIGURABLE:Bn}.CONFIGURABLE,jn=_n.get,Rn=_n.enforce,Vn=String(String).split("String");(Ue.exports=function(t,e,n,i){var r,u=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable,a=!!i&&!!i.noTargetGet,o=i&&void 0!==i.name?i.name:e;xn(n)&&("Symbol("===String(o).slice(0,7)&&(o="["+String(o).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Mn(n,"name")||In&&n.name!==o)&&On(n,"name",o),(r=Rn(n)).source||(r.source=Vn.join("string"==typeof o?o:""))),t!==Dn?(u?!a&&t[e]&&(s=!0):delete t[e],s?t[e]=n:On(t,e,n)):s?t[e]=n:Pn(e,n);})(Function.prototype,"toString",(function(){return xn(this)&&jn(this).source||Tn(this);}));var Ln={},Nn=Math.ceil,Un=Math.floor,zn=function(t){var e=+t;return e!=e||0===e?0:(e>0?Un:Nn)(e);},qn=zn,Hn=Math.max,Yn=Math.min,Zn=zn,Gn=Math.min,Kn=function(t){return t>0?Gn(Zn(t),9007199254740991):0;},$n=Kn,Wn=V,Xn=function(t,e){var n=qn(t);return n<0?Hn(n+e,0):Yn(n,e);},Jn=function(t){return $n(t.length);},Qn=function(t){return function(e,n,i){var r,u=Wn(e),s=Jn(u),a=Xn(i,s);if(t&&n!=n){for(;s>a;)if((r=u[a++])!=r)return !0;}else{for(;s>a;a++)if((t||a in u)&&u[a]===n)return t||a||0;}return !t&&-1;};},ti={includes:Qn(!0),indexOf:Qn(!1)},ei=Ot,ni=V,ii=ti.indexOf,ri=nn,ui=C([].push),si=function(t,e){var n,i=ni(t),r=0,u=[];for(n in i)!ei(ri,n)&&ei(i,n)&&ui(u,n);for(;e.length>r;)ei(i,n=e[r++])&&(~ii(u,n)||ui(u,n));return u;},ai=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],oi=si,li=ai.concat("length","prototype");Ln.f=Object.getOwnPropertyNames||function(t){return oi(t,li);};var hi={};hi.f=Object.getOwnPropertySymbols;var ci=Y,fi=Ln,pi=hi,di=Se,vi=C([].concat),gi=ci("Reflect","ownKeys")||function(t){var e=fi.f(di(t)),n=pi.f;return n?vi(e,n(t)):e;},ki=Ot,yi=gi,mi=r,bi=be,_i=u,Ai=L,Ci=/#|\.prototype\./,Ei=function(t,e){var n=Si[Fi(t)];return n==Bi||n!=wi&&(Ai(e)?_i(e):!!e);},Fi=Ei.normalize=function(t){return String(t).replace(Ci,".").toLowerCase();},Si=Ei.data={},wi=Ei.NATIVE="N",Bi=Ei.POLYFILL="P",Di=Ei,xi=i,Mi=r.f,Oi=Ne,Pi=Ue.exports,Ti=At,Ii=function(t,e,n){for(var i=yi(e),r=bi.f,u=mi.f,s=0;s<i.length;s++){var a=i[s];ki(t,a)||n&&ki(n,a)||r(t,a,u(e,a));}},ji=Di,Ri=function(t,e){var n,i,r,u,s,a=t.target,o=t.global,l=t.stat;if(n=o?xi:l?xi[a]||Ti(a,{}):(xi[a]||{}).prototype)for(i in e){if(u=e[i],r=t.noTargetGet?(s=Mi(n,i))&&s.value:n[i],!ji(o?i:a+(l?".":"#")+i,t.forced)&&void 0!==r){if(typeof u==typeof r)continue;Ii(u,r);}(t.sham||r&&r.sham)&&Oi(u,"sham",!0),Pi(n,i,u,t);}},Vi=si,Li=ai,Ni=Object.keys||function(t){return Vi(t,Li);},Ui=s,zi=C,qi=h,Hi=u,Yi=Ni,Zi=hi,Gi=c,Ki=Dt,$i=P,Wi=Object.assign,Xi=Object.defineProperty,Ji=zi([].concat),Qi=!Wi||Hi((function(){if(Ui&&1!==Wi({b:1},Wi(Xi({},"a",{enumerable:!0,get:function(){Xi(this,"b",{value:3,enumerable:!1});}}),{b:2})).b)return !0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t;})),7!=Wi({},t)[n]||Yi(Wi({},e)).join("")!=i;}))?function(t,e){for(var n=Ki(t),i=arguments.length,r=1,u=Zi.f,s=Gi.f;i>r;)for(var a,o=$i(arguments[r++]),l=u?Ji(Yi(o),u(o)):Yi(o),h=l.length,c=0;h>c;)a=l[c++],Ui&&!qi(s,o,a)||(n[a]=o[a]);return n;}:Wi,tr=Qi;Ri({target:"Object",stat:!0,forced:Object.assign!==tr},{assign:tr});var er={};er[Kt("toStringTag")]="z";var nr=i,ir="[object z]"===String(er),rr=L,ur=w,sr=Kt("toStringTag"),ar=nr.Object,or="Arguments"==ur(function(){return arguments;}()),lr=ir?ur:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof (n=function(t,e){try{return t[e];}catch(t){}}(e=ar(t),sr))?n:or?ur(e):"Object"==(i=ur(e))&&rr(e.callee)?"Arguments":i;},hr=i.String,cr=function(t){if("Symbol"===lr(t))throw TypeError("Cannot convert a Symbol value to a string");return hr(t);},fr=zn,pr=cr,dr=I,vr=i.RangeError,gr=function(t){var e=pr(dr(this)),n="",i=fr(t);if(i<0||i==1/0)throw vr("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n;};Ri({target:"String",proto:!0},{repeat:gr});var kr=C,yr=Kn,mr=cr,br=I,_r=kr(gr),Ar=kr("".slice),Cr=Math.ceil,Er=function(t){return function(e,n,i){var r,u,s=mr(br(e)),a=yr(n),o=s.length,l=void 0===i?" ":mr(i);return a<=o||""==l?s:((u=_r(l,Cr((r=a-o)/l.length))).length>r&&(u=Ar(u,0,r)),t?s+u:u+s);};},Fr={start:Er(!1),end:Er(!0)},Sr=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(G),wr=Fr.start;Ri({target:"String",proto:!0,forced:Sr},{padStart:function(t){return wr(this,t,arguments.length>1?arguments[1]:void 0);}});var Br=Fr.end;function Dr(t){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t;}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t;},Dr(t);}function xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function Mr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value" in i&&(i.writable=!0),Object.defineProperty(t,i.key,i);}}function Or(t,e,n){return e&&Mr(t.prototype,e),n&&Mr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;}function Pr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ir(t,e);}function Tr(t){return Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t);},Tr(t);}function Ir(t,e){return Ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t;},Ir(t,e);}function jr(t,e){if(null==t)return {};var n,i,r=function(t,e){if(null==t)return {};var n,i,r={},u=Object.keys(t);for(i=0;i<u.length;i++)n=u[i],e.indexOf(n)>=0||(r[n]=t[n]);return r;}(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(i=0;i<u.length;i++)n=u[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);}return r;}function Rr(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t;}(t);}function Vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0;}catch(t){return !1;}}();return function(){var n,i=Tr(t);if(e){var r=Tr(this).constructor;n=Reflect.construct(i,arguments,r);}else n=i.apply(this,arguments);return Rr(this,n);};}function Lr(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tr(t)););return t;}function Nr(){return Nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=Lr(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value;}},Nr.apply(this,arguments);}function Ur(t,e,n,i){return Ur="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,u=Lr(t,e);if(u){if((r=Object.getOwnPropertyDescriptor(u,e)).set)return r.set.call(i,n),!0;if(!r.writable)return !1;}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return !1;r.value=n,Object.defineProperty(i,e,r);}else !function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;}(i,e,n);return !0;},Ur(t,e,n,i);}function zr(t,e,n,i,r){if(!Ur(t,e,n,i||t)&&r)throw new Error("failed to set property");return n;}function qr(t,e){return function(t){if(Array.isArray(t))return t;}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,u=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(u.push(i.value),!e||u.length!==e);s=!0);}catch(t){a=!0,r=t;}finally{try{s||null==n.return||n.return();}finally{if(a)throw r;}}return u;}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hr(t,e);}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function Hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i;}Ri({target:"String",proto:!0,forced:Sr},{padEnd:function(t){return Br(this,t,arguments.length>1?arguments[1]:void 0);}}),Ri({global:!0},{globalThis:i});var Yr=function(){function t(e){xr(this,t),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e);}return Or(t,[{key:"aggregate",value:function(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this;}},{key:"offset",get:function(){return this.tailShift+this.inserted.length;}}]),t;}();function Zr(t){return "string"==typeof t||t instanceof String;}var Gr="NONE",Kr="LEFT",$r="FORCE_LEFT",Wr="RIGHT",Xr="FORCE_RIGHT";function Jr(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1");}function Qr(t){return Array.isArray(t)?t:[t,new Yr()];}function tu(t,e){if(e===t)return !0;var n,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if(e.length!=t.length)return !1;for(n=0;n<e.length;n++)if(!tu(e[n],t[n]))return !1;return !0;}if(i!=r)return !1;if(e&&t&&"object"===Dr(e)&&"object"===Dr(t)){var u=e instanceof Date,s=t instanceof Date;if(u&&s)return e.getTime()==t.getTime();if(u!=s)return !1;var a=e instanceof RegExp,o=t instanceof RegExp;if(a&&o)return e.toString()==t.toString();if(a!=o)return !1;var l=Object.keys(e);for(n=0;n<l.length;n++)if(!Object.prototype.hasOwnProperty.call(t,l[n]))return !1;for(n=0;n<l.length;n++)if(!tu(t[l[n]],e[l[n]]))return !1;return !0;}return !(!e||!t||"function"!=typeof e||"function"!=typeof t)&&e.toString()===t.toString();}var eu=function(){function t(e,n,i,r){for(xr(this,t),this.value=e,this.cursorPos=n,this.oldValue=i,this.oldSelection=r;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;}return Or(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start);}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos;}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount);}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0);}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount);}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos);}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount);}},{key:"removeDirection",get:function(){return !this.removedCount||this.insertedCount?Gr:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?Kr:Wr;}}]),t;}(),nu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;xr(this,t),this.value=e,this.from=n,this.stop=i;}return Or(t,[{key:"toString",value:function(){return this.value;}},{key:"extend",value:function(t){this.value+=String(t);}},{key:"appendTo",value:function(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder());}},{key:"state",get:function(){return {value:this.value,from:this.from,stop:this.stop};},set:function(t){Object.assign(this,t);}},{key:"unshift",value:function(t){if(!this.value.length||null!=t&&this.from>=t)return "";var e=this.value[0];return this.value=this.value.slice(1),e;}},{key:"shift",value:function(){if(!this.value.length)return "";var t=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),t;}}]),t;}();function iu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new iu.InputMask(t,e);}var ru=function(){function t(e){xr(this,t),this._value="",this._update(Object.assign({},t.DEFAULTS,e)),this.isInitialized=!0;}return Or(t,[{key:"updateOptions",value:function(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t));}},{key:"_update",value:function(t){Object.assign(this,t);}},{key:"state",get:function(){return {_value:this.value};},set:function(t){this._value=t._value;}},{key:"reset",value:function(){this._value="";}},{key:"value",get:function(){return this._value;},set:function(t){this.resolve(t);}},{key:"resolve",value:function(t){return this.reset(),this.append(t,{input:!0},""),this.doCommit(),this.value;}},{key:"unmaskedValue",get:function(){return this.value;},set:function(t){this.reset(),this.append(t,{},""),this.doCommit();}},{key:"typedValue",get:function(){return this.doParse(this.value);},set:function(t){this.value=this.doFormat(t);}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0});},set:function(t){this.reset(),this.append(t,{raw:!0},""),this.doCommit();}},{key:"isComplete",get:function(){return !0;}},{key:"isFilled",get:function(){return this.isComplete;}},{key:"nearestInputPos",value:function(t,e){return t;}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(t,e);}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new nu(this.extractInput(t,e),t);}},{key:"appendTail",value:function(t){return Zr(t)&&(t=new nu(String(t))),t.appendTo(this);}},{key:"_appendCharRaw",value:function(t){return t?(this._value+=t,new Yr({inserted:t,rawInserted:t})):new Yr();}},{key:"_appendChar",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=this.state,u=Qr(this.doPrepare(t,n)),s=qr(u,2);if(t=s[0],(e=(e=s[1]).aggregate(this._appendCharRaw(t,n))).inserted){var a,o=!1!==this.doValidate(n);if(o&&null!=i){var l=this.state;!0===this.overwrite&&(a=i.state,i.unshift(this.value.length));var h=this.appendTail(i);(o=h.rawInserted===i.toString())&&h.inserted||"shift"!==this.overwrite||(this.state=l,a=i.state,i.shift(),o=(h=this.appendTail(i)).rawInserted===i.toString()),o&&h.inserted&&(this.state=l);}o||(e=new Yr(),this.state=r,i&&a&&(i.state=a));}return e;}},{key:"_appendPlaceholder",value:function(){return new Yr();}},{key:"_appendEager",value:function(){return new Yr();}},{key:"append",value:function(t,e,n){if(!Zr(t))throw new Error("value should be string");var i=new Yr(),r=Zr(n)?new nu(String(n)):n;e&&e.tail&&(e._beforeTailState=this.state);for(var u=0;u<t.length;++u)i.aggregate(this._appendChar(t[u],e,r));return null!=r&&(i.tailShift+=this.appendTail(r).tailShift),this.eager&&null!=e&&e.input&&t&&i.aggregate(this._appendEager()),i;}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,t)+this.value.slice(e),new Yr();}},{key:"withValueRefresh",value:function(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;var e=this.rawInputValue,n=this.value,i=t();return this.rawInputValue=e,this.value&&this.value!==n&&0===n.indexOf(this.value)&&this.append(n.slice(this.value.length),{},""),delete this._refreshing,i;}},{key:"runIsolated",value:function(t){if(this._isolated||!this.isInitialized)return t(this);this._isolated=!0;var e=this.state,n=t(this);return this.state=e,delete this._isolated,n;}},{key:"doPrepare",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(t,this,e):t;}},{key:"doValidate",value:function(t){return (!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t));}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this);}},{key:"doFormat",value:function(t){return this.format?this.format(t,this):t;}},{key:"doParse",value:function(t){return this.parse?this.parse(t,this):t;}},{key:"splice",value:function(t,e,n,i){var r,u=t+e,s=this.extractTail(u);this.eager&&(i=function(t){switch(t){case Kr:return $r;case Wr:return Xr;default:return t;}}(i),r=this.extractInput(0,u,{raw:!0}));var a=this.nearestInputPos(t,e>1&&0!==t&&!this.eager?Gr:i),o=new Yr({tailShift:a-t}).aggregate(this.remove(a));if(this.eager&&i!==Gr&&r===this.rawInputValue)if(i===$r)for(var l;r===this.rawInputValue&&(l=this.value.length);)o.aggregate(new Yr({tailShift:-1})).aggregate(this.remove(l-1));else i===Xr&&s.unshift();return o.aggregate(this.append(n,{input:!0},s));}},{key:"maskEquals",value:function(t){return this.mask===t;}}]),t;}();function uu(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?iu.MaskedRegExp:Zr(t)?iu.MaskedPattern:t instanceof Date||t===Date?iu.MaskedDate:t instanceof Number||"number"==typeof t||t===Number?iu.MaskedNumber:Array.isArray(t)||t===Array?iu.MaskedDynamic:iu.Masked&&t.prototype instanceof iu.Masked?t:t instanceof iu.Masked?t.constructor:t instanceof Function?iu.MaskedFunction:(console.warn("Mask not found for mask",t),iu.Masked);}function su(t){if(iu.Masked&&t instanceof iu.Masked)return t;var e=(t=Object.assign({},t)).mask;if(iu.Masked&&e instanceof iu.Masked)return e;var n=uu(e);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(t);}ru.DEFAULTS={format:function(t){return t;},parse:function(t){return t;}},iu.Masked=ru,iu.createMask=su;var au=["mask"],ou={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},lu=function(){function t(e){xr(this,t);var n=e.mask,i=jr(e,au);this.masked=su({mask:n}),Object.assign(this,i);}return Or(t,[{key:"reset",value:function(){this.isFilled=!1,this.masked.reset();}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===t&&e>=1?(this.isFilled=!1,this.masked.remove(t,e)):new Yr();}},{key:"value",get:function(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"");}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue;}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional;}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isFilled)return new Yr();var n=this.masked.state,i=this.masked._appendChar(t,e);return i.inserted&&!1===this.doValidate(e)&&(i.inserted=i.rawInserted="",this.masked.state=n),i.inserted||this.isOptional||this.lazy||e.input||(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=Boolean(i.inserted),i;}},{key:"append",value:function(){var t;return (t=this.masked).append.apply(t,arguments);}},{key:"_appendPlaceholder",value:function(){var t=new Yr();return this.isFilled||this.isOptional||(this.isFilled=!0,t.inserted=this.placeholderChar),t;}},{key:"_appendEager",value:function(){return new Yr();}},{key:"extractTail",value:function(){var t;return (t=this.masked).extractTail.apply(t,arguments);}},{key:"appendTail",value:function(){var t;return (t=this.masked).appendTail.apply(t,arguments);}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(t,e,n);}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr,n=0,i=this.value.length,r=Math.min(Math.max(t,n),i);switch(e){case Kr:case $r:return this.isComplete?r:n;case Wr:case Xr:return this.isComplete?r:i;default:return r;}}},{key:"doValidate",value:function(){var t,e;return (t=this.masked).doValidate.apply(t,arguments)&&(!this.parent||(e=this.parent).doValidate.apply(e,arguments));}},{key:"doCommit",value:function(){this.masked.doCommit();}},{key:"state",get:function(){return {masked:this.masked.state,isFilled:this.isFilled};},set:function(t){this.masked.state=t.masked,this.isFilled=t.isFilled;}}]),t;}(),hu=function(){function t(e){xr(this,t),Object.assign(this,e),this._value="",this.isFixed=!0;}return Or(t,[{key:"value",get:function(){return this._value;}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:"";}},{key:"reset",value:function(){this._isRawInput=!1,this._value="";}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new Yr();}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr,n=0,i=this._value.length;switch(e){case Kr:case $r:return n;default:return i;}}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.raw&&this._isRawInput&&this._value.slice(t,e)||"";}},{key:"isComplete",get:function(){return !0;}},{key:"isFilled",get:function(){return Boolean(this._value);}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Yr();if(this._value)return n;var i=this.char===t,r=i&&(this.isUnmasking||e.input||e.raw)&&!this.eager&&!e.tail;return r&&(n.rawInserted=this.char),this._value=n.inserted=this.char,this._isRawInput=r&&(e.raw||e.input),n;}},{key:"_appendEager",value:function(){return this._appendChar(this.char);}},{key:"_appendPlaceholder",value:function(){var t=new Yr();return this._value||(this._value=t.inserted=this.char),t;}},{key:"extractTail",value:function(){return arguments.length>1&&void 0!==arguments[1]||this.value.length,new nu("");}},{key:"appendTail",value:function(t){return Zr(t)&&(t=new nu(String(t))),t.appendTo(this);}},{key:"append",value:function(t,e,n){var i=this._appendChar(t[0],e);return null!=n&&(i.tailShift+=this.appendTail(n).tailShift),i;}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return {_value:this._value,_isRawInput:this._isRawInput};},set:function(t){Object.assign(this,t);}}]),t;}(),cu=["chunks"],fu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;xr(this,t),this.chunks=e,this.from=n;}return Or(t,[{key:"toString",value:function(){return this.chunks.map(String).join("");}},{key:"extend",value:function(e){if(String(e)){Zr(e)&&(e=new nu(String(e)));var n=this.chunks[this.chunks.length-1],i=n&&(n.stop===e.stop||null==e.stop)&&e.from===n.from+n.toString().length;if(e instanceof nu)i?n.extend(e.toString()):this.chunks.push(e);else{if(e instanceof t){if(null==e.stop)for(var r;e.chunks.length&&null==e.chunks[0].stop;)(r=e.chunks.shift()).from+=e.from,this.extend(r);e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e));}}}}},{key:"appendTo",value:function(e){if(!(e instanceof iu.MaskedPattern))return new nu(this.toString()).appendTo(e);for(var n=new Yr(),i=0;i<this.chunks.length&&!n.skip;++i){var r=this.chunks[i],u=e._mapPosToBlock(e.value.length),s=r.stop,a=void 0;if(null!=s&&(!u||u.index<=s)&&((r instanceof t||e._stops.indexOf(s)>=0)&&n.aggregate(e._appendPlaceholder(s)),a=r instanceof t&&e._blocks[s]),a){var o=a.appendTail(r);o.skip=!1,n.aggregate(o),e._value+=o.inserted;var l=r.toString().slice(o.rawInserted.length);l&&n.aggregate(e.append(l,{tail:!0}));}else n.aggregate(e.append(r.toString(),{tail:!0}));}return n;}},{key:"state",get:function(){return {chunks:this.chunks.map((function(t){return t.state;})),from:this.from,stop:this.stop,blockIndex:this.blockIndex};},set:function(e){var n=e.chunks,i=jr(e,cu);Object.assign(this,i),this.chunks=n.map((function(e){var n="chunks" in e?new t():new nu();return n.state=e,n;}));}},{key:"unshift",value:function(t){if(!this.chunks.length||null!=t&&this.from>=t)return "";for(var e=null!=t?t-this.from:t,n=0;n<this.chunks.length;){var i=this.chunks[n],r=i.unshift(e);if(i.toString()){if(!r)break;++n;}else this.chunks.splice(n,1);if(r)return r;}return "";}},{key:"shift",value:function(){if(!this.chunks.length)return "";for(var t=this.chunks.length-1;0<=t;){var e=this.chunks[t],n=e.shift();if(e.toString()){if(!n)break;--t;}else this.chunks.splice(t,1);if(n)return n;}return "";}}]),t;}(),pu=function(){function t(e,n){xr(this,t),this.masked=e,this._log=[];var i=e._mapPosToBlock(n)||(n<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0}),r=i.offset,u=i.index;this.offset=r,this.index=u,this.ok=!1;}return Or(t,[{key:"block",get:function(){return this.masked._blocks[this.index];}},{key:"pos",get:function(){return this.masked._blockStartPos(this.index)+this.offset;}},{key:"state",get:function(){return {index:this.index,offset:this.offset,ok:this.ok};},set:function(t){Object.assign(this,t);}},{key:"pushState",value:function(){this._log.push(this.state);}},{key:"popState",value:function(){var t=this._log.pop();return this.state=t,t;}},{key:"bindBlock",value:function(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length));}},{key:"_pushLeft",value:function(t){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null===(e=this.block)||void 0===e?void 0:e.value.length)||0){var e;if(t())return this.ok=!0;}return this.ok=!1;}},{key:"_pushRight",value:function(t){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(t())return this.ok=!0;return this.ok=!1;}},{key:"pushLeftBeforeFilled",value:function(){var t=this;return this._pushLeft((function(){if(!t.block.isFixed&&t.block.value)return t.offset=t.block.nearestInputPos(t.offset,$r),0!==t.offset||void 0;}));}},{key:"pushLeftBeforeInput",value:function(){var t=this;return this._pushLeft((function(){if(!t.block.isFixed)return t.offset=t.block.nearestInputPos(t.offset,Kr),!0;}));}},{key:"pushLeftBeforeRequired",value:function(){var t=this;return this._pushLeft((function(){if(!(t.block.isFixed||t.block.isOptional&&!t.block.value))return t.offset=t.block.nearestInputPos(t.offset,Kr),!0;}));}},{key:"pushRightBeforeFilled",value:function(){var t=this;return this._pushRight((function(){if(!t.block.isFixed&&t.block.value)return t.offset=t.block.nearestInputPos(t.offset,Xr),t.offset!==t.block.value.length||void 0;}));}},{key:"pushRightBeforeInput",value:function(){var t=this;return this._pushRight((function(){if(!t.block.isFixed)return t.offset=t.block.nearestInputPos(t.offset,Gr),!0;}));}},{key:"pushRightBeforeRequired",value:function(){var t=this;return this._pushRight((function(){if(!(t.block.isFixed||t.block.isOptional&&!t.block.value))return t.offset=t.block.nearestInputPos(t.offset,Gr),!0;}));}}]),t;}(),du=function(t){Pr(n,t);var e=Vr(n);function n(){return xr(this,n),e.apply(this,arguments);}return Or(n,[{key:"_update",value:function(t){t.mask&&(t.validate=function(e){return e.search(t.mask)>=0;}),Nr(Tr(n.prototype),"_update",this).call(this,t);}}]),n;}(ru);iu.MaskedRegExp=du;var vu=["_blocks"],gu=function(t){Pr(n,t);var e=Vr(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xr(this,n),t.definitions=Object.assign({},ou,t.definitions),e.call(this,Object.assign({},n.DEFAULTS,t));}return Or(n,[{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.definitions=Object.assign({},this.definitions,t.definitions),Nr(Tr(n.prototype),"_update",this).call(this,t),this._rebuildMask();}},{key:"_rebuildMask",value:function(){var t=this,e=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var i=this.mask;if(i&&e)for(var r=!1,u=!1,s=0;s<i.length;++s){if(this.blocks)if("continue"===function(){var e=i.slice(s),n=Object.keys(t.blocks).filter((function(t){return 0===e.indexOf(t);}));n.sort((function(t,e){return e.length-t.length;}));var r=n[0];if(r){var u=su(Object.assign({parent:t,lazy:t.lazy,eager:t.eager,placeholderChar:t.placeholderChar,overwrite:t.overwrite},t.blocks[r]));return u&&(t._blocks.push(u),t._maskedBlocks[r]||(t._maskedBlocks[r]=[]),t._maskedBlocks[r].push(t._blocks.length-1)),s+=r.length-1,"continue";}}())continue;var a=i[s],o=a in e;if(a!==n.STOP_CHAR)if("{"!==a&&"}"!==a)if("["!==a&&"]"!==a){if(a===n.ESCAPE_CHAR){if(++s,!(a=i[s]))break;o=!1;}var l=o?new lu({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,mask:e[a],isOptional:u}):new hu({char:a,eager:this.eager,isUnmasking:r});this._blocks.push(l);}else u=!u;else r=!r;else this._stops.push(this._blocks.length);}}},{key:"state",get:function(){return Object.assign({},Nr(Tr(n.prototype),"state",this),{_blocks:this._blocks.map((function(t){return t.state;}))});},set:function(t){var e=t._blocks,i=jr(t,vu);this._blocks.forEach((function(t,n){return t.state=e[n];})),zr(Tr(n.prototype),"state",i,this,!0);}},{key:"reset",value:function(){Nr(Tr(n.prototype),"reset",this).call(this),this._blocks.forEach((function(t){return t.reset();}));}},{key:"isComplete",get:function(){return this._blocks.every((function(t){return t.isComplete;}));}},{key:"isFilled",get:function(){return this._blocks.every((function(t){return t.isFilled;}));}},{key:"isFixed",get:function(){return this._blocks.every((function(t){return t.isFixed;}));}},{key:"isOptional",get:function(){return this._blocks.every((function(t){return t.isOptional;}));}},{key:"doCommit",value:function(){this._blocks.forEach((function(t){return t.doCommit();})),Nr(Tr(n.prototype),"doCommit",this).call(this);}},{key:"unmaskedValue",get:function(){return this._blocks.reduce((function(t,e){return t+e.unmaskedValue;}),"");},set:function(t){zr(Tr(n.prototype),"unmaskedValue",t,this,!0);}},{key:"value",get:function(){return this._blocks.reduce((function(t,e){return t+e.value;}),"");},set:function(t){zr(Tr(n.prototype),"value",t,this,!0);}},{key:"appendTail",value:function(t){return Nr(Tr(n.prototype),"appendTail",this).call(this,t).aggregate(this._appendPlaceholder());}},{key:"_appendEager",value:function(){var t,e=new Yr(),n=null===(t=this._mapPosToBlock(this.value.length))||void 0===t?void 0:t.index;if(null==n)return e;this._blocks[n].isFilled&&++n;for(var i=n;i<this._blocks.length;++i){var r=this._blocks[i]._appendEager();if(!r.inserted)break;e.aggregate(r);}return e;}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._mapPosToBlock(this.value.length),i=new Yr();if(!n)return i;for(var r=n.index;;++r){var u,s=this._blocks[r];if(!s)break;var a=s._appendChar(t,Object.assign({},e,{_beforeTailState:null===(u=e._beforeTailState)||void 0===u?void 0:u._blocks[r]})),o=a.skip;if(i.aggregate(a),o||a.rawInserted)break;}return i;}},{key:"extractTail",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=new fu();return e===n||this._forEachBlocksInRange(e,n,(function(e,n,r,u){var s=e.extractTail(r,u);s.stop=t._findStopBefore(n),s.from=t._blockStartPos(n),s instanceof fu&&(s.blockIndex=n),i.extend(s);})),i;}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===e)return "";var i="";return this._forEachBlocksInRange(t,e,(function(t,e,r,u){i+=t.extractInput(r,u,n);})),i;}},{key:"_findStopBefore",value:function(t){for(var e,n=0;n<this._stops.length;++n){var i=this._stops[n];if(!(i<=t))break;e=i;}return e;}},{key:"_appendPlaceholder",value:function(t){var e=this,n=new Yr();if(this.lazy&&null==t)return n;var i=this._mapPosToBlock(this.value.length);if(!i)return n;var r=i.index,u=null!=t?t:this._blocks.length;return this._blocks.slice(r,u).forEach((function(i){if(!i.lazy||null!=t){var r=null!=i._blocks?[i._blocks.length]:[],u=i._appendPlaceholder.apply(i,r);e._value+=u.inserted,n.aggregate(u);}})),n;}},{key:"_mapPosToBlock",value:function(t){for(var e="",n=0;n<this._blocks.length;++n){var i=this._blocks[n],r=e.length;if(t<=(e+=i.value).length)return {index:n,offset:t-r};}}},{key:"_blockStartPos",value:function(t){return this._blocks.slice(0,t).reduce((function(t,e){return t+e.value.length;}),0);}},{key:"_forEachBlocksInRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0,i=this._mapPosToBlock(t);if(i){var r=this._mapPosToBlock(e),u=r&&i.index===r.index,s=i.offset,a=r&&u?r.offset:this._blocks[i.index].value.length;if(n(this._blocks[i.index],i.index,s,a),r&&!u){for(var o=i.index+1;o<r.index;++o)n(this._blocks[o],o,0,this._blocks[o].value.length);n(this._blocks[r.index],r.index,0,r.offset);}}}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=Nr(Tr(n.prototype),"remove",this).call(this,t,e);return this._forEachBlocksInRange(t,e,(function(t,e,n,r){i.aggregate(t.remove(n,r));})),i;}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr;if(!this._blocks.length)return 0;var n=new pu(this,t);if(e===Gr)return n.pushRightBeforeInput()?n.pos:(n.popState(),n.pushLeftBeforeInput()?n.pos:this.value.length);if(e===Kr||e===$r){if(e===Kr){if(n.pushRightBeforeFilled(),n.ok&&n.pos===t)return t;n.popState();}if(n.pushLeftBeforeInput(),n.pushLeftBeforeRequired(),n.pushLeftBeforeFilled(),e===Kr){if(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.ok&&n.pos<=t)return n.pos;if(n.popState(),n.ok&&n.pos<=t)return n.pos;n.popState();}return n.ok?n.pos:e===$r?0:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:0));}return e===Wr||e===Xr?(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.pushRightBeforeFilled()?n.pos:e===Xr?this.value.length:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:this.nearestInputPos(t,Kr)))):t;}},{key:"maskedBlock",value:function(t){return this.maskedBlocks(t)[0];}},{key:"maskedBlocks",value:function(t){var e=this,n=this._maskedBlocks[t];return n?n.map((function(t){return e._blocks[t];})):[];}}]),n;}(ru);gu.DEFAULTS={lazy:!0,placeholderChar:"_"},gu.STOP_CHAR="`",gu.ESCAPE_CHAR="\\",gu.InputDefinition=lu,gu.FixedDefinition=hu,iu.MaskedPattern=gu;var ku=function(t){Pr(n,t);var e=Vr(n);function n(){return xr(this,n),e.apply(this,arguments);}return Or(n,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length;}},{key:"_update",value:function(t){t=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},t);var e=String(t.to).length;null!=t.maxLength&&(e=Math.max(e,t.maxLength)),t.maxLength=e;for(var i=String(t.from).padStart(e,"0"),r=String(t.to).padStart(e,"0"),u=0;u<r.length&&r[u]===i[u];)++u;t.mask=r.slice(0,u).replace(/0/g,"\\0")+"0".repeat(e-u),Nr(Tr(n.prototype),"_update",this).call(this,t);}},{key:"isComplete",get:function(){return Nr(Tr(n.prototype),"isComplete",this)&&Boolean(this.value);}},{key:"boundaries",value:function(t){var e="",n="",i=qr(t.match(/^(\D*)(\d*)(\D*)/)||[],3),r=i[1],u=i[2];return u&&(e="0".repeat(r.length)+u,n="9".repeat(r.length)+u),[e=e.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9")];}},{key:"doPrepare",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Qr(Nr(Tr(n.prototype),"doPrepare",this).call(this,t.replace(/\D/g,""),i)),u=qr(r,2);if(t=u[0],e=u[1],!this.autofix||!t)return t;var s=String(this.from).padStart(this.maxLength,"0"),a=String(this.to).padStart(this.maxLength,"0"),o=this.value+t;if(o.length>this.maxLength)return "";var l=this.boundaries(o),h=qr(l,2),c=h[0],f=h[1];return Number(f)<this.from?s[o.length-1]:Number(c)>this.to?"pad"===this.autofix&&o.length<this.maxLength?["",e.aggregate(this.append(s[o.length-1]+t,i))]:a[o.length-1]:t;}},{key:"doValidate",value:function(){var t,e=this.value,i=e.search(/[^0]/);if(-1===i&&e.length<=this._matchFrom)return !0;for(var r=this.boundaries(e),u=qr(r,2),s=u[0],a=u[1],o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return this.from<=Number(a)&&Number(s)<=this.to&&(t=Nr(Tr(n.prototype),"doValidate",this)).call.apply(t,[this].concat(l));}}]),n;}(gu);iu.MaskedRange=ku;var yu=function(t){Pr(n,t);var e=Vr(n);function n(t){return xr(this,n),e.call(this,Object.assign({},n.DEFAULTS,t));}return Or(n,[{key:"_update",value:function(t){t.mask===Date&&delete t.mask,t.pattern&&(t.mask=t.pattern);var e=t.blocks;t.blocks=Object.assign({},n.GET_DEFAULT_BLOCKS()),t.min&&(t.blocks.Y.from=t.min.getFullYear()),t.max&&(t.blocks.Y.to=t.max.getFullYear()),t.min&&t.max&&t.blocks.Y.from===t.blocks.Y.to&&(t.blocks.m.from=t.min.getMonth()+1,t.blocks.m.to=t.max.getMonth()+1,t.blocks.m.from===t.blocks.m.to&&(t.blocks.d.from=t.min.getDate(),t.blocks.d.to=t.max.getDate())),Object.assign(t.blocks,this.blocks,e),Object.keys(t.blocks).forEach((function(e){var n=t.blocks[e];!("autofix" in n)&&"autofix" in t&&(n.autofix=t.autofix);})),Nr(Tr(n.prototype),"_update",this).call(this,t);}},{key:"doValidate",value:function(){for(var t,e=this.date,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return (t=Nr(Tr(n.prototype),"doValidate",this)).call.apply(t,[this].concat(r))&&(!this.isComplete||this.isDateExist(this.value)&&null!=e&&(null==this.min||this.min<=e)&&(null==this.max||e<=this.max));}},{key:"isDateExist",value:function(t){return this.format(this.parse(t,this),this).indexOf(t)>=0;}},{key:"date",get:function(){return this.typedValue;},set:function(t){this.typedValue=t;}},{key:"typedValue",get:function(){return this.isComplete?Nr(Tr(n.prototype),"typedValue",this):null;},set:function(t){zr(Tr(n.prototype),"typedValue",t,this,!0);}},{key:"maskEquals",value:function(t){return t===Date||Nr(Tr(n.prototype),"maskEquals",this).call(this,t);}}]),n;}(gu);yu.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){return t?[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join("."):"";},parse:function(t){var e=qr(t.split("."),3),n=e[0],i=e[1],r=e[2];return new Date(r,i-1,n);}},yu.GET_DEFAULT_BLOCKS=function(){return {d:{mask:ku,from:1,to:31,maxLength:2},m:{mask:ku,from:1,to:12,maxLength:2},Y:{mask:ku,from:1900,to:9999}};},iu.MaskedDate=yu;var mu=function(){function t(){xr(this,t);}return Or(t,[{key:"selectionStart",get:function(){var t;try{t=this._unsafeSelectionStart;}catch(t){}return null!=t?t:this.value.length;}},{key:"selectionEnd",get:function(){var t;try{t=this._unsafeSelectionEnd;}catch(t){}return null!=t?t:this.value.length;}},{key:"select",value:function(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e);}catch(t){}}},{key:"_unsafeSelect",value:function(t,e){}},{key:"isActive",get:function(){return !1;}},{key:"bindEvents",value:function(t){}},{key:"unbindEvents",value:function(){}}]),t;}();iu.MaskElement=mu;var bu=function(t){Pr(n,t);var e=Vr(n);function n(t){var i;return xr(this,n),(i=e.call(this)).input=t,i._handlers={},i;}return Or(n,[{key:"rootElement",get:function(){var t,e,n;return null!==(t=null===(e=(n=this.input).getRootNode)||void 0===e?void 0:e.call(n))&&void 0!==t?t:document;}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement;}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart;}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd;}},{key:"_unsafeSelect",value:function(t,e){this.input.setSelectionRange(t,e);}},{key:"value",get:function(){return this.input.value;},set:function(t){this.input.value=t;}},{key:"bindEvents",value:function(t){var e=this;Object.keys(t).forEach((function(i){return e._toggleEventHandler(n.EVENTS_MAP[i],t[i]);}));}},{key:"unbindEvents",value:function(){var t=this;Object.keys(this._handlers).forEach((function(e){return t._toggleEventHandler(e);}));}},{key:"_toggleEventHandler",value:function(t,e){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),e&&(this.input.addEventListener(t,e),this._handlers[t]=e);}}]),n;}(mu);bu.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"},iu.HTMLMaskElement=bu;var _u=function(t){Pr(n,t);var e=Vr(n);function n(){return xr(this,n),e.apply(this,arguments);}return Or(n,[{key:"_unsafeSelectionStart",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection(),n=e&&e.anchorOffset,i=e&&e.focusOffset;return null==i||null==n||n<i?n:i;}},{key:"_unsafeSelectionEnd",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection(),n=e&&e.anchorOffset,i=e&&e.focusOffset;return null==i||null==n||n>i?n:i;}},{key:"_unsafeSelect",value:function(t,e){if(this.rootElement.createRange){var n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,t),n.setEnd(this.input.lastChild||this.input,e);var i=this.rootElement,r=i.getSelection&&i.getSelection();r&&(r.removeAllRanges(),r.addRange(n));}}},{key:"value",get:function(){return this.input.textContent;},set:function(t){this.input.textContent=t;}}]),n;}(bu);iu.HTMLContenteditableMaskElement=_u;var Au=["mask"],Cu=function(){function t(e,n){xr(this,t),this.el=e instanceof mu?e:e.isContentEditable&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName?new _u(e):new bu(e),this.masked=su(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange();}return Or(t,[{key:"mask",get:function(){return this.masked.mask;},set:function(t){if(!this.maskEquals(t))if(t instanceof iu.Masked||this.masked.constructor!==uu(t)){var e=su({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e;}else this.masked.updateOptions({mask:t});}},{key:"maskEquals",value:function(t){var e;return null==t||(null===(e=this.masked)||void 0===e?void 0:e.maskEquals(t));}},{key:"value",get:function(){return this._value;},set:function(t){this.masked.value=t,this.updateControl(),this.alignCursor();}},{key:"unmaskedValue",get:function(){return this._unmaskedValue;},set:function(t){this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor();}},{key:"typedValue",get:function(){return this.masked.typedValue;},set:function(t){this.masked.typedValue=t,this.updateControl(),this.alignCursor();}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange});}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents();}},{key:"_fireEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=this._listeners[t];r&&r.forEach((function(t){return t.apply(void 0,n);}));}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart;}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd;},set:function(t){this.el&&this.el.isActive&&(this.el.select(t,t),this._saveSelection());}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos};}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value;}},{key:"updateControl",value:function(){var t=this.masked.unmaskedValue,e=this.masked.value,n=this.unmaskedValue!==t||this.value!==e;this._unmaskedValue=t,this._value=e,this.el.value!==e&&(this.el.value=e),n&&this._fireChangeEvents();}},{key:"updateOptions",value:function(t){var e=t.mask,n=jr(t,Au),i=!this.maskEquals(e),r=!tu(this.masked,n);i&&(this.mask=e),r&&this.masked.updateOptions(n),(i||r)&&this.updateControl();}},{key:"updateCursor",value:function(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t));}},{key:"_delayUpdateCursor",value:function(t){var e=this;this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout((function(){e.el&&(e.cursorPos=e._changingCursorPos,e._abortUpdateCursor());}),10);}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent);}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging);}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Kr));}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor();}},{key:"on",value:function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this;}},{key:"off",value:function(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;var n=this._listeners[t].indexOf(e);return n>=0&&this._listeners[t].splice(n,1),this;}},{key:"_onInput",value:function(t){if(this._inputEvent=t,this._abortUpdateCursor(),!this._selection)return this.updateValue();var e=new eu(this.el.value,this.cursorPos,this.value,this._selection),n=this.masked.rawInputValue,i=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection).offset,r=n===this.masked.rawInputValue?e.removeDirection:Gr,u=this.masked.nearestInputPos(e.startChangePos+i,r);r!==Gr&&(u=this.masked.nearestInputPos(u,Gr)),this.updateControl(),this.updateCursor(u),delete this._inputEvent;}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection();}},{key:"_onDrop",value:function(t){t.preventDefault(),t.stopPropagation();}},{key:"_onFocus",value:function(t){this.alignCursorFriendly();}},{key:"_onClick",value:function(t){this.alignCursorFriendly();}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el;}}]),t;}();iu.InputMask=Cu;var Eu=function(t){Pr(n,t);var e=Vr(n);function n(){return xr(this,n),e.apply(this,arguments);}return Or(n,[{key:"_update",value:function(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),Nr(Tr(n.prototype),"_update",this).call(this,t);}},{key:"doValidate",value:function(){for(var t,e=this,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return this.enum.some((function(t){return t.indexOf(e.unmaskedValue)>=0;}))&&(t=Nr(Tr(n.prototype),"doValidate",this)).call.apply(t,[this].concat(r));}}]),n;}(gu);iu.MaskedEnum=Eu;var Fu=function(t){Pr(n,t);var e=Vr(n);function n(t){return xr(this,n),e.call(this,Object.assign({},n.DEFAULTS,t));}return Or(n,[{key:"_update",value:function(t){Nr(Tr(n.prototype),"_update",this).call(this,t),this._updateRegExps();}},{key:"_updateRegExps",value:function(){var t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+Jr(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(t+"(0|([1-9]+\\d*))?"+e),this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Jr).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Jr(this.thousandsSeparator),"g");}},{key:"_removeThousandsSeparators",value:function(t){return t.replace(this._thousandsSeparatorRegExp,"");}},{key:"_insertThousandsSeparators",value:function(t){var e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix);}},{key:"doPrepare",value:function(t){var e;t=t.replace(this._mapToRadixRegExp,this.radix);for(var i=this._removeThousandsSeparators(t),r=arguments.length,u=new Array(r>1?r-1:0),s=1;s<r;s++)u[s-1]=arguments[s];var a=Qr((e=Nr(Tr(n.prototype),"doPrepare",this)).call.apply(e,[this,i].concat(u))),o=qr(a,2),l=o[0],h=o[1];return t&&!i&&(h.skip=!0),[l,h];}},{key:"_separatorsCount",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,i=0;i<t;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++n,e&&(t+=this.thousandsSeparator.length));return n;}},{key:"_separatorsCountFromSlice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(t).length,!0);}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0,r=this._adjustRangeWithSeparators(t,e),u=qr(r,2);return t=u[0],e=u[1],this._removeThousandsSeparators(Nr(Tr(n.prototype),"extractInput",this).call(this,t,e,i));}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return Nr(Tr(n.prototype),"_appendCharRaw",this).call(this,t,e);var i=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,r=this._separatorsCountFromSlice(i);this._value=this._removeThousandsSeparators(this.value);var u=Nr(Tr(n.prototype),"_appendCharRaw",this).call(this,t,e);this._value=this._insertThousandsSeparators(this._value);var s=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,a=this._separatorsCountFromSlice(s);return u.tailShift+=(a-r)*this.thousandsSeparator.length,u.skip=!u.rawInserted&&t===this.thousandsSeparator,u;}},{key:"_findSeparatorAround",value:function(t){if(this.thousandsSeparator){var e=t-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,e);if(n<=t)return n;}return -1;}},{key:"_adjustRangeWithSeparators",value:function(t,e){var n=this._findSeparatorAround(t);n>=0&&(t=n);var i=this._findSeparatorAround(e);return i>=0&&(e=i+this.thousandsSeparator.length),[t,e];}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=this._adjustRangeWithSeparators(t,e),i=qr(n,2);t=i[0],e=i[1];var r=this.value.slice(0,t),u=this.value.slice(e),s=this._separatorsCount(r.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(r+u));var a=this._separatorsCountFromSlice(r);return new Yr({tailShift:(a-s)*this.thousandsSeparator.length});}},{key:"nearestInputPos",value:function(t,e){if(!this.thousandsSeparator)return t;switch(e){case Gr:case Kr:case $r:var n=this._findSeparatorAround(t-1);if(n>=0){var i=n+this.thousandsSeparator.length;if(t<i||this.value.length<=i||e===$r)return n;}break;case Wr:case Xr:var r=this._findSeparatorAround(t);if(r>=0)return r+this.thousandsSeparator.length;}return t;}},{key:"doValidate",value:function(t){var e=(t.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(e){var i=this.number;e=e&&!isNaN(i)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max);}return e&&Nr(Tr(n.prototype),"doValidate",this).call(this,t);}},{key:"doCommit",value:function(){if(this.value){var t=this.number,e=t;null!=this.min&&(e=Math.max(e,this.min)),null!=this.max&&(e=Math.min(e,this.max)),e!==t&&(this.unmaskedValue=String(e));var i=this.value;this.normalizeZeros&&(i=this._normalizeZeros(i)),this.padFractionalZeros&&this.scale>0&&(i=this._padFractionalZeros(i)),this._value=i;}Nr(Tr(n.prototype),"doCommit",this).call(this);}},{key:"_normalizeZeros",value:function(t){var e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,(function(t,e,n,i){return e+i;})),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix));}},{key:"_padFractionalZeros",value:function(t){if(!t)return t;var e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix);}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".");},set:function(t){zr(Tr(n.prototype),"unmaskedValue",t.replace(".",this.radix),this,!0);}},{key:"typedValue",get:function(){return Number(this.unmaskedValue);},set:function(t){zr(Tr(n.prototype),"unmaskedValue",String(t),this,!0);}},{key:"number",get:function(){return this.typedValue;},set:function(t){this.typedValue=t;}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0;}}]),n;}(ru);Fu.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1},iu.MaskedNumber=Fu;var Su=function(t){Pr(n,t);var e=Vr(n);function n(){return xr(this,n),e.apply(this,arguments);}return Or(n,[{key:"_update",value:function(t){t.mask&&(t.validate=t.mask),Nr(Tr(n.prototype),"_update",this).call(this,t);}}]),n;}(ru);iu.MaskedFunction=Su;var wu=["compiledMasks","currentMaskRef","currentMask"],Bu=function(t){Pr(n,t);var e=Vr(n);function n(t){var i;return xr(this,n),(i=e.call(this,Object.assign({},n.DEFAULTS,t))).currentMask=null,i;}return Or(n,[{key:"_update",value:function(t){Nr(Tr(n.prototype),"_update",this).call(this,t),"mask" in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map((function(t){return su(t);})):[]);}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._applyDispatch(t,e);return this.currentMask&&n.aggregate(this.currentMask._appendChar(t,e)),n;}},{key:"_applyDispatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.tail&&null!=e._beforeTailState?e._beforeTailState._value:this.value,i=this.rawInputValue,r=e.tail&&null!=e._beforeTailState?e._beforeTailState._rawInputValue:i,u=i.slice(r.length),s=this.currentMask,a=new Yr(),o=s&&s.state;if(this.currentMask=this.doDispatch(t,Object.assign({},e)),this.currentMask)if(this.currentMask!==s){if(this.currentMask.reset(),r){var l=this.currentMask.append(r,{raw:!0});a.tailShift=l.inserted.length-n.length;}u&&(a.tailShift+=this.currentMask.append(u,{raw:!0,tail:!0}).tailShift);}else this.currentMask.state=o;return a;}},{key:"_appendPlaceholder",value:function(){var t=this._applyDispatch.apply(this,arguments);return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t;}},{key:"_appendEager",value:function(){var t=this._applyDispatch.apply(this,arguments);return this.currentMask&&t.aggregate(this.currentMask._appendEager()),t;}},{key:"doDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(t,this,e);}},{key:"doValidate",value:function(){for(var t,e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return (t=Nr(Tr(n.prototype),"doValidate",this)).call.apply(t,[this].concat(r))&&(!this.currentMask||(e=this.currentMask).doValidate.apply(e,r));}},{key:"reset",value:function(){var t;null===(t=this.currentMask)||void 0===t||t.reset(),this.compiledMasks.forEach((function(t){return t.reset();}));}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:"";},set:function(t){zr(Tr(n.prototype),"value",t,this,!0);}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:"";},set:function(t){zr(Tr(n.prototype),"unmaskedValue",t,this,!0);}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:"";},set:function(t){var e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e;}},{key:"isComplete",get:function(){var t;return Boolean(null===(t=this.currentMask)||void 0===t?void 0:t.isComplete);}},{key:"isFilled",get:function(){var t;return Boolean(null===(t=this.currentMask)||void 0===t?void 0:t.isFilled);}},{key:"remove",value:function(){var t,e=new Yr();this.currentMask&&e.aggregate((t=this.currentMask).remove.apply(t,arguments)).aggregate(this._applyDispatch());return e;}},{key:"state",get:function(){return Object.assign({},Nr(Tr(n.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((function(t){return t.state;})),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state});},set:function(t){var e=t.compiledMasks,i=t.currentMaskRef,r=t.currentMask,u=jr(t,wu);this.compiledMasks.forEach((function(t,n){return t.state=e[n];})),null!=i&&(this.currentMask=i,this.currentMask.state=r),zr(Tr(n.prototype),"state",u,this,!0);}},{key:"extractInput",value:function(){var t;return this.currentMask?(t=this.currentMask).extractInput.apply(t,arguments):"";}},{key:"extractTail",value:function(){for(var t,e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return this.currentMask?(t=this.currentMask).extractTail.apply(t,r):(e=Nr(Tr(n.prototype),"extractTail",this)).call.apply(e,[this].concat(r));}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),Nr(Tr(n.prototype),"doCommit",this).call(this);}},{key:"nearestInputPos",value:function(){for(var t,e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return this.currentMask?(t=this.currentMask).nearestInputPos.apply(t,r):(e=Nr(Tr(n.prototype),"nearestInputPos",this)).call.apply(e,[this].concat(r));}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:Nr(Tr(n.prototype),"overwrite",this);},set:function(t){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings');}},{key:"eager",get:function(){return this.currentMask?this.currentMask.eager:Nr(Tr(n.prototype),"eager",this);},set:function(t){console.warn('"eager" option is not available in dynamic mask, use this option in siblings');}},{key:"maskEquals",value:function(t){return Array.isArray(t)&&this.compiledMasks.every((function(e,n){var i;return e.maskEquals(null===(i=t[n])||void 0===i?void 0:i.mask);}));}}]),n;}(ru);Bu.DEFAULTS={dispatch:function(t,e,n){if(e.compiledMasks.length){var i=e.rawInputValue,r=e.compiledMasks.map((function(e,r){return e.reset(),e.append(i,{raw:!0}),e.append(t,n),{weight:e.rawInputValue.length,index:r};}));return r.sort((function(t,e){return e.weight-t.weight;})),e.compiledMasks[r[0].index];}}},iu.MaskedDynamic=Bu;var Du={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function xu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Du.MASKED,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Du.MASKED,i=su(t);return function(t){return i.runIsolated((function(i){return i[e]=t,i[n];}));};}function Mu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return xu.apply(void 0,n)(t);}iu.PIPE_TYPE=Du,iu.createPipe=xu,iu.pipe=Mu;try{globalThis.IMask=iu;}catch(t){}t.HTMLContenteditableMaskElement=_u,t.HTMLMaskElement=bu,t.InputMask=Cu,t.MaskElement=mu,t.Masked=ru,t.MaskedDate=yu,t.MaskedDynamic=Bu,t.MaskedEnum=Eu,t.MaskedFunction=Su,t.MaskedNumber=Fu,t.MaskedPattern=gu,t.MaskedRange=ku,t.MaskedRegExp=du,t.PIPE_TYPE=Du,t.createMask=su,t.createPipe=xu,t.default=iu,t.pipe=Mu,Object.defineProperty(t,"__esModule",{value:!0});}));;
/**
 * Swiper 10.3.1
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * https://swiperjs.com
 *
 * Copyright 2014-2023 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: September 29, 2023
 */

var Swiper=function(){"use strict";function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(s,i){void 0===s&&(s={}),void 0===i&&(i={}),Object.keys(i).forEach((r=>{void 0===s[r]?s[r]=i[r]:e(i[r])&&e(s[r])&&Object.keys(i[r]).length>0&&t(s[r],i[r])}))}const s={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function i(){const e="undefined"!=typeof document?document:{};return t(e,s),e}const r={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function a(){const e="undefined"!=typeof window?window:{};return t(e,r),e}function n(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function l(){return Date.now()}function o(e,t){void 0===t&&(t="x");const s=a();let i,r,n;const l=function(e){const t=a();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(r=l.transform||l.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map((e=>e.replace(",","."))).join(", ")),n=new s.WebKitCSSMatrix("none"===r?"":r)):(n=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=n.toString().split(",")),"x"===t&&(r=s.WebKitCSSMatrix?n.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=s.WebKitCSSMatrix?n.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function d(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function c(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const r=i<0||arguments.length<=i?void 0:arguments[i];if(null!=r&&(s=r,!("undefined"!=typeof window&&void 0!==window.HTMLElement?s instanceof HTMLElement:s&&(1===s.nodeType||11===s.nodeType)))){const s=Object.keys(Object(r)).filter((e=>t.indexOf(e)<0));for(let t=0,i=s.length;t<i;t+=1){const i=s[t],a=Object.getOwnPropertyDescriptor(r,i);void 0!==a&&a.enumerable&&(d(e[i])&&d(r[i])?r[i].__swiper__?e[i]=r[i]:c(e[i],r[i]):!d(e[i])&&d(r[i])?(e[i]={},r[i].__swiper__?e[i]=r[i]:c(e[i],r[i])):e[i]=r[i])}}}var s;return e}function p(e,t,s){e.style.setProperty(t,s)}function u(e){let{swiper:t,targetPosition:s,side:i}=e;const r=a(),n=-t.translate;let l,o=null;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=s>n?"next":"prev",p=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{l=(new Date).getTime(),null===o&&(o=l);const e=Math.max(Math.min((l-o)/d,1),0),a=.5-Math.cos(e*Math.PI)/2;let c=n+a*(s-n);if(p(c,s)&&(c=s),t.wrapperEl.scrollTo({[i]:c}),p(c,s))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:c})})),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(u)};u()}function m(e,t){return void 0===t&&(t=""),[...e.children].filter((e=>e.matches(t)))}function f(e,t){void 0===t&&(t=[]);const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:[t]),s}function h(e){const t=a(),s=i(),r=e.getBoundingClientRect(),n=s.body,l=e.clientTop||n.clientTop||0,o=e.clientLeft||n.clientLeft||0,d=e===t?t.scrollY:e.scrollTop,c=e===t?t.scrollX:e.scrollLeft;return{top:r.top+d-l,left:r.left+c-o}}function v(e,t){return a().getComputedStyle(e,null).getPropertyValue(t)}function g(e){let t,s=e;if(s){for(t=0;null!==(s=s.previousSibling);)1===s.nodeType&&(t+=1);return t}}function b(e,t){const s=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&s.push(i):s.push(i),i=i.parentElement;return s}function w(e,t,s){const i=a();return s?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}let y,S,T;function x(){return y||(y=function(){const e=a(),t=i();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),y}function E(e){return void 0===e&&(e={}),S||(S=function(e){let{userAgent:t}=void 0===e?{}:e;const s=x(),i=a(),r=i.navigator.platform,n=t||i.navigator.userAgent,l={ios:!1,android:!1},o=i.screen.width,d=i.screen.height,c=n.match(/(Android);?[\s\/]+([\d.]+)?/);let p=n.match(/(iPad).*OS\s([\d_]+)/);const u=n.match(/(iPod)(.*OS\s([\d_]+))?/),m=!p&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===r;let h="MacIntel"===r;return!p&&h&&s.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${d}`)>=0&&(p=n.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),h=!1),c&&!f&&(l.os="android",l.android=!0),(p||m||u)&&(l.os="ios",l.ios=!0),l}(e)),S}function C(){return T||(T=function(){const e=a();let t=!1;function s(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(s()){const s=String(e.navigator.userAgent);if(s.includes("Version/")){const[e,i]=s.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));t=e<16||16===e&&i<2}}return{isSafari:t||s(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),T}var M={on(e,t,s){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;const r=s?"unshift":"push";return e.split(" ").forEach((e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][r](t)})),i},once(e,t,s){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;function r(){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];t.apply(i,a)}return r.__emitterProxy=t,i.on(e,r,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const i=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[i](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach(((i,r)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&s.eventsListeners[e].splice(r,1)}))})),s):s},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,s,i;for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];"string"==typeof a[0]||Array.isArray(a[0])?(t=a[0],s=a.slice(1,a.length),i=e):(t=a[0].events,s=a[0].data,i=a[0].context||e),s.unshift(i);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(i,[t,...s])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(i,s)}))})),e}};const P=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(s){let t=s.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(s.shadowRoot?t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{s.shadowRoot&&(t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},L=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},k=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const i="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const s=r,a=[s-t];return a.push(...Array.from({length:t}).map(((e,t)=>s+i+t))),void e.slides.forEach(((t,s)=>{a.includes(t.column)&&L(e,s)}))}const a=r+i-1;if(e.params.rewind||e.params.loop)for(let i=r-t;i<=a+t;i+=1){const t=(i%s+s)%s;(t<r||t>a)&&L(e,t)}else for(let i=Math.max(r-t,0);i<=Math.min(a+t,s-1);i+=1)i!==r&&(i>a||i<r)&&L(e,i)};var I={updateSize:function(){const e=this;let t,s;const i=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:i.clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:i.clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(v(i,"padding-left")||0,10)-parseInt(v(i,"padding-right")||0,10),s=s-parseInt(v(i,"padding-top")||0,10)-parseInt(v(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function s(e,s){return parseFloat(e.getPropertyValue(t(s))||0)}const i=e.params,{wrapperEl:r,slidesEl:a,size:n,rtlTranslate:l,wrongRTL:o}=e,d=e.virtual&&i.virtual.enabled,c=d?e.virtual.slides.length:e.slides.length,u=m(a,`.${e.params.slideClass}, swiper-slide`),f=d?e.virtual.slides.length:u.length;let h=[];const g=[],b=[];let y=i.slidesOffsetBefore;"function"==typeof y&&(y=i.slidesOffsetBefore.call(e));let S=i.slidesOffsetAfter;"function"==typeof S&&(S=i.slidesOffsetAfter.call(e));const T=e.snapGrid.length,x=e.slidesGrid.length;let E=i.spaceBetween,C=-y,M=0,P=0;if(void 0===n)return;"string"==typeof E&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*n:"string"==typeof E&&(E=parseFloat(E)),e.virtualSize=-E,u.forEach((e=>{l?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),i.centeredSlides&&i.cssMode&&(p(r,"--swiper-centered-offset-before",""),p(r,"--swiper-centered-offset-after",""));const L=i.grid&&i.grid.rows>1&&e.grid;let k;L&&e.grid.initSlides(f);const I="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter((e=>void 0!==i.breakpoints[e].slidesPerView)).length>0;for(let r=0;r<f;r+=1){let a;if(k=0,u[r]&&(a=u[r]),L&&e.grid.updateSlide(r,a,f,t),!u[r]||"none"!==v(a,"display")){if("auto"===i.slidesPerView){I&&(u[r].style[t("width")]="");const n=getComputedStyle(a),l=a.style.transform,o=a.style.webkitTransform;if(l&&(a.style.transform="none"),o&&(a.style.webkitTransform="none"),i.roundLengths)k=e.isHorizontal()?w(a,"width",!0):w(a,"height",!0);else{const e=s(n,"width"),t=s(n,"padding-left"),i=s(n,"padding-right"),r=s(n,"margin-left"),l=s(n,"margin-right"),o=n.getPropertyValue("box-sizing");if(o&&"border-box"===o)k=e+r+l;else{const{clientWidth:s,offsetWidth:n}=a;k=e+t+i+r+l+(n-s)}}l&&(a.style.transform=l),o&&(a.style.webkitTransform=o),i.roundLengths&&(k=Math.floor(k))}else k=(n-(i.slidesPerView-1)*E)/i.slidesPerView,i.roundLengths&&(k=Math.floor(k)),u[r]&&(u[r].style[t("width")]=`${k}px`);u[r]&&(u[r].swiperSlideSize=k),b.push(k),i.centeredSlides?(C=C+k/2+M/2+E,0===M&&0!==r&&(C=C-n/2-E),0===r&&(C=C-n/2-E),Math.abs(C)<.001&&(C=0),i.roundLengths&&(C=Math.floor(C)),P%i.slidesPerGroup==0&&h.push(C),g.push(C)):(i.roundLengths&&(C=Math.floor(C)),(P-Math.min(e.params.slidesPerGroupSkip,P))%e.params.slidesPerGroup==0&&h.push(C),g.push(C),C=C+k+E),e.virtualSize+=k+E,M=k,P+=1}}if(e.virtualSize=Math.max(e.virtualSize,n)+S,l&&o&&("slide"===i.effect||"coverflow"===i.effect)&&(r.style.width=`${e.virtualSize+E}px`),i.setWrapperSize&&(r.style[t("width")]=`${e.virtualSize+E}px`),L&&e.grid.updateWrapperSize(k,h,t),!i.centeredSlides){const t=[];for(let s=0;s<h.length;s+=1){let r=h[s];i.roundLengths&&(r=Math.floor(r)),h[s]<=e.virtualSize-n&&t.push(r)}h=t,Math.floor(e.virtualSize-n)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-n)}if(d&&i.loop){const t=b[0]+E;if(i.slidesPerGroup>1){const s=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/i.slidesPerGroup),r=t*i.slidesPerGroup;for(let e=0;e<s;e+=1)h.push(h[h.length-1]+r)}for(let s=0;s<e.virtual.slidesBefore+e.virtual.slidesAfter;s+=1)1===i.slidesPerGroup&&h.push(h[h.length-1]+t),g.push(g[g.length-1]+t),e.virtualSize+=t}if(0===h.length&&(h=[0]),0!==E){const s=e.isHorizontal()&&l?"marginLeft":t("marginRight");u.filter(((e,t)=>!(i.cssMode&&!i.loop)||t!==u.length-1)).forEach((e=>{e.style[s]=`${E}px`}))}if(i.centeredSlides&&i.centeredSlidesBounds){let e=0;b.forEach((t=>{e+=t+(E||0)})),e-=E;const t=e-n;h=h.map((e=>e<=0?-y:e>t?t+S:e))}if(i.centerInsufficientSlides){let e=0;if(b.forEach((t=>{e+=t+(E||0)})),e-=E,e<n){const t=(n-e)/2;h.forEach(((e,s)=>{h[s]=e-t})),g.forEach(((e,s)=>{g[s]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:g,slidesSizesGrid:b}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){p(r,"--swiper-centered-offset-before",-h[0]+"px"),p(r,"--swiper-centered-offset-after",e.size/2-b[b.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+s))}if(f!==c&&e.emit("slidesLengthChange"),h.length!==T&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),g.length!==x&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),!(d||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const t=`${i.containerModifierClass}backface-hidden`,s=e.el.classList.contains(t);f<=i.maxBackfaceHiddenSlides?s||e.el.classList.add(t):s&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,s=[],i=t.virtual&&t.params.virtual.enabled;let r,a=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const n=e=>i?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{s.push(e)}));else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const e=t.activeIndex+r;if(e>t.slides.length&&!i)break;s.push(n(e))}else s.push(n(t.activeIndex));for(r=0;r<s.length;r+=1)if(void 0!==s[r]){const e=s[r].offsetHeight;a=e>a?e:a}(a||0===a)&&(t.wrapperEl.style.height=`${a}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-s-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,s=t.params,{slides:i,rtlTranslate:r,snapGrid:a}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let n=-e;r&&(n=e),i.forEach((e=>{e.classList.remove(s.slideVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=s.spaceBetween;"string"==typeof l&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:"string"==typeof l&&(l=parseFloat(l));for(let e=0;e<i.length;e+=1){const o=i[e];let d=o.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(d-=i[0].swiperSlideOffset);const c=(n+(s.centeredSlides?t.minTranslate():0)-d)/(o.swiperSlideSize+l),p=(n-a[0]+(s.centeredSlides?t.minTranslate():0)-d)/(o.swiperSlideSize+l),u=-(n-d),m=u+t.slidesSizesGrid[e];(u>=0&&u<t.size-1||m>1&&m<=t.size||u<=0&&m>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(e),i[e].classList.add(s.slideVisibleClass)),o.progress=r?-c:c,o.originalProgress=r?-p:p}},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:a,isEnd:n,progressLoop:l}=t;const o=a,d=n;if(0===i)r=0,a=!0,n=!0;else{r=(e-t.minTranslate())/i;const s=Math.abs(e-t.minTranslate())<1,l=Math.abs(e-t.maxTranslate())<1;a=s||r<=0,n=l||r>=1,s&&(r=0),l&&(r=1)}if(s.loop){const s=t.getSlideIndexByData(0),i=t.getSlideIndexByData(t.slides.length-1),r=t.slidesGrid[s],a=t.slidesGrid[i],n=t.slidesGrid[t.slidesGrid.length-1],o=Math.abs(e);l=o>=r?(o-r)/n:(o+n-a)/n,l>1&&(l-=1)}Object.assign(t,{progress:r,progressLoop:l,isBeginning:a,isEnd:n}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),a&&!o&&t.emit("reachBeginning toEdge"),n&&!d&&t.emit("reachEnd toEdge"),(o&&!a||d&&!n)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,slidesEl:i,activeIndex:r}=e,a=e.virtual&&s.virtual.enabled,n=e=>m(i,`.${s.slideClass}${e}, swiper-slide${e}`)[0];let l;if(t.forEach((e=>{e.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)})),a)if(s.loop){let t=r-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=n(`[data-swiper-slide-index="${t}"]`)}else l=n(`[data-swiper-slide-index="${r}"]`);else l=t[r];if(l){l.classList.add(s.slideActiveClass);let e=function(e,t){const s=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&s.push(i):s.push(i),e=i}return s}(l,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!e&&(e=t[0]),e&&e.classList.add(s.slideNextClass);let i=function(e,t){const s=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&s.push(i):s.push(i),e=i}return s}(l,`.${s.slideClass}, swiper-slide`)[0];s.loop&&0===!i&&(i=t[t.length-1]),i&&i.classList.add(s.slidePrevClass)}e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:a,realIndex:n,snapIndex:l}=t;let o,d=e;const c=e=>{let s=e-t.virtual.slidesBefore;return s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),s};if(void 0===d&&(d=function(e){const{slidesGrid:t,params:s}=e,i=e.rtlTranslate?e.translate:-e.translate;let r;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?i>=t[e]&&i<t[e+1]-(t[e+1]-t[e])/2?r=e:i>=t[e]&&i<t[e+1]&&(r=e+1):i>=t[e]&&(r=e);return s.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(t)),i.indexOf(s)>=0)o=i.indexOf(s);else{const e=Math.min(r.slidesPerGroupSkip,d);o=e+Math.floor((d-e)/r.slidesPerGroup)}if(o>=i.length&&(o=i.length-1),d===a)return o!==l&&(t.snapIndex=o,t.emit("snapIndexChange")),void(t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=c(d)));let p;p=t.virtual&&r.virtual.enabled&&r.loop?c(d):t.slides[d]?parseInt(t.slides[d].getAttribute("data-swiper-slide-index")||d,10):d,Object.assign(t,{previousSnapIndex:l,snapIndex:o,previousRealIndex:n,realIndex:p,previousIndex:a,activeIndex:d}),t.initialized&&k(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(n!==p&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const s=this,i=s.params;let r=e.closest(`.${i.slideClass}, swiper-slide`);!r&&s.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!r&&e.matches&&e.matches(`.${i.slideClass}, swiper-slide`)&&(r=e)}));let a,n=!1;if(r)for(let e=0;e<s.slides.length;e+=1)if(s.slides[e]===r){n=!0,a=e;break}if(!r||!n)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);s.clickedSlide=r,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=a,i.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}};var z={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:s,translate:i,wrapperEl:r}=this;if(t.virtualTranslate)return s?-i:i;if(t.cssMode)return i;let a=o(r,e);return a+=this.cssOverflowAdjustment(),s&&(a=-a),a||0},setTranslate:function(e,t){const s=this,{rtlTranslate:i,params:r,wrapperEl:a,progress:n}=s;let l,o=0,d=0;s.isHorizontal()?o=i?-e:e:d=e,r.roundLengths&&(o=Math.floor(o),d=Math.floor(d)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?o:d,r.cssMode?a[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-o:-d:r.virtualTranslate||(s.isHorizontal()?o-=s.cssOverflowAdjustment():d-=s.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${d}px, 0px)`);const c=s.maxTranslate()-s.minTranslate();l=0===c?0:(e-s.minTranslate())/c,l!==n&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,s,i,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),void 0===i&&(i=!0);const a=this,{params:n,wrapperEl:l}=a;if(a.animating&&n.preventInteractionOnTransition)return!1;const o=a.minTranslate(),d=a.maxTranslate();let c;if(c=i&&e>o?o:i&&e<d?d:e,a.updateProgress(c),n.cssMode){const e=a.isHorizontal();if(0===t)l[e?"scrollLeft":"scrollTop"]=-c;else{if(!a.support.smoothScroll)return u({swiper:a,targetPosition:-c,side:e?"left":"top"}),!0;l.scrollTo({[e?"left":"top"]:-c,behavior:"smooth"})}return!0}return 0===t?(a.setTransition(0),a.setTranslate(c),s&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(c),s&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,s&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}};function O(e){let{swiper:t,runCallbacks:s,direction:i,step:r}=e;const{activeIndex:a,previousIndex:n}=t;let l=i;if(l||(l=a>n?"next":a<n?"prev":"reset"),t.emit(`transition${r}`),s&&a!==n){if("reset"===l)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),"next"===l?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}var A={slideTo:function(e,t,s,i,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),"string"==typeof e&&(e=parseInt(e,10));const a=this;let n=e;n<0&&(n=0);const{params:l,snapGrid:o,slidesGrid:d,previousIndex:c,activeIndex:p,rtlTranslate:m,wrapperEl:f,enabled:h}=a;if(a.animating&&l.preventInteractionOnTransition||!h&&!i&&!r)return!1;const v=Math.min(a.params.slidesPerGroupSkip,n);let g=v+Math.floor((n-v)/a.params.slidesPerGroup);g>=o.length&&(g=o.length-1);const b=-o[g];if(l.normalizeSlideIndex)for(let e=0;e<d.length;e+=1){const t=-Math.floor(100*b),s=Math.floor(100*d[e]),i=Math.floor(100*d[e+1]);void 0!==d[e+1]?t>=s&&t<i-(i-s)/2?n=e:t>=s&&t<i&&(n=e+1):t>=s&&(n=e)}if(a.initialized&&n!==p){if(!a.allowSlideNext&&(m?b>a.translate&&b>a.minTranslate():b<a.translate&&b<a.minTranslate()))return!1;if(!a.allowSlidePrev&&b>a.translate&&b>a.maxTranslate()&&(p||0)!==n)return!1}let w;if(n!==(c||0)&&s&&a.emit("beforeSlideChangeStart"),a.updateProgress(b),w=n>p?"next":n<p?"prev":"reset",m&&-b===a.translate||!m&&b===a.translate)return a.updateActiveIndex(n),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==l.effect&&a.setTranslate(b),"reset"!==w&&(a.transitionStart(s,w),a.transitionEnd(s,w)),!1;if(l.cssMode){const e=a.isHorizontal(),s=m?b:-b;if(0===t){const t=a.virtual&&a.params.virtual.enabled;t&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),t&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{f[e?"scrollLeft":"scrollTop"]=s}))):f[e?"scrollLeft":"scrollTop"]=s,t&&requestAnimationFrame((()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1}))}else{if(!a.support.smoothScroll)return u({swiper:a,targetPosition:s,side:e?"left":"top"}),!0;f.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}return a.setTransition(t),a.setTranslate(b),a.updateActiveIndex(n),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,i),a.transitionStart(s,w),0===t?a.transitionEnd(s,w):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(s,w))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,s,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),"string"==typeof e){e=parseInt(e,10)}const r=this;let a=e;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?a+=r.virtual.slidesBefore:a=r.getSlideIndexByData(a)),r.slideTo(a,t,s,i)},slideNext:function(e,t,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const i=this,{enabled:r,params:a,animating:n}=i;if(!r)return i;let l=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));const o=i.activeIndex<a.slidesPerGroupSkip?1:l,d=i.virtual&&a.virtual.enabled;if(a.loop){if(n&&!d&&a.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&a.cssMode)return requestAnimationFrame((()=>{i.slideTo(i.activeIndex+o,e,t,s)})),!0}return a.rewind&&i.isEnd?i.slideTo(0,e,t,s):i.slideTo(i.activeIndex+o,e,t,s)},slidePrev:function(e,t,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const i=this,{params:r,snapGrid:a,slidesGrid:n,rtlTranslate:l,enabled:o,animating:d}=i;if(!o)return i;const c=i.virtual&&r.virtual.enabled;if(r.loop){if(d&&!c&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function p(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=p(l?i.translate:-i.translate),m=a.map((e=>p(e)));let f=a[m.indexOf(u)-1];if(void 0===f&&r.cssMode){let e;a.forEach(((t,s)=>{u>=t&&(e=s)})),void 0!==e&&(f=a[e>0?e-1:e])}let h=0;if(void 0!==f&&(h=n.indexOf(f),h<0&&(h=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(h=h-i.slidesPerViewDynamic("previous",!0)+1,h=Math.max(h,0))),r.rewind&&i.isBeginning){const r=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(r,e,t,s)}return r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame((()=>{i.slideTo(h,e,t,s)})),!0):i.slideTo(h,e,t,s)},slideReset:function(e,t,s){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,s)},slideToClosest:function(e,t,s,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=.5);const r=this;let a=r.activeIndex;const n=Math.min(r.params.slidesPerGroupSkip,a),l=n+Math.floor((a-n)/r.params.slidesPerGroup),o=r.rtlTranslate?r.translate:-r.translate;if(o>=r.snapGrid[l]){const e=r.snapGrid[l];o-e>(r.snapGrid[l+1]-e)*i&&(a+=r.params.slidesPerGroup)}else{const e=r.snapGrid[l-1];o-e<=(r.snapGrid[l]-e)*i&&(a-=r.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,r.slidesGrid.length-1),r.slideTo(a,e,t,s)},slideToClickedSlide:function(){const e=this,{params:t,slidesEl:s}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let r,a=e.clickedIndex;const l=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;r=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?a<e.loopedSlides-i/2||a>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),a=e.getSlideIndex(m(s,`${l}[data-swiper-slide-index="${r}"]`)[0]),n((()=>{e.slideTo(a)}))):e.slideTo(a):a>e.slides.length-i?(e.loopFix(),a=e.getSlideIndex(m(s,`${l}[data-swiper-slide-index="${r}"]`)[0]),n((()=>{e.slideTo(a)}))):e.slideTo(a)}else e.slideTo(a)}};var D={loopCreate:function(e){const t=this,{params:s,slidesEl:i}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;m(i,`.${s.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})),t.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:s=!0,direction:i,setTranslate:r,activeSlideIndex:a,byController:n,byMousewheel:l}=void 0===e?{}:e;const o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");const{slides:d,allowSlidePrev:c,allowSlideNext:p,slidesEl:u,params:m}=o;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&m.virtual.enabled)return s&&(m.centeredSlides||0!==o.snapIndex?m.centeredSlides&&o.snapIndex<m.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0):o.slideTo(o.virtual.slides.length,0,!1,!0)),o.allowSlidePrev=c,o.allowSlideNext=p,void o.emit("loopFix");const f="auto"===m.slidesPerView?o.slidesPerViewDynamic():Math.ceil(parseFloat(m.slidesPerView,10));let h=m.loopedSlides||f;h%m.slidesPerGroup!=0&&(h+=m.slidesPerGroup-h%m.slidesPerGroup),o.loopedSlides=h;const v=[],g=[];let b=o.activeIndex;void 0===a?a=o.getSlideIndex(o.slides.filter((e=>e.classList.contains(m.slideActiveClass)))[0]):b=a;const w="next"===i||!i,y="prev"===i||!i;let S=0,T=0;if(a<h){S=Math.max(h-a,m.slidesPerGroup);for(let e=0;e<h-a;e+=1){const t=e-Math.floor(e/d.length)*d.length;v.push(d.length-t-1)}}else if(a>o.slides.length-2*h){T=Math.max(a-(o.slides.length-2*h),m.slidesPerGroup);for(let e=0;e<T;e+=1){const t=e-Math.floor(e/d.length)*d.length;g.push(t)}}if(y&&v.forEach((e=>{o.slides[e].swiperLoopMoveDOM=!0,u.prepend(o.slides[e]),o.slides[e].swiperLoopMoveDOM=!1})),w&&g.forEach((e=>{o.slides[e].swiperLoopMoveDOM=!0,u.append(o.slides[e]),o.slides[e].swiperLoopMoveDOM=!1})),o.recalcSlides(),"auto"===m.slidesPerView&&o.updateSlides(),m.watchSlidesProgress&&o.updateSlidesOffset(),s)if(v.length>0&&y)if(void 0===t){const e=o.slidesGrid[b],t=o.slidesGrid[b+S]-e;l?o.setTranslate(o.translate-t):(o.slideTo(b+S,0,!1,!0),r&&(o.touches[o.isHorizontal()?"startX":"startY"]+=t,o.touchEventsData.currentTranslate=o.translate))}else r&&(o.slideToLoop(t,0,!1,!0),o.touchEventsData.currentTranslate=o.translate);else if(g.length>0&&w)if(void 0===t){const e=o.slidesGrid[b],t=o.slidesGrid[b-T]-e;l?o.setTranslate(o.translate-t):(o.slideTo(b-T,0,!1,!0),r&&(o.touches[o.isHorizontal()?"startX":"startY"]+=t,o.touchEventsData.currentTranslate=o.translate))}else o.slideToLoop(t,0,!1,!0);if(o.allowSlidePrev=c,o.allowSlideNext=p,o.controller&&o.controller.control&&!n){const e={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:a,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===m.slidesPerView&&s})})):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix({...e,slideTo:o.controller.control.params.slidesPerView===m.slidesPerView&&s})}o.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),i.forEach((e=>{s.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function G(e){const t=this,s=i(),r=a(),n=t.touchEventsData;n.evCache.push(e);const{params:o,touches:d,enabled:c}=t;if(!c)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let p=e;p.originalEvent&&(p=p.originalEvent);let u=p.target;if("wrapper"===o.touchEventsTarget&&!t.wrapperEl.contains(u))return;if("which"in p&&3===p.which)return;if("button"in p&&p.button>0)return;if(n.isTouched&&n.isMoved)return;const m=!!o.noSwipingClass&&""!==o.noSwipingClass,f=e.composedPath?e.composedPath():e.path;m&&p.target&&p.target.shadowRoot&&f&&(u=f[0]);const h=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,v=!(!p.target||!p.target.shadowRoot);if(o.noSwiping&&(v?function(e,t){return void 0===t&&(t=this),function t(s){if(!s||s===i()||s===a())return null;s.assignedSlot&&(s=s.assignedSlot);const r=s.closest(e);return r||s.getRootNode?r||t(s.getRootNode().host):null}(t)}(h,u):u.closest(h)))return void(t.allowClick=!0);if(o.swipeHandler&&!u.closest(o.swipeHandler))return;d.currentX=p.pageX,d.currentY=p.pageY;const g=d.currentX,b=d.currentY,w=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,y=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(w&&(g<=y||g>=r.innerWidth-y)){if("prevent"!==w)return;e.preventDefault()}Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=g,d.startY=b,n.touchStartTime=l(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(n.allowThresholdMove=!1);let S=!0;u.matches(n.focusableElements)&&(S=!1,"SELECT"===u.nodeName&&(n.isTouched=!1)),s.activeElement&&s.activeElement.matches(n.focusableElements)&&s.activeElement!==u&&s.activeElement.blur();const T=S&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!T||u.isContentEditable||p.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",p)}function $(e){const t=i(),s=this,r=s.touchEventsData,{params:a,touches:n,rtlTranslate:o,enabled:d}=s;if(!d)return;if(!a.simulateTouch&&"mouse"===e.pointerType)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&s.emit("touchMoveOpposite",c));const p=r.evCache.findIndex((e=>e.pointerId===c.pointerId));p>=0&&(r.evCache[p]=c);const u=r.evCache.length>1?r.evCache[0]:c,m=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper)return n.startX=m,void(n.startY=f);if(!s.allowTouchMove)return c.target.matches(r.focusableElements)||(s.allowClick=!1),void(r.isTouched&&(Object.assign(n,{startX:m,startY:f,prevX:s.touches.currentX,prevY:s.touches.currentY,currentX:m,currentY:f}),r.touchStartTime=l()));if(a.touchReleaseOnEdges&&!a.loop)if(s.isVertical()){if(f<n.startY&&s.translate<=s.maxTranslate()||f>n.startY&&s.translate>=s.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(m<n.startX&&s.translate<=s.maxTranslate()||m>n.startX&&s.translate>=s.minTranslate())return;if(t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements))return r.isMoved=!0,void(s.allowClick=!1);if(r.allowTouchCallbacks&&s.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;n.currentX=m,n.currentY=f;const h=n.currentX-n.startX,v=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(h**2+v**2)<s.params.threshold)return;if(void 0===r.isScrolling){let e;s.isHorizontal()&&n.currentY===n.startY||s.isVertical()&&n.currentX===n.startX?r.isScrolling=!1:h*h+v*v>=25&&(e=180*Math.atan2(Math.abs(v),Math.abs(h))/Math.PI,r.isScrolling=s.isHorizontal()?e>a.touchAngle:90-e>a.touchAngle)}if(r.isScrolling&&s.emit("touchMoveOpposite",c),void 0===r.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(r.startMoving=!0)),r.isScrolling||s.zoom&&s.params.zoom&&s.params.zoom.enabled&&r.evCache.length>1)return void(r.isTouched=!1);if(!r.startMoving)return;s.allowClick=!1,!a.cssMode&&c.cancelable&&c.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&c.stopPropagation();let g=s.isHorizontal()?h:v,b=s.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;a.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),b=Math.abs(b)*(o?1:-1)),n.diff=g,g*=a.touchRatio,o&&(g=-g,b=-b);const w=s.touchesDirection;s.swipeDirection=g>0?"prev":"next",s.touchesDirection=b>0?"prev":"next";const y=s.params.loop&&!a.cssMode,S="next"===s.swipeDirection&&s.allowSlideNext||"prev"===s.swipeDirection&&s.allowSlidePrev;if(!r.isMoved){if(y&&S&&s.loopFix({direction:s.swipeDirection}),r.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(e)}r.allowMomentumBounce=!1,!a.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}let T;r.isMoved&&w!==s.touchesDirection&&y&&S&&Math.abs(g)>=1&&(s.loopFix({direction:s.swipeDirection,setTranslate:!0}),T=!0),s.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let x=!0,E=a.resistanceRatio;if(a.touchReleaseOnEdges&&(E=0),g>0?(y&&S&&!T&&r.currentTranslate>(a.centeredSlides?s.minTranslate()-s.size/2:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>s.minTranslate()&&(x=!1,a.resistance&&(r.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+r.startTranslate+g)**E))):g<0&&(y&&S&&!T&&r.currentTranslate<(a.centeredSlides?s.maxTranslate()+s.size/2:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===a.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<s.maxTranslate()&&(x=!1,a.resistance&&(r.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-r.startTranslate-g)**E))),x&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),s.allowSlidePrev||s.allowSlideNext||(r.currentTranslate=r.startTranslate),a.threshold>0){if(!(Math.abs(g)>a.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,r.currentTranslate=r.startTranslate,void(n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}a.followFinger&&!a.cssMode&&((a.freeMode&&a.freeMode.enabled&&s.freeMode||a.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(r.currentTranslate),s.setTranslate(r.currentTranslate))}function _(e){const t=this,s=t.touchEventsData,i=s.evCache.findIndex((t=>t.pointerId===e.pointerId));if(i>=0&&s.evCache.splice(i,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(e.type)){if(!(["pointercancel","contextmenu"].includes(e.type)&&(t.browser.isSafari||t.browser.isWebView)))return}const{params:r,touches:a,rtlTranslate:o,slidesGrid:d,enabled:c}=t;if(!c)return;if(!r.simulateTouch&&"mouse"===e.pointerType)return;let p=e;if(p.originalEvent&&(p=p.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",p),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&r.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);r.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=l(),m=u-s.touchStartTime;if(t.allowClick){const e=p.path||p.composedPath&&p.composedPath();t.updateClickedSlide(e&&e[0]||p.target,e),t.emit("tap click",p),m<300&&u-s.lastClickTime<300&&t.emit("doubleTap doubleClick",p)}if(s.lastClickTime=l(),n((()=>{t.destroyed||(t.allowClick=!0)})),!s.isTouched||!s.isMoved||!t.swipeDirection||0===a.diff||s.currentTranslate===s.startTranslate)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let f;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,f=r.followFinger?o?t.translate:-t.translate:-s.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:f});let h=0,v=t.slidesSizesGrid[0];for(let e=0;e<d.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==d[e+t]?f>=d[e]&&f<d[e+t]&&(h=e,v=d[e+t]-d[e]):f>=d[e]&&(h=e,v=d[d.length-1]-d[d.length-2])}let g=null,b=null;r.rewind&&(t.isBeginning?b=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const w=(f-d[h])/v,y=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(m>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(w>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?g:h+y):t.slideTo(h)),"prev"===t.swipeDirection&&(w>1-r.longSwipesRatio?t.slideTo(h+y):null!==b&&w<0&&Math.abs(w)>r.longSwipesRatio?t.slideTo(b):t.slideTo(h))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(p.target===t.navigation.nextEl||p.target===t.navigation.prevEl)?p.target===t.navigation.nextEl?t.slideTo(h+y):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==g?g:h+y),"prev"===t.swipeDirection&&t.slideTo(null!==b?b:h))}}function V(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:a}=e,n=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=n&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||l?e.params.loop&&!n?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}function B(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function N(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:i}=e;if(!i)return;let r;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const a=e.maxTranslate()-e.minTranslate();r=0===a?0:(e.translate-e.minTranslate())/a,r!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function H(e){const t=this;P(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}let F=!1;function j(){}const q=(e,t)=>{const s=i(),{params:r,el:a,wrapperEl:n,device:l}=e,o=!!r.nested,d="on"===t?"addEventListener":"removeEventListener",c=t;a[d]("pointerdown",e.onTouchStart,{passive:!1}),s[d]("pointermove",e.onTouchMove,{passive:!1,capture:o}),s[d]("pointerup",e.onTouchEnd,{passive:!0}),s[d]("pointercancel",e.onTouchEnd,{passive:!0}),s[d]("pointerout",e.onTouchEnd,{passive:!0}),s[d]("pointerleave",e.onTouchEnd,{passive:!0}),s[d]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[d]("click",e.onClick,!0),r.cssMode&&n[d]("scroll",e.onScroll),r.updateOnWindowResize?e[c](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",V,!0):e[c]("observerUpdate",V,!0),a[d]("load",e.onLoad,{capture:!0})};const R=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var W={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function X(e,t){return function(s){void 0===s&&(s={});const i=Object.keys(s)[0],r=s[i];"object"==typeof r&&null!==r?(!0===e[i]&&(e[i]={enabled:!0}),"navigation"===i&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),i in e&&"enabled"in r?("object"!=typeof e[i]||"enabled"in e[i]||(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),c(t,s)):c(t,s)):c(t,s)}}const Y={eventsEmitter:M,update:I,translate:z,transition:{setTransition:function(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`,s.wrapperEl.style.transitionDelay=0===e?"0ms":""),s.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const s=this,{params:i}=s;i.cssMode||(i.autoHeight&&s.updateAutoHeight(),O({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const s=this,{params:i}=s;s.animating=!1,i.cssMode||(s.setTransition(0),O({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:A,loop:D,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,t=i(),{params:s}=e;e.onTouchStart=G.bind(e),e.onTouchMove=$.bind(e),e.onTouchEnd=_.bind(e),s.cssMode&&(e.onScroll=N.bind(e)),e.onClick=B.bind(e),e.onLoad=H.bind(e),F||(t.addEventListener("touchstart",j),F=!0),q(e,"on")},detachEvents:function(){q(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:s,params:i,el:r}=e,a=i.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const n=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(!n||e.currentBreakpoint===n)return;const l=(n in a?a[n]:void 0)||e.originalParams,o=R(e,i),d=R(e,l),p=i.enabled;o&&!d?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!o&&d&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===l[t])return;const s=i[t]&&i[t].enabled,r=l[t]&&l[t].enabled;s&&!r&&e[t].disable(),!s&&r&&e[t].enable()}));const u=l.direction&&l.direction!==i.direction,m=i.loop&&(l.slidesPerView!==i.slidesPerView||u),f=i.loop;u&&s&&e.changeDirection(),c(e.params,l);const h=e.params.enabled,v=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!h?e.disable():!p&&h&&e.enable(),e.currentBreakpoint=n,e.emit("_beforeBreakpoint",l),s&&(m?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!f&&v?(e.loopCreate(t),e.updateSlides()):f&&!v&&e.loopDestroy()),e.emit("breakpoint",l)},getBreakpoint:function(e,t,s){if(void 0===t&&(t="window"),!e||"container"===t&&!s)return;let i=!1;const r=a(),n="window"===t?r.innerHeight:s.clientHeight,l=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}}));l.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<l.length;e+=1){const{point:a,value:n}=l[e];"window"===t?r.matchMedia(`(min-width: ${n}px)`).matches&&(i=a):n<=s.clientWidth&&(i=a)}return i||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:i}=s;if(i){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*i;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:i,el:r,device:a}=e,n=function(e,t){const s=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((i=>{e[i]&&s.push(t+i)})):"string"==typeof e&&s.push(t+e)})),s}(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:i},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...n),r.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}}},U={};class K{constructor(){let e,t;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=c({},t),e&&!t.el&&(t.el=e);const n=i();if(t.el&&"string"==typeof t.el&&n.querySelectorAll(t.el).length>1){const e=[];return n.querySelectorAll(t.el).forEach((s=>{const i=c({},t,{el:s});e.push(new K(i))})),e}const l=this;l.__swiper__=!0,l.support=x(),l.device=E({userAgent:t.userAgent}),l.browser=C(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const o={};l.modules.forEach((e=>{e({params:t,swiper:l,extendParams:X(t,o),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})}));const d=c({},W,o);return l.params=c({},d,U,t),l.originalParams=c({},l.params),l.passedParams=c({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach((e=>{l.on(e,l.params.on[e])})),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===l.params.direction,isVertical:()=>"vertical"===l.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getSlideIndex(e){const{slidesEl:t,params:s}=this,i=g(m(t,`.${s.slideClass}, swiper-slide`)[0]);return g(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=m(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),r=(s.maxTranslate()-i)*e+i;s.translateTo(r,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((s=>{const i=e.getSlideClasses(s);t.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:i,slidesGrid:r,slidesSizesGrid:a,size:n,activeIndex:l}=this;let o=1;if("number"==typeof s.slidesPerView)return s.slidesPerView;if(s.centeredSlides){let e,t=i[l]?i[l].swiperSlideSize:0;for(let s=l+1;s<i.length;s+=1)i[s]&&!e&&(t+=i[s].swiperSlideSize,o+=1,t>n&&(e=!0));for(let s=l-1;s>=0;s-=1)i[s]&&!e&&(t+=i[s].swiperSlideSize,o+=1,t>n&&(e=!0))}else if("current"===e)for(let e=l+1;e<i.length;e+=1){(t?r[e]+a[e]-r[l]<n:r[e]-r[l]<n)&&(o+=1)}else for(let e=l-1;e>=0;e-=1){r[l]-r[e]<n&&(o+=1)}return o}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function i(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&P(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if(("auto"===s.slidesPerView||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const t=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(t.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const s=this,i=s.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if("string"==typeof s&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&"SWIPER-CONTAINER"===s.parentNode.host.nodeName&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=(()=>{if(s&&s.shadowRoot&&s.shadowRoot.querySelector){return s.shadowRoot.querySelector(i())}return m(s,i())[0]})();return!r&&t.params.createElements&&(r=f("div",t.params.wrapperClass),s.append(r),m(s,`.${t.params.slideClass}`).forEach((e=>{r.append(e)}))),Object.assign(t,{el:s,wrapperEl:r,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:r,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:"rtl"===s.dir.toLowerCase()||"rtl"===v(s,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===v(s,"direction")),wrongRTL:"-webkit-box"===v(r,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach((e=>{e.complete?P(t,e):e.addEventListener("load",(e=>{P(t,e.target)}))})),k(t),t.initialized=!0,k(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const s=this,{params:i,el:r,wrapperEl:a,slides:n}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),t&&(s.removeClasses(),r.removeAttribute("style"),a.removeAttribute("style"),n&&n.length&&n.forEach((e=>{e.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),s.emit("destroy"),Object.keys(s.eventsListeners).forEach((e=>{s.off(e)})),!1!==e&&(s.el.swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(s)),s.destroyed=!0),null}static extendDefaults(e){c(U,e)}static get extendedDefaults(){return U}static get defaults(){return W}static installModule(e){K.prototype.__modules__||(K.prototype.__modules__=[]);const t=K.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>K.installModule(e))),K):(K.installModule(e),K)}}function J(e,t,s,i){return e.params.createElements&&Object.keys(i).forEach((r=>{if(!s[r]&&!0===s.auto){let a=m(e.el,`.${i[r]}`)[0];a||(a=f("div",i[r]),a.className=i[r],e.el.append(a)),s[r]=a,t[r]=a}})),s}function Q(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}Object.keys(Y).forEach((e=>{Object.keys(Y[e]).forEach((t=>{K.prototype[t]=Y[e][t]}))})),K.use([function(e){let{swiper:t,on:s,emit:i}=e;const r=a();let n=null,l=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},d=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};s("init",(()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?t&&!t.destroyed&&t.initialized&&(n=new ResizeObserver((e=>{l=r.requestAnimationFrame((()=>{const{width:s,height:i}=t;let r=s,a=i;e.forEach((e=>{let{contentBoxSize:s,contentRect:i,target:n}=e;n&&n!==t.el||(r=i?i.width:(s[0]||s).inlineSize,a=i?i.height:(s[0]||s).blockSize)})),r===s&&a===i||o()}))})),n.observe(t.el)):(r.addEventListener("resize",o),r.addEventListener("orientationchange",d))})),s("destroy",(()=>{l&&r.cancelAnimationFrame(l),n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",d)}))},function(e){let{swiper:t,extendParams:s,on:i,emit:r}=e;const n=[],l=a(),o=function(e,s){void 0===s&&(s={});const i=new(l.MutationObserver||l.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void r("observerUpdate",e[0]);const s=function(){r("observerUpdate",e[0])};l.requestAnimationFrame?l.requestAnimationFrame(s):l.setTimeout(s,0)}));i.observe(e,{attributes:void 0===s.attributes||s.attributes,childList:void 0===s.childList||s.childList,characterData:void 0===s.characterData||s.characterData}),n.push(i)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=b(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}})),i("destroy",(()=>{n.forEach((e=>{e.disconnect()})),n.splice(0,n.length)}))}]);const Z=[function(e){let{swiper:t,extendParams:s,on:r,emit:n}=e;const l=i(),o=a();function d(e){if(!t.enabled)return;const{rtlTranslate:s}=t;let i=e;i.originalEvent&&(i=i.originalEvent);const r=i.keyCode||i.charCode,a=t.params.keyboard.pageUpDown,d=a&&33===r,c=a&&34===r,p=37===r,u=39===r,m=38===r,f=40===r;if(!t.allowSlideNext&&(t.isHorizontal()&&u||t.isVertical()&&f||c))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&p||t.isVertical()&&m||d))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||l.activeElement&&l.activeElement.nodeName&&("input"===l.activeElement.nodeName.toLowerCase()||"textarea"===l.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(d||c||p||u||m||f)){let e=!1;if(b(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===b(t.el,`.${t.params.slideActiveClass}`).length)return;const i=t.el,r=i.clientWidth,a=i.clientHeight,n=o.innerWidth,l=o.innerHeight,d=h(i);s&&(d.left-=i.scrollLeft);const c=[[d.left,d.top],[d.left+r,d.top],[d.left,d.top+a],[d.left+r,d.top+a]];for(let t=0;t<c.length;t+=1){const s=c[t];if(s[0]>=0&&s[0]<=n&&s[1]>=0&&s[1]<=l){if(0===s[0]&&0===s[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((d||c||p||u)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),((c||u)&&!s||(d||p)&&s)&&t.slideNext(),((d||p)&&!s||(c||u)&&s)&&t.slidePrev()):((d||c||m||f)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),(c||f)&&t.slideNext(),(d||m)&&t.slidePrev()),n("keyPress",r)}}function c(){t.keyboard.enabled||(l.addEventListener("keydown",d),t.keyboard.enabled=!0)}function p(){t.keyboard.enabled&&(l.removeEventListener("keydown",d),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},s({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),r("init",(()=>{t.params.keyboard.enabled&&c()})),r("destroy",(()=>{t.keyboard.enabled&&p()})),Object.assign(t.keyboard,{enable:c,disable:p})},function(e){let{swiper:t,extendParams:s,on:i,emit:r}=e;s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const a=e=>(Array.isArray(e)?e:[e]).filter((e=>!!e));function n(e){let s;return e&&"string"==typeof e&&t.isElement&&(s=t.el.querySelector(e),s)?s:(e&&("string"==typeof e&&(s=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&s.length>1&&1===t.el.querySelectorAll(e).length&&(s=t.el.querySelector(e))),e&&!s?e:s)}function l(e,s){const i=t.params.navigation;(e=a(e)).forEach((e=>{e&&(e.classList[s?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=s),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass))}))}function o(){const{nextEl:e,prevEl:s}=t.navigation;if(t.params.loop)return l(s,!1),void l(e,!1);l(s,t.isBeginning&&!t.params.rewind),l(e,t.isEnd&&!t.params.rewind)}function d(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function p(){const e=t.params.navigation;if(t.params.navigation=J(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let s=n(e.nextEl),i=n(e.prevEl);Object.assign(t.navigation,{nextEl:s,prevEl:i}),s=a(s),i=a(i);const r=(s,i)=>{s&&s.addEventListener("click","next"===i?c:d),!t.enabled&&s&&s.classList.add(...e.lockClass.split(" "))};s.forEach((e=>r(e,"next"))),i.forEach((e=>r(e,"prev")))}function u(){let{nextEl:e,prevEl:s}=t.navigation;e=a(e),s=a(s);const i=(e,s)=>{e.removeEventListener("click","next"===s?c:d),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>i(e,"next"))),s.forEach((e=>i(e,"prev")))}i("init",(()=>{!1===t.params.navigation.enabled?m():(p(),o())})),i("toEdge fromEdge lock unlock",(()=>{o()})),i("destroy",(()=>{u()})),i("enable disable",(()=>{let{nextEl:e,prevEl:s}=t.navigation;e=a(e),s=a(s),t.enabled?o():[...e,...s].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),i("click",((e,s)=>{let{nextEl:i,prevEl:n}=t.navigation;i=a(i),n=a(n);const l=s.target;if(t.params.navigation.hideOnClick&&!n.includes(l)&&!i.includes(l)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===l||t.pagination.el.contains(l)))return;let e;i.length?e=i[0].classList.contains(t.params.navigation.hiddenClass):n.length&&(e=n[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===e?"navigationShow":"navigationHide"),[...i,...n].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const m=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),o()},disable:m,update:o,init:p,destroy:u})},function(e){let{swiper:t,extendParams:s,on:i,emit:r}=e;const a="swiper-pagination";let n;s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),t.pagination={el:null,bullets:[]};let l=0;const o=e=>(Array.isArray(e)?e:[e]).filter((e=>!!e));function d(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,s){const{bulletActiveClass:i}=t.params.pagination;e&&(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${i}-${s}`),(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&e.classList.add(`${i}-${s}-${s}`))}function p(e){const s=e.target.closest(Q(t.params.pagination.bulletClass));if(!s)return;e.preventDefault();const i=g(s)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===i)return;const e=t.realIndex,s=t.getSlideIndexByData(i),r=t.getSlideIndexByData(t.realIndex),a=i=>{const r=t.activeIndex;t.loopFix({direction:i,activeSlideIndex:s,slideTo:!1});r===t.activeIndex&&t.slideToLoop(e,0,!1,!0)};if(s>t.slides.length-t.loopedSlides)a(s>r?"next":"prev");else if(t.params.centeredSlides){const e="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(parseFloat(t.params.slidesPerView,10));s<Math.floor(e/2)&&a("prev")}t.slideToLoop(i)}else t.slideTo(i)}function u(){const e=t.rtl,s=t.params.pagination;if(d())return;let i,a,p=t.pagination.el;p=o(p);const u=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,m=t.params.loop?Math.ceil(u/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(a=t.previousRealIndex||0,i=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(i=t.snapIndex,a=t.previousSnapIndex):(a=t.previousIndex||0,i=t.activeIndex||0),"bullets"===s.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const r=t.pagination.bullets;let o,d,u;if(s.dynamicBullets&&(n=w(r[0],t.isHorizontal()?"width":"height",!0),p.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=n*(s.dynamicMainBullets+4)+"px"})),s.dynamicMainBullets>1&&void 0!==a&&(l+=i-(a||0),l>s.dynamicMainBullets-1?l=s.dynamicMainBullets-1:l<0&&(l=0)),o=Math.max(i-l,0),d=o+(Math.min(r.length,s.dynamicMainBullets)-1),u=(d+o)/2),r.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${s.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),p.length>1)r.forEach((e=>{const r=g(e);r===i?e.classList.add(...s.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),s.dynamicBullets&&(r>=o&&r<=d&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),r===o&&c(e,"prev"),r===d&&c(e,"next"))}));else{const e=r[i];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),t.isElement&&r.forEach(((e,t)=>{e.setAttribute("part",t===i?"bullet-active":"bullet")})),s.dynamicBullets){const e=r[o],t=r[d];for(let e=o;e<=d;e+=1)r[e]&&r[e].classList.add(...`${s.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(s.dynamicBullets){const i=Math.min(r.length,s.dynamicMainBullets+4),a=(n*i-n)/2-u*n,l=e?"right":"left";r.forEach((e=>{e.style[t.isHorizontal()?l:"top"]=`${a}px`}))}}p.forEach(((e,a)=>{if("fraction"===s.type&&(e.querySelectorAll(Q(s.currentClass)).forEach((e=>{e.textContent=s.formatFractionCurrent(i+1)})),e.querySelectorAll(Q(s.totalClass)).forEach((e=>{e.textContent=s.formatFractionTotal(m)}))),"progressbar"===s.type){let r;r=s.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const a=(i+1)/m;let n=1,l=1;"horizontal"===r?n=a:l=a,e.querySelectorAll(Q(s.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${n}) scaleY(${l})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===s.type&&s.renderCustom?(e.innerHTML=s.renderCustom(t,i+1,m),0===a&&r("paginationRender",e)):(0===a&&r("paginationRender",e),r("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass)}))}function m(){const e=t.params.pagination;if(d())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;let i=t.pagination.el;i=o(i);let a="";if("bullets"===e.type){let i=t.params.loop?Math.ceil(s/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&i>s&&(i=s);for(let s=0;s<i;s+=1)e.renderBullet?a+=e.renderBullet.call(t,s,e.bulletClass):a+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(a=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(a=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],i.forEach((s=>{"custom"!==e.type&&(s.innerHTML=a||""),"bullets"===e.type&&t.pagination.bullets.push(...s.querySelectorAll(Q(e.bulletClass)))})),"custom"!==e.type&&r("paginationRender",i[0])}function f(){t.params.pagination=J(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let s;"string"==typeof e.el&&t.isElement&&(s=t.el.querySelector(e.el)),s||"string"!=typeof e.el||(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),s&&0!==s.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(s)&&s.length>1&&(s=[...t.el.querySelectorAll(e.el)],s.length>1&&(s=s.filter((e=>b(e,".swiper")[0]===t.el))[0])),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(t.pagination,{el:s}),s=o(s),s.forEach((s=>{"bullets"===e.type&&e.clickable&&s.classList.add(...(e.clickableClass||"").split(" ")),s.classList.add(e.modifierClass+e.type),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(s.classList.add(`${e.modifierClass}${e.type}-dynamic`),l=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&s.classList.add(e.progressbarOppositeClass),e.clickable&&s.addEventListener("click",p),t.enabled||s.classList.add(e.lockClass)})))}function h(){const e=t.params.pagination;if(d())return;let s=t.pagination.el;s&&(s=o(s),s.forEach((s=>{s.classList.remove(e.hiddenClass),s.classList.remove(e.modifierClass+e.type),s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(s.classList.remove(...(e.clickableClass||"").split(" ")),s.removeEventListener("click",p))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}i("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:s}=t.pagination;s=o(s),s.forEach((s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),i("init",(()=>{!1===t.params.pagination.enabled?v():(f(),m(),u())})),i("activeIndexChange",(()=>{void 0===t.snapIndex&&u()})),i("snapIndexChange",(()=>{u()})),i("snapGridLengthChange",(()=>{m(),u()})),i("destroy",(()=>{h()})),i("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=o(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),i("lock unlock",(()=>{u()})),i("click",((e,s)=>{const i=s.target,a=o(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&a&&a.length>0&&!i.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&i===t.navigation.nextEl||t.navigation.prevEl&&i===t.navigation.prevEl))return;const e=a[0].classList.contains(t.params.pagination.hiddenClass);r(!0===e?"paginationShow":"paginationHide"),a.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const v=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=o(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),h()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=o(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),f(),m(),u()},disable:v,render:m,update:u,init:f,destroy:h})},function(e){let{swiper:t,extendParams:s,on:r,emit:a}=e;const l=i();let o,d,c,p,u=!1,m=null,v=null;function g(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:s}=t,{dragEl:i,el:r}=e,a=t.params.scrollbar,n=t.params.loop?t.progressLoop:t.progress;let l=d,o=(c-d)*n;s?(o=-o,o>0?(l=d-o,o=0):-o+d>c&&(l=c+o)):o<0?(l=d+o,o=0):o+d>c&&(l=c-o),t.isHorizontal()?(i.style.transform=`translate3d(${o}px, 0, 0)`,i.style.width=`${l}px`):(i.style.transform=`translate3d(0px, ${o}px, 0)`,i.style.height=`${l}px`),a.hide&&(clearTimeout(m),r.style.opacity=1,m=setTimeout((()=>{r.style.opacity=0,r.style.transitionDuration="400ms"}),1e3))}function b(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:s,el:i}=e;s.style.width="",s.style.height="",c=t.isHorizontal()?i.offsetWidth:i.offsetHeight,p=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),d="auto"===t.params.scrollbar.dragSize?c*p:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?s.style.width=`${d}px`:s.style.height=`${d}px`,i.style.display=p>=1?"none":"",t.params.scrollbar.hide&&(i.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function w(e){return t.isHorizontal()?e.clientX:e.clientY}function y(e){const{scrollbar:s,rtlTranslate:i}=t,{el:r}=s;let a;a=(w(e)-h(r)[t.isHorizontal()?"left":"top"]-(null!==o?o:d/2))/(c-d),a=Math.max(Math.min(a,1),0),i&&(a=1-a);const n=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*a;t.updateProgress(n),t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}function S(e){const s=t.params.scrollbar,{scrollbar:i,wrapperEl:r}=t,{el:n,dragEl:l}=i;u=!0,o=e.target===l?w(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),r.style.transitionDuration="100ms",l.style.transitionDuration="100ms",y(e),clearTimeout(v),n.style.transitionDuration="0ms",s.hide&&(n.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),a("scrollbarDragStart",e)}function T(e){const{scrollbar:s,wrapperEl:i}=t,{el:r,dragEl:n}=s;u&&(e.preventDefault?e.preventDefault():e.returnValue=!1,y(e),i.style.transitionDuration="0ms",r.style.transitionDuration="0ms",n.style.transitionDuration="0ms",a("scrollbarDragMove",e))}function x(e){const s=t.params.scrollbar,{scrollbar:i,wrapperEl:r}=t,{el:l}=i;u&&(u=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",r.style.transitionDuration=""),s.hide&&(clearTimeout(v),v=n((()=>{l.style.opacity=0,l.style.transitionDuration="400ms"}),1e3)),a("scrollbarDragEnd",e),s.snapOnRelease&&t.slideToClosest())}function E(e){const{scrollbar:s,params:i}=t,r=s.el;if(!r)return;const a=r,n=!!i.passiveListeners&&{passive:!1,capture:!1},o=!!i.passiveListeners&&{passive:!0,capture:!1};if(!a)return;const d="on"===e?"addEventListener":"removeEventListener";a[d]("pointerdown",S,n),l[d]("pointermove",T,n),l[d]("pointerup",x,o)}function C(){const{scrollbar:e,el:s}=t;t.params.scrollbar=J(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const i=t.params.scrollbar;if(!i.el)return;let r,a;"string"==typeof i.el&&t.isElement&&(r=t.el.querySelector(i.el)),r||"string"!=typeof i.el?r||(r=i.el):r=l.querySelectorAll(i.el),t.params.uniqueNavElements&&"string"==typeof i.el&&r.length>1&&1===s.querySelectorAll(i.el).length&&(r=s.querySelector(i.el)),r.length>0&&(r=r[0]),r.classList.add(t.isHorizontal()?i.horizontalClass:i.verticalClass),r&&(a=r.querySelector(`.${t.params.scrollbar.dragClass}`),a||(a=f("div",t.params.scrollbar.dragClass),r.append(a))),Object.assign(e,{el:r,dragEl:a}),i.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&E("on"),r&&r.classList[t.enabled?"remove":"add"](t.params.scrollbar.lockClass)}function M(){const e=t.params.scrollbar,s=t.scrollbar.el;s&&s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.params.scrollbar.el&&t.scrollbar.el&&E("off")}s({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},r("init",(()=>{!1===t.params.scrollbar.enabled?P():(C(),b(),g())})),r("update resize observerUpdate lock unlock",(()=>{b()})),r("setTranslate",(()=>{g()})),r("setTransition",((e,s)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(s)})),r("enable disable",(()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?"remove":"add"](t.params.scrollbar.lockClass)})),r("destroy",(()=>{M()}));const P=()=>{t.el.classList.add(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.el&&t.scrollbar.el.classList.add(t.params.scrollbar.scrollbarDisabledClass),M()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.el&&t.scrollbar.el.classList.remove(t.params.scrollbar.scrollbarDisabledClass),C(),b(),g()},disable:P,updateSize:b,setTranslate:g,init:C,destroy:M})},function(e){let{swiper:t,extendParams:s,on:r}=e;s({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,n=!1;function l(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const s=e.clickedIndex,i=e.clickedSlide;if(i&&i.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==s)return;let r;r=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):s,t.params.loop?t.slideToLoop(r):t.slideTo(r)}function o(){const{thumbs:e}=t.params;if(a)return!1;a=!0;const s=t.constructor;if(e.swiper instanceof s)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(d(e.swiper)){const i=Object.assign({},e.swiper);Object.assign(i,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new s(i),n=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",l),!0}function c(e){const s=t.thumbs.swiper;if(!s||s.destroyed)return;const i="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView;let r=1;const a=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(r=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(r=1),r=Math.floor(r),s.slides.forEach((e=>e.classList.remove(a))),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let e=0;e<r;e+=1)m(s.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach((e=>{e.classList.add(a)}));else for(let e=0;e<r;e+=1)s.slides[t.realIndex+e]&&s.slides[t.realIndex+e].classList.add(a);const n=t.params.thumbs.autoScrollOffset,l=n&&!s.params.loop;if(t.realIndex!==s.realIndex||l){const r=s.activeIndex;let a,o;if(s.params.loop){const e=s.slides.filter((e=>e.getAttribute("data-swiper-slide-index")===`${t.realIndex}`))[0];a=s.slides.indexOf(e),o=t.activeIndex>t.previousIndex?"next":"prev"}else a=t.realIndex,o=a>t.previousIndex?"next":"prev";l&&(a+="next"===o?n:-1*n),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(a)<0&&(s.params.centeredSlides?a=a>r?a-Math.floor(i/2)+1:a+Math.floor(i/2)-1:a>r&&s.params.slidesPerGroup,s.slideTo(a,e?0:void 0))}}t.thumbs={swiper:null},r("beforeInit",(()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const s=i(),r=()=>{const i="string"==typeof e.swiper?s.querySelector(e.swiper):e.swiper;if(i&&i.swiper)e.swiper=i.swiper,o(),c(!0);else if(i){const s=r=>{e.swiper=r.detail[0],i.removeEventListener("init",s),o(),c(!0),e.swiper.update(),t.update()};i.addEventListener("init",s)}return i},a=()=>{if(t.destroyed)return;r()||requestAnimationFrame(a)};requestAnimationFrame(a)}else o(),c(!0)})),r("slideChange update resize observerUpdate",(()=>{c()})),r("setTransition",((e,s)=>{const i=t.thumbs.swiper;i&&!i.destroyed&&i.setTransition(s)})),r("beforeDestroy",(()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&n&&e.destroy()})),Object.assign(t.thumbs,{init:o,update:c})}];return K.use(Z),K}();

/*!
 * Virtual Select v1.0.31
 * https://sa-si-dev.github.io/virtual-select
 * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
 */!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(e){if("string"==typeof e)return t(e,i);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,i):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var s,n,r;return s=t,r=[{key:"getString",value:function(e){return e||0===e?e.toString():""}},{key:"convertToBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!0===e||"true"===e||!1!==e&&"false"!==e&&t}},{key:"isEmpty",value:function(e){var t=!1;return e?Array.isArray(e)?0===e.length&&(t=!0):"object"===i(e)&&0===Object.keys(e).length&&(t=!0):t=!0,t}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"removeItemFromArray",value:function(t,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Array.isArray(t)||!t.length)return t;var s=o?e(t):t,n=s.indexOf(i);return-1!==n&&s.splice(n,1),s}},{key:"removeArrayEmpty",value:function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return!!e})):[]}},{key:"getRandomInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=Math.ceil(t),o=Math.floor(e);return Math.floor(Math.random()*(o-i-1))+i}}],(n=null)&&o(s.prototype,n),r&&o(s,r),Object.defineProperty(s,"prototype",{writable:!1}),t}();function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o,s,n=[],r=!0,a=!1;try{for(i=i.call(e);!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return n}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function u(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,o;return t=e,o=[{key:"addClass",value:function(t,i){if(t){var o=i.split(" ");e.getElements(t).forEach((function(e){var t;(t=e.classList).add.apply(t,r(o))}))}}},{key:"removeClass",value:function(t,i){if(t){var o=i.split(" ");e.getElements(t).forEach((function(e){var t;(t=e.classList).remove.apply(t,r(o))}))}}},{key:"toggleClass",value:function(t,i,o){var s;t&&(void 0!==o&&(s=Boolean(o)),e.getElements(t).forEach((function(e){e.classList.toggle(i,s)})))}},{key:"hasClass",value:function(e,t){return!!e&&e.classList.contains(t)}},{key:"hasEllipsis",value:function(e){return!!e&&e.scrollWidth>e.offsetWidth}},{key:"getData",value:function(e,t,i){if(e){var o=e?e.dataset[t]:"";return"number"===i?o=parseFloat(o)||0:"true"===o?o=!0:"false"===o&&(o=!1),o}}},{key:"setData",value:function(e,t,i){e&&(e.dataset[t]=i)}},{key:"setAttr",value:function(e,t,i){e&&e.setAttribute(t,i)}},{key:"setAttrFromEle",value:function(e,t,i,o){var s={};i.forEach((function(t){s[t]=e.getAttribute(t)})),i.forEach((function(e){var i=s[e];(i||-1!==o.indexOf(e)&&""===i)&&t.setAttribute(e,i)}))}},{key:"setStyle",value:function(e,t,i){e&&(e.style[t]=i)}},{key:"setStyles",value:function(e,t){e&&t&&Object.keys(t).forEach((function(i){e.style[i]=t[i]}))}},{key:"setAria",value:function(e,t,i){var o=t;"role"!==o&&(o="aria-".concat(o)),e.setAttribute(o,i)}},{key:"getElements",value:function(e){return e?void 0===e.forEach?[e]:e:[]}},{key:"addEvent",value:function(t,i,o){t&&s.removeArrayEmpty(i.split(" ")).forEach((function(i){e.getElements(t).forEach((function(e){e.addEventListener(i,o)}))}))}},{key:"dispatchEvent",value:function(t,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){var s=e.getElements(t);setTimeout((function(){s.forEach((function(e){e.dispatchEvent(new CustomEvent(i,{bubbles:o}))}))}),0)}}},{key:"getAttributesText",value:function(e){var t="";return e?(Object.entries(e).forEach((function(e){var i=n(e,2),o=i[0],s=i[1];void 0!==s&&(t+=" ".concat(o,'="').concat(s,'" '))})),t):t}},{key:"convertPropToDataAttr",value:function(e){return e?"data-".concat(e).replace(/([A-Z])/g,"-$1").toLowerCase():""}}],(i=null)&&u(t.prototype,i),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o,s,n=[],r=!0,a=!1;try{for(i=i.call(e);!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return n}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function m(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var O,S={13:"onEnterPress",38:"onUpArrowPress",40:"onDownArrowPress"},x=["autofocus","disabled","multiple","required"],w=["autofocus","class","disabled","id","multiple","name","placeholder","required"],k=["additionalClasses","aliasKey","allOptionsSelectedText","allowNewOption","alwaysShowSelectedOptionsCount","ariaLabelledby","autoSelectFirstOption","clearButtonText","descriptionKey","disableAllOptionsSelectedText","disableOptionGroupCheckbox","disableSelectAll","disableValidation","dropboxWidth","dropboxWrapper","emptyValue","enableSecureText","hasOptionDescription","hideClearButton","hideValueTooltipOnSelectAll","keepAlwaysOpen","labelKey","markSearchResults","maxValues","maxWidth","moreText","noOfDisplayValues","noOptionsText","noSearchResultsText","optionHeight","optionSelectedText","optionsCount","optionsSelectedText","popupDropboxBreakpoint","popupPosition","position","search","searchByStartsWith","searchGroup","searchPlaceholderText","selectAllOnlyVisible","selectAllText","setValueAsArray","showDropboxAsPopup","showOptionsOnlyOnSearch","showSelectedOptionsFirst","showValueAsTags","silentInitialValueSet","textDirection","tooltipAlignment","tooltipFontSize","tooltipMaxWidth","updatePositionThrottle","useGroupValue","valueKey","zIndex"],C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this.createSecureTextElements(),this.setProps(t),this.setDisabledOptions(t.disabledOptions),this.setOptions(t.options),this.render()}catch(e){console.warn("Couldn't initiate Virtual Select"),console.error(e)}}var t,i,o;return t=e,o=[{key:"init",value:function(t){var i=t.ele;if(i){var o=!1;if("string"==typeof i){var s=(i=document.querySelectorAll(i)).length;if(0===s)return;1===s&&(o=!0)}void 0!==i.length&&void 0!==i.forEach||(i=[i],o=!0);var n=[];return i.forEach((function(i){i.virtualSelect?n.push(i.virtualSelect):(t.ele=i,"SELECT"===i.tagName&&e.setPropsFromSelect(t),n.push(new e(t)))})),o?n[0]:n}}},{key:"getAttrProps",value:function(){var e=p.convertPropToDataAttr,t={};return w.forEach((function(e){t[e]=e})),k.forEach((function(i){t[e(i)]=i})),t}},{key:"setPropsFromSelect",value:function(e){var t=e.ele,i=[],o=[],s=function e(t){var s=[];return Array.from(t.children).forEach((function(t){var n=t.value,r={value:n};"OPTGROUP"===t.tagName?(r.label=t.getAttribute("label"),r.options=e(t)):r.label=t.innerHTML,s.push(r),t.disabled&&i.push(n),t.selected&&o.push(n)})),s}(t),n=document.createElement("div");p.setAttrFromEle(t,n,Object.keys(O),x),t.parentNode.insertBefore(n,t),t.remove(),e.ele=n,e.options=s,e.disabledOptions=i,e.selectedValue=o}},{key:"onFormReset",value:function(e){var t=e.target.closest("form");t&&t.querySelectorAll(".vscomp-ele-wrapper").forEach((function(e){e.parentElement.virtualSelect.reset(!0)}))}},{key:"onFormSubmit",value:function(t){e.validate(t.target.closest("form"))||t.preventDefault()}},{key:"validate",value:function(e){if(!e)return!0;var t=!1;return e.querySelectorAll(".vscomp-ele-wrapper").forEach((function(e){var i=e.parentElement.virtualSelect.validate();t||i||(t=!0)})),!t}},{key:"reset",value:function(){this.virtualSelect.reset()}},{key:"setValueMethod",value:function(){var e;(e=this.virtualSelect).setValueMethod.apply(e,arguments)}},{key:"setOptionsMethod",value:function(){var e;(e=this.virtualSelect).setOptionsMethod.apply(e,arguments)}},{key:"setDisabledOptionsMethod",value:function(){var e;(e=this.virtualSelect).setDisabledOptionsMethod.apply(e,arguments)}},{key:"toggleSelectAll",value:function(e){this.virtualSelect.toggleAllOptions(e)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}},{key:"addOptionMethod",value:function(e){this.virtualSelect.addOption(e,!0)}},{key:"getNewValueMethod",value:function(){return this.virtualSelect.getNewValue()}},{key:"getDisplayValueMethod",value:function(){return this.virtualSelect.getDisplayValue()}},{key:"getSelectedOptionsMethod",value:function(e){return this.virtualSelect.getSelectedOptions(e)}},{key:"openMethod",value:function(){return this.virtualSelect.openDropbox()}},{key:"closeMethod",value:function(){return this.virtualSelect.closeDropbox()}},{key:"focusMethod",value:function(){return this.virtualSelect.focus()}},{key:"enableMethod",value:function(){return this.virtualSelect.enable()}},{key:"disableMethod",value:function(){return this.virtualSelect.disable()}},{key:"destroyMethod",value:function(){return this.virtualSelect.destroy()}},{key:"validateMethod",value:function(){return this.virtualSelect.validate()}},{key:"toggleRequiredMethod",value:function(e){return this.virtualSelect.toggleRequired(e)}},{key:"onResizeMethod",value:function(){document.querySelectorAll(".vscomp-ele-wrapper").forEach((function(e){e.parentElement.virtualSelect.onResize()}))}}],(i=[{key:"render",value:function(){if(this.$ele){var e=this.uniqueId,t="vscomp-wrapper",i=this.getTooltipAttrText(this.placeholder,!0,!0),o=this.getTooltipAttrText(this.clearButtonText),s=this.ariaLabelledby?'aria-labelledby="'.concat(this.ariaLabelledby,'"'):"",n=!1;this.additionalClasses&&(t+=" ".concat(this.additionalClasses)),this.multiple&&(t+=" multiple",this.disableSelectAll||(t+=" has-select-all")),this.hideClearButton||(t+=" has-clear-button"),this.keepAlwaysOpen?(t+=" keep-always-open",n=!0):t+=" closed",this.showAsPopup&&(t+=" show-as-popup"),this.hasSearch&&(t+=" has-search-input"),this.showValueAsTags&&(t+=" show-value-as-tags"),this.textDirection&&(t+=" text-direction-".concat(this.textDirection)),this.popupPosition&&(t+=" popup-position-".concat(this.popupPosition.toLowerCase()));var r='<div id="vscomp-ele-wrapper-'.concat(e,'" class="vscomp-ele-wrapper ').concat(t,'" tabindex="0"\n        role="combobox" aria-haspopup="listbox" aria-controls="vscomp-dropbox-container-').concat(e,'"\n        aria-expanded="').concat(n,'" ').concat(s,'\n      >\n        <input type="hidden" name="').concat(this.name,'" class="vscomp-hidden-input">\n\n        <div class="vscomp-toggle-button">\n          <div class="vscomp-value" ').concat(i,">\n            ").concat(this.placeholder,'\n          </div>\n\n          <div class="vscomp-arrow"></div>\n\n          <div class="vscomp-clear-button toggle-button-child" ').concat(o,'>\n            <i class="vscomp-clear-icon"></i>\n          </div>\n        </div>\n\n        ').concat(this.renderDropbox({wrapperClasses:t}),"\n      </div>");this.$ele.innerHTML=r,this.$body=document.querySelector("body"),this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.hasDropboxWrapper?(this.$allWrappers=[this.$wrapper,this.$dropboxWrapper],this.$dropboxContainer=this.$dropboxWrapper.querySelector(".vscomp-dropbox-container"),p.addClass(this.$dropboxContainer,"pop-comp-wrapper")):(this.$allWrappers=[this.$wrapper],this.$dropboxContainer=this.$wrapper.querySelector(".vscomp-dropbox-container")),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.$hiddenInput=this.$ele.querySelector(".vscomp-hidden-input"),this.$dropbox=this.$dropboxContainer.querySelector(".vscomp-dropbox"),this.$dropboxCloseButton=this.$dropboxContainer.querySelector(".vscomp-dropbox-close-button"),this.$search=this.$dropboxContainer.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$dropboxContainer.querySelector(".vscomp-options-container"),this.$optionsList=this.$dropboxContainer.querySelector(".vscomp-options-list"),this.$options=this.$dropboxContainer.querySelector(".vscomp-options"),this.$noOptions=this.$dropboxContainer.querySelector(".vscomp-no-options"),this.$noSearchResults=this.$dropboxContainer.querySelector(".vscomp-no-search-results"),this.afterRenderWrapper()}}},{key:"renderDropbox",value:function(e){var t=e.wrapperClasses,i="self"!==this.dropboxWrapper?document.querySelector(this.dropboxWrapper):null,o='<div id="vscomp-dropbox-container-'.concat(this.uniqueId,'" role="listbox" class="vscomp-dropbox-container">\n        <div class="vscomp-dropbox">\n          <div class="vscomp-search-wrapper"></div>\n\n          <div class="vscomp-options-container">\n            <div class="vscomp-options-loader"></div>\n\n            <div class="vscomp-options-list">\n              <div class="vscomp-options"></div>\n            </div>\n          </div>\n\n          <div class="vscomp-options-bottom-freezer"></div>\n          <div class="vscomp-no-options">').concat(this.noOptionsText,'</div>\n          <div class="vscomp-no-search-results">').concat(this.noSearchResultsText,'</div>\n\n          <span class="vscomp-dropbox-close-button"><i class="vscomp-clear-icon"></i></span>\n        </div>\n      </div>');if(i){var s=document.createElement("div");return this.$dropboxWrapper=s,this.hasDropboxWrapper=!0,s.innerHTML=o,i.appendChild(s),p.addClass(s,"vscomp-dropbox-wrapper ".concat(t)),""}return this.hasDropboxWrapper=!1,o}},{key:"renderOptions",value:function(){var e,t=this,i="",o=this.getVisibleOptions(),n="",r="",a=!(!this.markSearchResults||!this.searchValue),l=this.labelRenderer,u=this.disableOptionGroupCheckbox,p=this.uniqueId,h=this.searchGroup,c="function"==typeof l,d=s.convertToBoolean;if(a&&(e=new RegExp("(".concat(this.searchValue,")"),"gi")),this.multiple&&(n='<span class="checkbox-icon"></span>'),this.allowNewOption){var v=this.getTooltipAttrText("New Option");r='<span class="vscomp-new-option-icon" '.concat(v,"></span>")}o.forEach((function(o){var s,v=o.index,f="vscomp-option",y=t.getTooltipAttrText("",!0,!0),b=n,g="",m="",O="",S=d(o.isSelected),x="";o.isFocused&&(f+=" focused"),o.isDisabled&&(f+=" disabled",x='aria-disabled="true"'),o.isGroupTitle&&(f+=" group-title",u&&(b="")),S&&(f+=" selected"),o.isGroupOption&&(f+=" group-option",O='data-group-index="'.concat(o.groupIndex,'"')),s=c?l(o):o.label,o.description&&(m='<div class="vscomp-option-description" '.concat(y,">").concat(o.description,"</div>")),o.isCurrentNew?(f+=" current-new",g+=r):!a||o.isGroupTitle&&!h||(s=s.replace(e,"<mark>$1</mark>")),i+='<div role="option" aria-selected="'.concat(S,'" id="vscomp-option-').concat(p,"-").concat(v,'"\n          class="').concat(f,'" data-value="').concat(o.value,'" data-index="').concat(v,'" data-visible-index="').concat(o.visibleIndex,'"\n          ').concat(O," ").concat(x,"\n        >\n          ").concat(b,'\n          <span class="vscomp-option-text" ').concat(y,">\n            ").concat(s,"\n          </span>\n          ").concat(m,"\n          ").concat(g,"\n        </div>")})),this.$options.innerHTML=i,this.$visibleOptions=this.$options.querySelectorAll(".vscomp-option"),this.afterRenderOptions()}},{key:"renderSearch",value:function(){if(this.hasSearchContainer){var e="",t="";this.multiple&&!this.disableSelectAll&&(e='<span class="vscomp-toggle-all-button">\n          <span class="checkbox-icon vscomp-toggle-all-checkbox"></span>\n          <span class="vscomp-toggle-all-label">'.concat(this.selectAllText,"</span>\n        </span>")),this.hasSearch&&(t='<input type="text" class="vscomp-search-input" placeholder="'.concat(this.searchPlaceholderText,'">\n      <span class="vscomp-search-clear">&times;</span>'));var i='<div class="vscomp-search-container">\n        '.concat(e,"\n        ").concat(t,"\n      </div>");this.$search.innerHTML=i,this.$searchInput=this.$dropboxContainer.querySelector(".vscomp-search-input"),this.$searchClear=this.$dropboxContainer.querySelector(".vscomp-search-clear"),this.$toggleAllButton=this.$dropboxContainer.querySelector(".vscomp-toggle-all-button"),this.$toggleAllCheckbox=this.$dropboxContainer.querySelector(".vscomp-toggle-all-checkbox"),this.addEvent(this.$searchInput,"input","onSearch"),this.addEvent(this.$searchClear,"click","onSearchClear"),this.addEvent(this.$toggleAllButton,"click","onToggleAllOptions")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$allWrappers,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click","onToggleButtonClick"),this.addEvent(this.$clearButton,"click","onClearButtonClick"),this.addEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.addEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove"),this.addMutationObserver()}},{key:"addEvent",value:function(e,t,i){var o=this;e&&s.removeArrayEmpty(t.split(" ")).forEach((function(t){var s="".concat(i,"-").concat(t),n=o.events[s];n||(n=o[i].bind(o),o.events[s]=n),p.addEvent(e,t,n)}))}},{key:"onDocumentClick",value:function(e){var t=e.target.closest(".vscomp-wrapper");t!==this.$wrapper&&t!==this.$dropboxWrapper&&this.isOpened()&&this.closeDropbox()}},{key:"onKeyDown",value:function(e){var t=e.which||e.keyCode,i=S[t];i&&this[i](e)}},{key:"onEnterPress",value:function(e){e.preventDefault(),this.isOpened()?this.selectFocusedOption():this.openDropbox()}},{key:"onDownArrowPress",value:function(e){e.preventDefault(),this.isOpened()?this.focusOption({direction:"next"}):this.openDropbox()}},{key:"onUpArrowPress",value:function(e){e.preventDefault(),this.isOpened()?this.focusOption({direction:"previous"}):this.openDropbox()}},{key:"onToggleButtonClick",value:function(e){var t=e.target;t.closest(".vscomp-value-tag-clear-button")?this.removeValue(t.closest(".vscomp-value-tag")):t.closest(".toggle-button-child")||this.toggleDropbox()}},{key:"onClearButtonClick",value:function(){this.reset()}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(e){var t=e.target.closest(".vscomp-option");t&&!p.hasClass(t,"disabled")&&(p.hasClass(t,"group-title")?this.onGroupTitleClick(t):this.selectOption(t,{event:e}))}},{key:"onGroupTitleClick",value:function(e){if(e&&this.multiple&&!this.disableOptionGroupCheckbox){var t=!p.hasClass(e,"selected");this.toggleGroupTitleCheckbox(e,t),this.toggleGroupOptions(e,t)}}},{key:"onDropboxContainerClick",value:function(e){e.target.closest(".vscomp-dropbox")||this.closeDropbox()}},{key:"onDropboxCloseButtonClick",value:function(){this.closeDropbox()}},{key:"onOptionsMouseOver",value:function(e){var t=e.target.closest(".vscomp-option");t&&this.isOpened()&&(p.hasClass(t,"disabled")||p.hasClass(t,"group-title")?this.removeOptionFocus():this.focusOption({$option:t}))}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(e){e.stopPropagation(),this.setSearchValue(e.target.value,!0)}},{key:"onSearchClear",value:function(){this.setSearchValue(""),this.focusSearchInput()}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"onResize",value:function(){this.setOptionsContainerHeight(!0)}},{key:"addMutationObserver",value:function(){var e=this;if(this.hasDropboxWrapper){var t=this.$ele;this.mutationObserver=new MutationObserver((function(i){i.some((function(i){var o=y(i.removedNodes).some((function(e){return!(e!==t&&!e.contains(t))}));return o&&e.destroy(),o}))})),this.mutationObserver.observe(document.querySelector("body"),{childList:!0,subtree:!0})}}},{key:"beforeValueSet",value:function(e){this.toggleAllOptionsClass(!e&&void 0)}},{key:"beforeSelectNewValue",value:function(){var e=this,t=this.getNewOption(),i=t.index;this.newValues.push(t.value),this.setOptionProp(i,"isCurrentNew",!1),this.setOptionProp(i,"isNew",!0),setTimeout((function(){e.setSearchValue(""),e.focusSearchInput()}),0)}},{key:"afterRenderWrapper",value:function(){p.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setEleStyles(),this.setDropboxStyles(),this.setOptionsHeight(),this.setVisibleOptions(),this.setOptionsContainerHeight(),this.addEvents(),this.setEleProps(),this.keepAlwaysOpen||this.showAsPopup||this.initDropboxPopover(),this.initialSelectedValue?this.setValueMethod(this.initialSelectedValue,this.silentInitialValueSet):this.autoSelectFirstOption&&this.visibleOptions.length&&this.setValueMethod(this.visibleOptions[0].value,this.silentInitialValueSet),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),this.initialDisabled&&this.disable(),this.autofocus&&this.focus()}},{key:"afterRenderOptions",value:function(){var e=this.getVisibleOptions(),t=!this.options.length&&!this.hasServerSearch,i=!t&&!e.length;(!this.allowNewOption||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&p.toggleClass(this.$allWrappers,"has-no-search-results",i),p.toggleClass(this.$allWrappers,"has-no-options",t),this.setOptionAttr(),this.setOptionsPosition(),this.setOptionsTooltip()}},{key:"afterSetOptionsContainerHeight",value:function(e){e&&this.showAsPopup&&this.setVisibleOptions()}},{key:"afterSetSearchValue",value:function(){this.hasServerSearch?this.serverSearch():this.setVisibleOptionsCount(),this.selectAllOnlyVisible&&this.toggleAllOptionsClass(),this.focusOption({focusFirst:!0})}},{key:"afterSetVisibleOptionsCount",value:function(){this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions(),this.updatePosition()}},{key:"afterValueSet",value:function(){this.scrollToTop(),this.setSearchValue(""),this.renderOptions()}},{key:"afterSetOptions",value:function(e){e&&this.setSelectedProp(),this.setOptionsHeight(),this.setVisibleOptions(),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),e||this.reset()}},{key:"setProps",value:function(e){var t=this.setDefaultProps(e);this.setPropsFromElementAttr(t);var i=s.convertToBoolean;this.$ele=t.ele,this.dropboxWrapper=t.dropboxWrapper,this.valueKey=t.valueKey,this.labelKey=t.labelKey,this.descriptionKey=t.descriptionKey,this.aliasKey=t.aliasKey,this.optionHeightText=t.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=i(t.multiple),this.hasSearch=i(t.search),this.searchByStartsWith=i(t.searchByStartsWith),this.searchGroup=i(t.searchGroup),this.hideClearButton=i(t.hideClearButton),this.autoSelectFirstOption=i(t.autoSelectFirstOption),this.hasOptionDescription=i(t.hasOptionDescription),this.silentInitialValueSet=i(t.silentInitialValueSet),this.allowNewOption=i(t.allowNewOption),this.markSearchResults=i(t.markSearchResults),this.showSelectedOptionsFirst=i(t.showSelectedOptionsFirst),this.disableSelectAll=i(t.disableSelectAll),this.keepAlwaysOpen=i(t.keepAlwaysOpen),this.showDropboxAsPopup=i(t.showDropboxAsPopup),this.hideValueTooltipOnSelectAll=i(t.hideValueTooltipOnSelectAll),this.showOptionsOnlyOnSearch=i(t.showOptionsOnlyOnSearch),this.selectAllOnlyVisible=i(t.selectAllOnlyVisible),this.alwaysShowSelectedOptionsCount=i(t.alwaysShowSelectedOptionsCount),this.disableAllOptionsSelectedText=i(t.disableAllOptionsSelectedText),this.showValueAsTags=i(t.showValueAsTags),this.disableOptionGroupCheckbox=i(t.disableOptionGroupCheckbox),this.enableSecureText=i(t.enableSecureText),this.setValueAsArray=i(t.setValueAsArray),this.disableValidation=i(t.disableValidation),this.initialDisabled=i(t.disabled),this.required=i(t.required),this.autofocus=i(t.autofocus),this.useGroupValue=i(t.useGroupValue),this.noOptionsText=t.noOptionsText,this.noSearchResultsText=t.noSearchResultsText,this.selectAllText=t.selectAllText,this.searchPlaceholderText=t.searchPlaceholderText,this.optionsSelectedText=t.optionsSelectedText,this.optionSelectedText=t.optionSelectedText,this.allOptionsSelectedText=t.allOptionsSelectedText,this.clearButtonText=t.clearButtonText,this.moreText=t.moreText,this.placeholder=t.placeholder,this.position=t.position,this.textDirection=t.textDirection,this.dropboxWidth=t.dropboxWidth,this.tooltipFontSize=t.tooltipFontSize,this.tooltipAlignment=t.tooltipAlignment,this.tooltipMaxWidth=t.tooltipMaxWidth,this.updatePositionThrottle=t.updatePositionThrottle,this.noOfDisplayValues=parseInt(t.noOfDisplayValues),this.zIndex=parseInt(t.zIndex),this.maxValues=parseInt(t.maxValues),this.name=this.secureText(t.name),this.additionalClasses=t.additionalClasses,this.popupDropboxBreakpoint=t.popupDropboxBreakpoint,this.popupPosition=t.popupPosition,this.onServerSearch=t.onServerSearch,this.labelRenderer=t.labelRenderer,this.initialSelectedValue=0===t.selectedValue?"0":t.selectedValue,this.emptyValue=t.emptyValue,this.ariaLabelledby=t.ariaLabelledby,this.maxWidth=t.maxWidth,this.selectedValues=[],this.selectedOptions=[],this.newValues=[],this.events={},this.tooltipEnterDelay=200,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,(void 0===t.search&&this.multiple||this.allowNewOption||this.showOptionsOnlyOnSearch)&&(this.hasSearch=!0),this.hasServerSearch="function"==typeof this.onServerSearch,(this.maxValues||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&(this.disableSelectAll=!0,this.disableOptionGroupCheckbox=!0),this.keepAlwaysOpen&&(this.dropboxWrapper="self"),this.showAsPopup=this.showDropboxAsPopup&&!this.keepAlwaysOpen&&window.innerWidth<=parseFloat(this.popupDropboxBreakpoint),this.hasSearchContainer=this.hasSearch||this.multiple&&!this.disableSelectAll,this.optionsCount=this.getOptionsCount(t.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionsHeight=this.getOptionsHeight(),this.uniqueId=this.getUniqueId()}},{key:"setDefaultProps",value:function(e){var t={dropboxWrapper:"self",valueKey:"value",labelKey:"label",descriptionKey:"description",aliasKey:"alias",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",noOptionsText:"No options found",noSearchResultsText:"No results found",selectAllText:"Select All",searchPlaceholderText:"Search...",clearButtonText:"Clear",moreText:"more...",optionsSelectedText:"options selected",optionSelectedText:"option selected",allOptionsSelectedText:"All",placeholder:"Select",position:"bottom left",zIndex:e.keepAlwaysOpen?1:2,tooltipFontSize:"14px",tooltipAlignment:"center",tooltipMaxWidth:"300px",updatePositionThrottle:100,name:"",additionalClasses:"",maxValues:0,showDropboxAsPopup:!0,popupDropboxBreakpoint:"576px",popupPosition:"center",hideValueTooltipOnSelectAll:!0,emptyValue:""};return e.hasOptionDescription&&(t.optionsCount=4,t.optionHeight="50px"),Object.assign(t,e)}},{key:"setPropsFromElementAttr",value:function(e){var t=e.ele;Object.keys(O).forEach((function(i){var o=t.getAttribute(i);-1===x.indexOf(i)||""!==o&&"true"!==o||(o=!0),o&&(e[O[i]]=o)}))}},{key:"setEleProps",value:function(){var t=this.$ele;t.virtualSelect=this,t.value=this.multiple?[]:"",t.name=this.name,t.disabled=!1,t.required=this.required,t.autofocus=this.autofocus,t.multiple=this.multiple,t.form=t.closest("form"),t.reset=e.reset,t.setValue=e.setValueMethod,t.setOptions=e.setOptionsMethod,t.setDisabledOptions=e.setDisabledOptionsMethod,t.toggleSelectAll=e.toggleSelectAll,t.isAllSelected=e.isAllSelected,t.addOption=e.addOptionMethod,t.getNewValue=e.getNewValueMethod,t.getDisplayValue=e.getDisplayValueMethod,t.getSelectedOptions=e.getSelectedOptionsMethod,t.open=e.openMethod,t.close=e.closeMethod,t.focus=e.focusMethod,t.enable=e.enableMethod,t.disable=e.disableMethod,t.destroy=e.destroyMethod,t.validate=e.validateMethod,t.toggleRequired=e.toggleRequiredMethod,this.hasDropboxWrapper&&(this.$dropboxWrapper.virtualSelect=this)}},{key:"setValueMethod",value:function(e,t){var i={},o={},s=[],n=this.multiple,r=e;if(r){if(Array.isArray(r)||(r=[r]),n){var a=this.maxValues;a&&r.length>a&&r.splice(a)}else r.length>1&&(r=[r[0]]);r=r.map((function(e){return e||0===e?e.toString():""})),this.useGroupValue&&(r=this.setGroupOptionsValue(r)),r.forEach((function(e,t){i[e]=!0,o[e]=t})),this.allowNewOption&&r&&this.setNewOptionsFromValue(r)}if(this.options.forEach((function(e){!0!==i[e.value]||e.isDisabled||e.isGroupTitle?e.isSelected=!1:(e.isSelected=!0,s.push(e.value))})),n)this.hasOptionGroup&&this.setGroupsSelectedProp(),s.sort((function(e,t){return o[e]-o[t]}));else{var l=f(s,1);s=l[0]}this.beforeValueSet(),this.setValue(s,{disableEvent:t}),this.afterValueSet()}},{key:"setGroupOptionsValue",value:function(e){var t=[],i={},o={};return e.forEach((function(e){o[e]=!0})),this.options.forEach((function(e){var s=e.value,n=!0===o[s];e.isGroupTitle?n&&(i[e.index]=!0):(n||i[e.groupIndex])&&t.push(s)})),t}},{key:"setGroupsSelectedProp",value:function(){var e=this.isAllGroupOptionsSelected.bind(this);this.options.forEach((function(t){t.isGroupTitle&&(t.isSelected=e(t.index))}))}},{key:"setOptionsMethod",value:function(e,t){this.setOptions(e),this.afterSetOptions(t)}},{key:"setDisabledOptionsMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setDisabledOptions(e,!0),t||(this.setValueMethod(null),this.toggleAllOptionsClass()),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];if(e)if(!0===e)t&&this.options.forEach((function(e){return e.isDisabled=!0,i.push(e.value),e}));else{i=e.map((function(e){return e.toString()}));var o={};i.forEach((function(e){o[e]=!0})),t&&this.options.forEach((function(e){return e.isDisabled=!0===o[e.value],e}))}else t&&this.options.forEach((function(e){return e.isDisabled=!1,e}));this.disabledOptions=i}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],i=this.disabledOptions.length,o=this.valueKey,n=this.labelKey,r=this.descriptionKey,a=this.aliasKey,l=this.hasOptionDescription,u=s.getString,p=s.convertToBoolean,h=this.secureText.bind(this),c=this.getAlias.bind(this),d=0,f=!1,y={},b=!1;this.disabledOptions.forEach((function(e){y[e]=!0}));var g=function e(s){"object"!==v(s)&&(s={value:s,label:s});var g=h(u(s[o])),m=s.options,O=!!m,S={index:d,value:g,label:h(u(s[n])),alias:c(s[a]),isVisible:p(s.isVisible,!0),isNew:s.isNew||!1,isGroupTitle:O};if(b||""!==g||(b=!0),i&&(S.isDisabled=!0===y[g]),s.isGroupOption&&(S.isGroupOption=!0,S.groupIndex=s.groupIndex),l&&(S.description=h(u(s[r]))),s.customData&&(S.customData=s.customData),t.push(S),d+=1,O){var x=S.index;f=!0,m.forEach((function(t){t.isGroupOption=!0,t.groupIndex=x,e(t)}))}};e.forEach(g);var m=t.length,O=this.$ele;O.options=t,O.length=m,this.options=t,this.visibleOptionsCount=m,this.lastOptionIndex=m-1,this.newValues=[],this.hasOptionGroup=f,this.hasEmptyValueOption=b,this.setSortedOptions()}},{key:"setServerOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setOptionsMethod(t,!0);var i=this.selectedOptions,o=this.options,s=!1;if(i.length){var n={};s=!0,o.forEach((function(e){n[e.value]=!0})),i.forEach((function(e){!1===n[e.value]&&(e.isVisible=!1,o.push(e))})),this.setOptionsMethod(o,!0)}if(this.allowNewOption&&this.searchValue){var r=o.some((function(t){return t.label.toLowerCase()===e.searchValue}));r||(s=!0,this.setNewOption())}s?(this.setVisibleOptionsCount(),this.multiple&&this.toggleAllOptionsClass(),this.setValueText()):this.updatePosition(),p.removeClass(this.$allWrappers,"server-searching")}},{key:"setSelectedOptions",value:function(){this.selectedOptions=this.options.filter((function(e){return e.isSelected}))}},{key:"setSortedOptions",value:function(){var e=y(this.options);this.showSelectedOptionsFirst&&this.selectedValues.length&&(e=this.hasOptionGroup?this.sortOptionsGroup(e):this.sortOptions(e)),this.sortedOptions=e}},{key:"setVisibleOptions",value:function(){var e=y(this.sortedOptions),t=2*this.optionsCount,i=this.getVisibleStartIndex(),o=this.getNewOption(),s=i+t-1,n=0;o&&(o.visibleIndex=n,n+=1),e=e.filter((function(e){var t=!1;return e.isVisible&&!e.isCurrentNew&&(t=n>=i&&n<=s,e.visibleIndex=n,n+=1),t})),o&&(e=[o].concat(y(e))),this.visibleOptions=e,this.renderOptions()}},{key:"setOptionsPosition",value:function(e){var t=(e||this.getVisibleStartIndex())*this.optionHeight;this.$options.style.transform="translate3d(0, ".concat(t,"px, 0)"),p.setData(this.$options,"top",t)}},{key:"setOptionsTooltip",value:function(){var e=this,t=this.getVisibleOptions(),i=this.hasOptionDescription;t.forEach((function(t){var o=e.$dropboxContainer.querySelector('.vscomp-option[data-index="'.concat(t.index,'"]'));p.setData(o.querySelector(".vscomp-option-text"),"tooltip",t.label),i&&p.setData(o.querySelector(".vscomp-option-description"),"tooltip",t.description)}))}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.disableEvent,o=void 0!==i&&i,n=t.disableValidation,r=void 0!==n&&n,a=this.hasEmptyValueOption&&""===e||e;a?Array.isArray(e)?this.selectedValues=y(e):this.selectedValues=[e]:this.selectedValues=[];var l=this.getValue();this.$ele.value=l,this.$hiddenInput.value=this.getInputValue(l),this.isMaxValuesSelected=!!(this.maxValues&&this.maxValues<=this.selectedValues.length),this.toggleAllOptionsClass(),this.setValueText(),p.toggleClass(this.$allWrappers,"has-value",s.isNotEmpty(this.selectedValues)),p.toggleClass(this.$allWrappers,"max-value-selected",this.isMaxValuesSelected),r||this.validate(),o||p.dispatchEvent(this.$ele,"change",!0)}},{key:"setValueText",value:function(){var e=this.multiple,t=this.selectedValues,i=this.noOfDisplayValues,o=this.showValueAsTags,s=this.$valueText,n=[],r=[],a=t.length,l=0,u=this.isAllSelected&&!this.hasServerSearch&&!this.disableAllOptionsSelectedText&&!o;if(u&&this.hideValueTooltipOnSelectAll)s.innerHTML="".concat(this.allOptionsSelectedText," (").concat(a,")");else{this.getSelectedOptions({fullDetails:!0,keepSelectionOrder:!0}).some((function(e){if(e.isCurrentNew)return!1;if(l>=i)return!0;var t=e.label;if(n.push(t),l+=1,o){var s='<span class="vscomp-value-tag" data-index="'.concat(e.index,'">\n              <span class="vscomp-value-tag-content">').concat(t,'</span>\n              <span class="vscomp-value-tag-clear-button">\n                <i class="vscomp-clear-icon"></i>\n              </span>\n            </span>');r.push(s)}else r.push(t);return!1}));var h=a-i;h>0&&r.push('<span class="vscomp-value-tag more-value-count">+ '.concat(h," ").concat(this.moreText,"</span>"));var c=n.join(", ");if(""===c)s.innerHTML=this.placeholder;else if(s.innerHTML=c,e){var d=this.maxValues;if(p.hasEllipsis(s)||d||this.alwaysShowSelectedOptionsCount||o){var v='<span class="vscomp-selected-value-count">'.concat(a,"</span>");if(d&&(v+=' / <span class="vscomp-max-value-count">'.concat(d,"</span>")),u)s.innerHTML="".concat(this.allOptionsSelectedText," (").concat(a,")");else if(o)s.innerHTML=r.join(""),this.$valueTags=s.querySelectorAll(".vscomp-value-tag"),this.setValueTagAttr();else{var f=1===a?this.optionSelectedText:this.optionsSelectedText;s.innerHTML="".concat(v," ").concat(f)}}else r=[]}}var y="";0===a?y=this.placeholder:o||(y=r.join(", ")),p.setData(s,"tooltip",y),e&&(p.setData(s,"tooltipEllipsisOnly",0===a),o&&this.updatePosition())}},{key:"setSearchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e!==this.searchValueOriginal||i){t||(this.$searchInput.value=e);var o=e.replace(/\\/g,"").toLowerCase().trim();this.searchValue=o,this.searchValueOriginal=e,p.toggleClass(this.$allWrappers,"has-search-value",e),this.afterSetSearchValue()}}},{key:"setVisibleOptionsCount",value:function(){var e,t=0,i=!1,o=this.searchValue,s=this.searchGroup,n=this.showOptionsOnlyOnSearch,r=this.searchByStartsWith,a=this.isOptionVisible.bind(this);this.hasOptionGroup&&(e=this.getVisibleOptionGroupsMapping(o)),this.options.forEach((function(l){var u;l.isCurrentNew||(n&&!o?(l.isVisible=!1,u={isVisible:!1,hasExactOption:!1}):u=a({data:l,searchValue:o,hasExactOption:i,visibleOptionGroupsMapping:e,searchGroup:s,searchByStartsWith:r}),u.isVisible&&(t+=1),i||(i=u.hasExactOption))})),this.allowNewOption&&(o&&!i?(this.setNewOption(),t+=1):this.removeNewOption()),this.visibleOptionsCount=t,this.afterSetVisibleOptionsCount()}},{key:"setOptionProp",value:function(e,t,i){this.options[e]&&(this.options[e][t]=i)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height="".concat(this.optionHeight*this.visibleOptionsCount,"px")}},{key:"setOptionsContainerHeight",value:function(e){var t;e?this.showAsPopup&&(this.optionsCount=this.getOptionsCount(),this.halfOptionsCount=Math.ceil(this.optionsCount/2),t=this.getOptionsHeight(),this.optionsHeight=t):(t=this.optionsHeight,this.keepAlwaysOpen&&(p.setStyle(this.$noOptions,"height",t),p.setStyle(this.$noSearchResults,"height",t))),p.setStyle(this.$optionsContainer,"max-height",t),this.afterSetOptionsContainerHeight(e)}},{key:"setNewOption",value:function(e){var t=e||this.searchValueOriginal.trim();if(t){var i=this.getNewOption();if(i){var o=i.index;this.setOptionProp(o,"value",this.secureText(t)),this.setOptionProp(o,"label",this.secureText(t))}else{var s={value:t,label:t};e?(s.isNew=!0,this.newValues.push(t)):s.isCurrentNew=!0,this.addOption(s)}}}},{key:"setSelectedProp",value:function(){var e={};this.selectedValues.forEach((function(t){e[t]=!0})),this.options.forEach((function(t){!0===e[t.value]&&(t.isSelected=!0)}))}},{key:"setNewOptionsFromValue",value:function(e){if(e){var t=this.setNewOption.bind(this),i={};this.options.forEach((function(e){i[e.value]=!0})),e.forEach((function(e){e&&!0!==i[e]&&t(e)}))}}},{key:"setDropboxWrapperWidth",value:function(){if(!this.showAsPopup){var e=this.dropboxWidth||"".concat(this.$wrapper.offsetWidth,"px");p.setStyle(this.$dropboxContainer,"max-width",e)}}},{key:"setEleStyles",value:function(){var e=this.maxWidth,t={};e&&(t["max-width"]=e),p.setStyles(this.$ele,t)}},{key:"setDropboxStyles",value:function(){var e=this.dropboxWidth,t={},i={"z-index":this.zIndex};e&&(this.showAsPopup?t["max-width"]=e:i.width=e),p.setStyles(this.$dropboxContainer,i),p.setStyles(this.$dropbox,t)}},{key:"setOptionAttr",value:function(){var e=this.$visibleOptions,t=this.options,i="".concat(this.optionHeight,"px"),o=p.setStyle,s=p.getData,n=p.setData;e&&e.length&&e.forEach((function(e){var r=t[s(e,"index")];o(e,"height",i),n(e,"value",r.value)}))}},{key:"setValueTagAttr",value:function(){var e=this.$valueTags;if(e&&e.length){var t=p.getData,i=p.setData,o=this.options;e.forEach((function(e){var s=t(e,"index");if(void 0!==s){var n=o[s];i(e,"value",n.value)}}))}}},{key:"setScrollTop",value:function(){var e=this.selectedValues;if(!this.showSelectedOptionsFirst&&0!==e.length){var t,i={};e.forEach((function(e){i[e]=!0})),this.options.some((function(e){return!!i[e.value]&&(t=e.visibleIndex,!0)})),t&&(this.$optionsContainer.scrollTop=this.optionHeight*t)}}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.useGroupValue?this.getGroupValue():this.selectedValues:this.selectedValues[0]||""}},{key:"getGroupValue",value:function(){var e=[],t={};return this.options.forEach((function(i){if(i.isSelected){var o=i.value;i.isGroupTitle?o&&(t[i.index]=!0,e.push(o)):!0!==t[i.groupIndex]&&e.push(o)}})),e}},{key:"getInputValue",value:function(e){var t=e;return t&&t.length?this.setValueAsArray&&this.multiple&&(t=JSON.stringify(t)):t=this.emptyValue,t}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var e=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return e<0&&(e=0),e}},{key:"getTooltipAttrText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={"data-tooltip":e||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-font-size":this.tooltipFontSize,"data-tooltip-alignment":this.tooltipAlignment,"data-tooltip-max-width":this.tooltipMaxWidth,"data-tooltip-ellipsis-only":t,"data-tooltip-allow-html":i};return p.getAttributesText(o)}},{key:"getOptionObj",value:function(e){if(e){var t=s.getString,i=this.secureText.bind(this);return{index:e.index,value:i(t(e.value)),label:i(t(e.label)),description:i(t(e.description)),alias:this.getAlias(e.alias),isCurrentNew:e.isCurrentNew||!1,isNew:e.isNew||!1,isVisible:!0}}}},{key:"getNewOption",value:function(){var e=this.options[this.lastOptionIndex];if(e&&e.isCurrentNew)return e}},{key:"getOptionIndex",value:function(e){var t;return this.options.some((function(i){return i.value===e&&(t=i.index,!0)})),t}},{key:"getNewValue",value:function(){var e={};this.newValues.forEach((function(t){e[t]=!0}));var t=this.selectedValues.filter((function(t){return!0===e[t]}));return this.multiple?t:t[0]}},{key:"getAlias",value:function(e){var t=e;return t&&(t=(t=Array.isArray(t)?t.join(","):t.toString().trim()).toLowerCase()),t||""}},{key:"getDisplayValue",value:function(){var e=[];return this.options.forEach((function(t){t.isSelected&&e.push(t.label)})),this.multiple?e:e[0]||""}},{key:"getSelectedOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fullDetails,i=void 0!==t&&t,o=e.keepSelectionOrder,s=void 0!==o&&o,n=this.valueKey,r=this.labelKey,a=this.selectedValues,l=[];if(this.options.forEach((function(e){if(e.isSelected&&!e.isGroupTitle)if(i)l.push(e);else{var t,o=(d(t={},n,e.value),d(t,r,e.label),t);e.isNew&&(o.isNew=!0),e.customData&&(o.customData=e.customData),l.push(o)}})),s){var u={};a.forEach((function(e,t){u[e]=t})),l.sort((function(e,t){return u[e.value]-u[t.value]}))}return this.multiple||i?l:l[0]}},{key:"getVisibleOptionGroupsMapping",value:function(e){var t=this.options,i={},o=this.isOptionVisible.bind(this);return(t=this.structureOptionGroup(t)).forEach((function(t){i[t.index]=t.options.some((function(t){return o({data:t,searchValue:e}).isVisible}))})),i}},{key:"getOptionsCount",value:function(e){var t;if(this.showAsPopup){var i=80*window.innerHeight/100-48;this.hasSearchContainer&&(i-=40),t=Math.floor(i/this.optionHeight)}else t=parseInt(e);return t}},{key:"getOptionsHeight",value:function(){return"".concat(this.optionsCount*this.optionHeight,"px")}},{key:"getSibling",value:function(e,t){var i="next"===t?"nextElementSibling":"previousElementSibling",o=e;do{o&&(o=o[i])}while(p.hasClass(o,"disabled")||p.hasClass(o,"group-title"));return o}},{key:"getUniqueId",value:function(){var e=s.getRandomInt(1e4);return document.querySelector("#vscomp-ele-wrapper-".concat(e))?this.getUniqueId():e}},{key:"initDropboxPopover",value:function(){var e={ele:this.$ele,target:this.$dropboxContainer,position:this.position,zIndex:this.zIndex,margin:4,transitionDistance:30,hideArrowIcon:!0,disableManualAction:!0,disableUpdatePosition:!this.hasDropboxWrapper,updatePositionThrottle:this.updatePositionThrottle,afterShow:this.afterShowPopper.bind(this),afterHide:this.afterHidePopper.bind(this)};this.dropboxPopover=new PopoverComponent(e)}},{key:"openDropbox",value:function(e){this.isSilentOpen=e,e?p.setStyle(this.$dropboxContainer,"display","inline-flex"):(p.dispatchEvent(this.$ele,"beforeOpen"),p.setAria(this.$wrapper,"expanded",!0)),this.setDropboxWrapperWidth(),p.removeClass(this.$allWrappers,"closed"),this.dropboxPopover&&!e?this.dropboxPopover.show():this.afterShowPopper()}},{key:"afterShowPopper",value:function(){var e=this.isSilentOpen;this.isSilentOpen=!1,e||(this.moveSelectedOptionsFirst(),this.setScrollTop(),p.addClass(this.$allWrappers,"focused"),this.showAsPopup?(p.addClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!0):this.focusSearchInput(),p.dispatchEvent(this.$ele,"afterOpen"))}},{key:"closeDropbox",value:function(e){this.isSilentClose=e,this.keepAlwaysOpen?this.removeOptionFocus():(e?p.setStyle(this.$dropboxContainer,"display",""):(p.dispatchEvent(this.$ele,"beforeClose"),p.setAria(this.$wrapper,"expanded",!1),p.setAria(this.$wrapper,"activedescendant","")),this.dropboxPopover&&!e?this.dropboxPopover.hide():this.afterHidePopper())}},{key:"afterHidePopper",value:function(){var e=this.isSilentClose;this.isSilentClose=!1,p.removeClass(this.$allWrappers,"focused"),this.removeOptionFocus(),e||this.isPopupActive&&(p.removeClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!1),p.addClass(this.$allWrappers,"closed"),e||p.dispatchEvent(this.$ele,"afterClose")}},{key:"moveSelectedOptionsFirst",value:function(){this.showSelectedOptionsFirst&&(this.setSortedOptions(),this.$optionsContainer.scrollTop&&this.selectedValues.length?this.scrollToTop():this.setVisibleOptions())}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"updatePosition",value:function(){this.dropboxPopover&&this.$ele.updatePosition()}},{key:"isOpened",value:function(){return!p.hasClass(this.$wrapper,"closed")}},{key:"focusSearchInput",value:function(){var e=this.$searchInput;e&&e.focus()}},{key:"focusOption",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.direction,o=t.$option,s=t.focusFirst,n=this.$dropboxContainer.querySelector(".vscomp-option.focused");if(o)e=o;else if(!n||s){var r=this.getFirstVisibleOptionIndex();e=this.$dropboxContainer.querySelector('.vscomp-option[data-visible-index="'.concat(r,'"]')),(p.hasClass(e,"disabled")||p.hasClass(e,"group-title"))&&(e=this.getSibling(e,"next"))}else e=this.getSibling(n,i);e&&e!==n&&(n&&this.toggleOptionFocusedState(n,!1),this.toggleOptionFocusedState(e,!0),this.toggleFocusedProp(p.getData(e,"index"),!0),this.moveFocusedOptionToView(e))}},{key:"moveFocusedOptionToView",value:function(e){var t=e||this.$dropboxContainer.querySelector(".vscomp-option.focused");if(t){var i,o=this.$optionsContainer.getBoundingClientRect(),s=t.getBoundingClientRect(),n=o.top,r=o.bottom,a=o.height,l=s.top,u=s.bottom,h=s.height,c=t.offsetTop,d=p.getData(this.$options,"top","number");n>l?i=c+d:r<u&&(i=c-a+h+d),void 0!==i&&(this.$optionsContainer.scrollTop=i)}}},{key:"removeOptionFocus",value:function(){var e=this.$dropboxContainer.querySelector(".vscomp-option.focused");e&&(this.toggleOptionFocusedState(e,!1),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.event;if(e){var o=!p.hasClass(e,"selected");if(o){if(this.multiple&&this.isMaxValuesSelected)return}else if(!this.multiple)return void this.closeDropbox();var n=this.selectedValues,r=p.getData(e,"value"),a=p.getData(e,"index","number"),l=!1,u=this.lastSelectedOptionIndex;if(this.lastSelectedOptionIndex=null,this.toggleSelectedProp(a,o),o){if(this.multiple)n.push(r),this.toggleAllOptionsClass(),this.toggleGroupOptionsParent(e),i&&i.shiftKey&&(l=!0);else{n.length&&this.toggleSelectedProp(this.getOptionIndex(n[0]),!1),n=[r];var h=this.$dropboxContainer.querySelector(".vscomp-option.selected");h&&this.toggleOptionSelectedState(h,!1),this.closeDropbox()}this.lastSelectedOptionIndex=a,this.toggleOptionSelectedState(e)}else this.multiple&&(this.toggleOptionSelectedState(e),s.removeItemFromArray(n,r),this.toggleAllOptionsClass(!1),this.toggleGroupOptionsParent(e,!1));p.hasClass(e,"current-new")&&this.beforeSelectNewValue(),this.setValue(n),l&&this.selectRangeOptions(u,a)}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropboxContainer.querySelector(".vscomp-option.focused"))}},{key:"selectRangeOptions",value:function(e,t){var i=this;if("number"==typeof e&&!this.maxValues){var o,s,n=this.selectedValues,r=this.hasOptionGroup,a={};if(e<t?(o=e,s=t):(o=t,s=e),this.options.forEach((function(e){if(!e.isDisabled&&!e.isGroupTitle&&e.isVisible&&!e.isSelected){var t=e.index;if(t>o&&t<s){if(r){var i=e.groupIndex;"number"==typeof i&&(a[i]=!0)}e.isSelected=!0,n.push(e.value)}}})),this.toggleAllOptionsClass(),this.setValue(n),(a=Object.keys(a)).length){var l=this.toggleGroupTitleProp.bind(this);a.forEach((function(e){l(parseInt(e))}))}setTimeout((function(){i.renderOptions()}),0)}}},{key:"toggleAllOptions",value:function(e){if(this.multiple&&!this.disableSelectAll){"boolean"!=typeof e&&(e=!p.hasClass(this.$toggleAllCheckbox,"checked"));var t=[],i=this.selectAllOnlyVisible;this.options.forEach((function(o){o.isDisabled||o.isCurrentNew||(!e||i&&!o.isVisible?o.isSelected=!1:(o.isSelected=!0,o.isGroupTitle||t.push(o.value)))})),this.toggleAllOptionsClass(e),this.setValue(t),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(e){if(this.multiple){var t="boolean"==typeof e;t||(e=this.isAllOptionsSelected()),p.toggleClass(this.$toggleAllCheckbox,"checked",e),this.selectAllOnlyVisible&&t?this.isAllSelected=this.isAllOptionsSelected():this.isAllSelected=e}}},{key:"isAllOptionsSelected",value:function(){var e=!1;return this.options.length&&this.selectedValues.length&&(e=!this.options.some((function(e){return!e.isSelected&&!e.isDisabled&&!e.isGroupTitle}))),e}},{key:"isAllGroupOptionsSelected",value:function(e){var t=!1;return this.options.length&&(t=!this.options.some((function(t){return!t.isSelected&&!t.isDisabled&&!t.isGroupTitle&&t.groupIndex===e}))),t}},{key:"toggleGroupOptionsParent",value:function(e,t){if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&e){var i=p.getData(e,"groupIndex","number"),o=this.$options.querySelector('.vscomp-option[data-index="'.concat(i,'"]')),s="boolean"==typeof t?t:this.isAllGroupOptionsSelected(i);this.toggleGroupTitleCheckbox(o,s)}}},{key:"toggleGroupTitleProp",value:function(e,t){var i="boolean"==typeof t?t:this.isAllGroupOptionsSelected(e);this.toggleSelectedProp(e,i)}},{key:"toggleGroupOptions",value:function(e,t){var i=this;if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&e){var o=p.getData(e,"index","number"),n=this.selectedValues,r=this.selectAllOnlyVisible,a={},l=s.removeItemFromArray;n.forEach((function(e){a[e]=!0})),this.options.forEach((function(e){if(!e.isDisabled&&e.groupIndex===o){var i=e.value;!t||r&&!e.isVisible?(e.isSelected=!1,a[i]&&l(n,i)):(e.isSelected=!0,a[i]||n.push(i))}})),this.toggleAllOptionsClass(!!t&&null),this.setValue(n),setTimeout((function(){i.renderOptions()}),0)}}},{key:"toggleGroupTitleCheckbox",value:function(e,t){if(e){var i=p.getData(e,"index","number");this.toggleSelectedProp(i,t),this.toggleOptionSelectedState(e,t)}}},{key:"toggleFocusedProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(e,"isFocused",t),this.focusedOptionIndex=e}},{key:"toggleSelectedProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOptionProp(e,"isSelected",t)}},{key:"scrollToTop",value:function(){var e=!this.isOpened();e&&this.openDropbox(!0),this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0),e&&this.closeDropbox(!0)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.forEach((function(e){e.isSelected=!1})),this.beforeValueSet(!0),this.setValue(null,{disableValidation:e}),this.afterValueSet(),e&&p.removeClass(this.$allWrappers,"has-error"),p.dispatchEvent(this.$ele,"reset")}},{key:"addOption",value:function(e,t){if(e){this.lastOptionIndex+=1;var i=this.getOptionObj(c(c({},e),{},{index:this.lastOptionIndex}));this.options.push(i),this.sortedOptions.push(i),t&&(this.visibleOptionsCount+=1,this.afterSetOptions())}}},{key:"removeOption",value:function(e){(e||0===e)&&(this.options.splice(e,1),this.lastOptionIndex-=1)}},{key:"removeNewOption",value:function(){var e=this.getNewOption();e&&this.removeOption(e.index)}},{key:"sortOptions",value:function(e){return e.sort((function(e,t){var i=e.isSelected||e.isAnySelected,o=t.isSelected||t.isAnySelected;return i||o?i&&(!o||e.index<t.index)?-1:1:0}))}},{key:"sortOptionsGroup",value:function(e){var t=this.sortOptions.bind(this),i=this.structureOptionGroup(e);return i.forEach((function(e){var i=e.options;e.isAnySelected=i.some((function(e){return e.isSelected})),e.isAnySelected&&t(i)})),t(i),this.destructureOptionGroup(i)}},{key:"isOptionVisible",value:function(e){var t=e.data,i=e.searchValue,o=e.hasExactOption,s=e.visibleOptionGroupsMapping,n=e.searchGroup,r=e.searchByStartsWith,a=t.value.toLowerCase(),l=t.label.toLowerCase(),u=t.description,p=t.alias,h=r?l.startsWith(i):-1!==l.indexOf(i);return t.isGroupTitle&&(n&&h||(h=s[t.index])),r||!p||h||(h=-1!==p.indexOf(i)),r||!u||h||(h=-1!==u.toLowerCase().indexOf(i)),t.isVisible=h,o||(o=l===i||a===i),{isVisible:h,hasExactOption:o}}},{key:"structureOptionGroup",value:function(e){var t=[],i={};return e.forEach((function(e){if(e.isGroupTitle){var o=[];e.options=o,i[e.index]=o,t.push(e)}})),e.forEach((function(e){e.isGroupOption&&i[e.groupIndex].push(e)})),t}},{key:"destructureOptionGroup",value:function(e){var t=[];return e.forEach((function(e){t.push(e),t=t.concat(e.options)})),t}},{key:"serverSearch",value:function(){p.removeClass(this.$allWrappers,"has-no-search-results"),p.addClass(this.$allWrappers,"server-searching"),this.setSelectedOptions(),this.onServerSearch(this.searchValue,this)}},{key:"removeValue",value:function(e){var t=this.selectedValues,i=p.getData(e,"value");s.removeItemFromArray(t,i),this.setValueMethod(t)}},{key:"focus",value:function(){this.$wrapper.focus()}},{key:"enable",value:function(){this.$ele.disabled=!1,this.$ele.removeAttribute("disabled"),this.$hiddenInput.removeAttribute("disabled"),p.setAria(this.$wrapper,"disabled",!1)}},{key:"disable",value:function(){this.$ele.disabled=!0,this.$ele.setAttribute("disabled",""),this.$hiddenInput.setAttribute("disabled",""),p.setAria(this.$wrapper,"disabled",!0)}},{key:"validate",value:function(){if(this.disableValidation)return!0;var e=!1;return this.required&&s.isEmpty(this.selectedValues)&&(e=!0),p.toggleClass(this.$allWrappers,"has-error",e),!e}},{key:"destroy",value:function(){var e=this.$ele;e.virtualSelect=void 0,e.value=void 0,e.innerHTML="",this.hasDropboxWrapper&&(this.$dropboxWrapper.remove(),this.mutationObserver.disconnect()),this.dropboxPopover&&this.dropboxPopover.destroy(),p.removeClass(e,"vscomp-ele")}},{key:"createSecureTextElements",value:function(){this.$secureDiv=document.createElement("div"),this.$secureText=document.createTextNode(""),this.$secureDiv.appendChild(this.$secureText)}},{key:"secureText",value:function(e){return e&&this.enableSecureText?(this.$secureText.nodeValue=e,this.$secureDiv.innerHTML):e}},{key:"toggleRequired",value:function(e){this.required=s.convertToBoolean(e),this.$ele.required=this.required}},{key:"toggleOptionSelectedState",value:function(e,t){var i=t;void 0===i&&(i=!p.hasClass(e,"selected")),p.toggleClass(e,"selected",i),p.setAria(e,"selected",i)}},{key:"toggleOptionFocusedState",value:function(e,t){e&&(p.toggleClass(e,"focused",t),t&&p.setAria(this.$wrapper,"activedescendant",e.id))}}])&&m(t.prototype,i),o&&m(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("reset",C.onFormReset),document.addEventListener("submit",C.onFormSubmit),window.addEventListener("resize",C.onResizeMethod),O=C.getAttrProps(),window.VirtualSelect=C,"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)}(),function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(e){if("string"==typeof e)return t(e,i);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,i):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var i;return(i=[{key:"addClass",value:function(i,o){i&&(o=o.split(" "),t.getElements(i).forEach((function(t){var i;(i=t.classList).add.apply(i,e(o))})))}},{key:"removeClass",value:function(i,o){i&&(o=o.split(" "),t.getElements(i).forEach((function(t){var i;(i=t.classList).remove.apply(i,e(o))})))}},{key:"getElements",value:function(e){if(e)return void 0===e.forEach&&(e=[e]),e}},{key:"getMoreVisibleSides",value:function(e){if(!e)return{};var t=e.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,s=t.left,n=t.top;return{horizontal:s>i-s-t.width?"left":"right",vertical:n>o-n-t.height?"top":"bottom"}}},{key:"getAbsoluteCoords",value:function(e){if(e){var t=e.getBoundingClientRect(),i=window.pageXOffset,o=window.pageYOffset;return{width:t.width,height:t.height,top:t.top+o,right:t.right+i,bottom:t.bottom+o,left:t.left+i}}}},{key:"getCoords",value:function(e){return e?e.getBoundingClientRect():{}}},{key:"getData",value:function(e,t,i){if(e){var o=e?e.dataset[t]:"";return"number"===i?o=parseFloat(o)||0:"true"===o?o=!0:"false"===o&&(o=!1),o}}},{key:"setData",value:function(e,t,i){e&&(e.dataset[t]=i)}},{key:"setStyle",value:function(e,t,i){e&&(e.style[t]=i)}},{key:"show",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t.setStyle(e,"display",i)}},{key:"hide",value:function(e){t.setStyle(e,"display","none")}},{key:"getHideableParent",value:function(e){for(var t,i=e.parentElement;i;){var o=getComputedStyle(i).overflow;if(-1!==o.indexOf("scroll")||-1!==o.indexOf("auto")){t=i;break}i=i.parentElement}return t}}])&&function(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t,i),t}(),o=["top","bottom","left","right"].map((function(e){return"position-".concat(e)})),s={top:"rotate(180deg)",left:"rotate(90deg)",right:"rotate(-90deg)"},n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this.setProps(t),this.init()}catch(e){console.warn("Couldn't initiate popper"),console.error(e)}}var t;return(t=[{key:"init",value:function(){var e=this.$popperEle;e&&this.$triggerEle&&(i.setStyle(e,"zIndex",this.zIndex),this.setPosition())}},{key:"setProps",value:function(e){var t=(e=this.setDefaultProps(e)).position?e.position.toLowerCase():"auto";if(this.$popperEle=e.$popperEle,this.$triggerEle=e.$triggerEle,this.$arrowEle=e.$arrowEle,this.margin=parseFloat(e.margin),this.offset=parseFloat(e.offset),this.enterDelay=parseFloat(e.enterDelay),this.exitDelay=parseFloat(e.exitDelay),this.showDuration=parseFloat(e.showDuration),this.hideDuration=parseFloat(e.hideDuration),this.transitionDistance=parseFloat(e.transitionDistance),this.zIndex=parseFloat(e.zIndex),this.afterShowCallback=e.afterShow,this.afterHideCallback=e.afterHide,this.hasArrow=!!this.$arrowEle,-1!==t.indexOf(" ")){var i=t.split(" ");this.position=i[0],this.secondaryPosition=i[1]}else this.position=t}},{key:"setDefaultProps",value:function(e){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,zIndex:1},e)}},{key:"setPosition",value:function(){i.show(this.$popperEle,"inline-flex");var e,t,n,r=window.innerWidth,a=window.innerHeight,l=i.getAbsoluteCoords(this.$popperEle),u=i.getAbsoluteCoords(this.$triggerEle),p=l.width,h=l.height,c=l.top,d=l.right,v=l.bottom,f=l.left,y=u.width,b=u.height,g=u.top,m=u.right,O=u.bottom,S=u.left,x=g-c,w=S-f,k=w,C=x,E=this.position,A=this.secondaryPosition,$=y/2-p/2,T=b/2-h/2,D=this.margin,V=this.transitionDistance,P=window.scrollY-c,I=a+P,M=window.scrollX-f,F=r+M,G=this.offset;G&&(P+=G,I-=G,M+=G,F-=G),"auto"===E&&(E=i.getMoreVisibleSides(this.$triggerEle).vertical);var H={top:{top:C-h-D,left:k+$},bottom:{top:C+b+D,left:k+$},right:{top:C+T,left:k+y+D},left:{top:C+T,left:k-p-D}},W=H[E];if(C=W.top,k=W.left,A&&("top"===A?C=x:"bottom"===A?C=x+b-h:"left"===A?k=w:"right"===A&&(k=w+y-p)),k<M?"left"===E?n="right":k=M+f>m?m-f:M:k+p>F&&("right"===E?n="left":k=F+f<S?S-d:F-p),C<P?"top"===E?n="bottom":C=P+c>O?O-c:P:C+h>I&&("bottom"===E?n="top":C=I+c<g?g-v:I-h),n){var q=H[n];"top"===(E=n)||"bottom"===E?C=q.top:"left"!==E&&"right"!==E||(k=q.left)}"top"===E?(e=C+V,t=k):"right"===E?(e=C,t=k-V):"left"===E?(e=C,t=k+V):(e=C-V,t=k);var j="translate3d(".concat(t,"px, ").concat(e,"px, 0)");if(i.setStyle(this.$popperEle,"transform",j),i.setData(this.$popperEle,"fromLeft",t),i.setData(this.$popperEle,"fromTop",e),i.setData(this.$popperEle,"top",C),i.setData(this.$popperEle,"left",k),i.removeClass(this.$popperEle,o.join(" ")),i.addClass(this.$popperEle,"position-".concat(E)),this.hasArrow){var N=0,L=0,R=k+f,B=C+c,z=this.$arrowEle.offsetWidth/2,K=s[E]||"";"top"===E||"bottom"===E?(N=y/2+S-R)<z?N=z:N>p-z&&(N=p-z):"left"!==E&&"right"!==E||((L=b/2+g-B)<z?L=z:L>h-z&&(L=h-z)),i.setStyle(this.$arrowEle,"transform","translate3d(".concat(N,"px, ").concat(L,"px, 0) ").concat(K))}i.hide(this.$popperEle)}},{key:"resetPosition",value:function(){i.setStyle(this.$popperEle,"transform","none"),this.setPosition()}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.resetPosition,s=t.data;clearTimeout(this.exitDelayTimeout),clearTimeout(this.hideDurationTimeout),o&&this.resetPosition(),this.enterDelayTimeout=setTimeout((function(){var t=i.getData(e.$popperEle,"left"),o=i.getData(e.$popperEle,"top"),n="translate3d(".concat(t,"px, ").concat(o,"px, 0)"),r=e.showDuration;i.show(e.$popperEle,"inline-flex"),i.getCoords(e.$popperEle),i.setStyle(e.$popperEle,"transitionDuration",r+"ms"),i.setStyle(e.$popperEle,"transform",n),i.setStyle(e.$popperEle,"opacity",1),e.showDurationTimeout=setTimeout((function(){"function"==typeof e.afterShowCallback&&e.afterShowCallback(s)}),r)}),this.enterDelay)}},{key:"hide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.data;clearTimeout(this.enterDelayTimeout),clearTimeout(this.showDurationTimeout),this.exitDelayTimeout=setTimeout((function(){if(e.$popperEle){var t=i.getData(e.$popperEle,"fromLeft"),s=i.getData(e.$popperEle,"fromTop"),n="translate3d(".concat(t,"px, ").concat(s,"px, 0)"),r=e.hideDuration;i.setStyle(e.$popperEle,"transitionDuration",r+"ms"),i.setStyle(e.$popperEle,"transform",n),i.setStyle(e.$popperEle,"opacity",0),e.hideDurationTimeout=setTimeout((function(){i.hide(e.$popperEle),"function"==typeof e.afterHideCallback&&e.afterHideCallback(o)}),r)}}),this.exitDelay)}},{key:"updatePosition",value:function(){i.setStyle(this.$popperEle,"transitionDuration","0ms"),this.resetPosition();var e=i.getData(this.$popperEle,"left"),t=i.getData(this.$popperEle,"top");i.show(this.$popperEle,"inline-flex"),i.setStyle(this.$popperEle,"transform","translate3d(".concat(e,"px, ").concat(t,"px, 0)"))}}])&&function(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();window.PopperComponent=n}(),function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,o;return i=t,(o=[{key:"convertToBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!0===e||"true"===e||!1!==e&&"false"!==e&&t}},{key:"removeArrayEmpty",value:function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return!!e})):[]}},{key:"throttle",value:function(e,t){var i,o=0;return function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];var a=(new Date).getTime(),l=t-(a-o);clearTimeout(i),l<=0?(o=a,e.apply(void 0,n)):i=setTimeout((function(){e.apply(void 0,n)}),l)}}}])&&e(i,o),Object.defineProperty(i,"prototype",{writable:!1}),t}();function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function s(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var o,n;return o=e,(n=[{key:"addClass",value:function(t,o){t&&(o=o.split(" "),e.getElements(t).forEach((function(e){var t;(t=e.classList).add.apply(t,i(o))})))}},{key:"removeClass",value:function(t,o){t&&(o=o.split(" "),e.getElements(t).forEach((function(e){var t;(t=e.classList).remove.apply(t,i(o))})))}},{key:"hasClass",value:function(e,t){return!!e&&e.classList.contains(t)}},{key:"getElement",value:function(e){return e&&("string"==typeof e?e=document.querySelector(e):void 0!==e.length&&(e=e[0])),e||null}},{key:"getElements",value:function(e){if(e)return void 0===e.forEach&&(e=[e]),e}},{key:"addEvent",value:function(t,i,o){e.addOrRemoveEvent(t,i,o,"add")}},{key:"removeEvent",value:function(t,i,o){e.addOrRemoveEvent(t,i,o,"remove")}},{key:"addOrRemoveEvent",value:function(i,o,s,n){i&&(o=t.removeArrayEmpty(o.split(" "))).forEach((function(t){(i=e.getElements(i)).forEach((function(e){"add"===n?e.addEventListener(t,s):e.removeEventListener(t,s)}))}))}},{key:"getScrollableParents",value:function(e){if(!e)return[];for(var t=[window],i=e.parentElement;i;){var o=getComputedStyle(i).overflow;-1===o.indexOf("scroll")&&-1===o.indexOf("auto")||t.push(i),i=i.parentElement}return t}},{key:"convertPropToDataAttr",value:function(e){return e?"data-popover-".concat(e).replace(/([A-Z])/g,"-$1").toLowerCase():""}}])&&s(o,n),Object.defineProperty(o,"prototype",{writable:!1}),e}();function r(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a,l={27:"onEscPress"},u=["target","position","margin","offset","enterDelay","exitDelay","showDuration","hideDuration","transitionDistance","updatePositionThrottle","zIndex","hideOnOuterClick","showOnHover","hideArrowIcon","disableManualAction","disableUpdatePosition"],p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this.setProps(t),this.init()}catch(e){console.warn("Couldn't initiate Popover component"),console.error(e)}}var i,o,s;return i=e,s=[{key:"init",value:function(t){var i=t.ele;if(i){var o=!1;if("string"==typeof i){if(!(i=document.querySelectorAll(i)))return;1===i.length&&(o=!0)}void 0===i.length&&(i=[i],o=!0);var s=[];return i.forEach((function(i){t.ele=i,e.destroy(i),s.push(new e(t))})),o?s[0]:s}}},{key:"destroy",value:function(e){if(e){var t=e.popComp;t&&t.destroy()}}},{key:"showMethod",value:function(){this.popComp.show()}},{key:"hideMethod",value:function(){this.popComp.hide()}},{key:"updatePositionMethod",value:function(){this.popComp.popper.updatePosition()}},{key:"getAttrProps",value:function(){var e=n.convertPropToDataAttr,t={};return u.forEach((function(i){t[e(i)]=i})),t}}],(o=[{key:"init",value:function(){this.$popover&&(this.setElementProps(),this.renderArrow(),this.initPopper(),this.addEvents())}},{key:"getEvents",value:function(){var e=[{$ele:document,event:"click",method:"onDocumentClick"},{$ele:document,event:"keydown",method:"onDocumentKeyDown"}];return this.disableManualAction||(e.push({$ele:this.$ele,event:"click",method:"onTriggerEleClick"}),this.showOnHover&&(e.push({$ele:this.$ele,event:"mouseenter",method:"onTriggerEleMouseEnter"}),e.push({$ele:this.$ele,event:"mouseleave",method:"onTriggerEleMouseLeave"}))),e}},{key:"addOrRemoveEvents",value:function(e){var t=this;this.getEvents().forEach((function(i){t.addOrRemoveEvent({action:e,$ele:i.$ele,events:i.event,method:i.method})}))}},{key:"addEvents",value:function(){this.addOrRemoveEvents("add")}},{key:"removeEvents",value:function(){this.addOrRemoveEvents("remove"),this.removeScrollEventListeners()}},{key:"addOrRemoveEvent",value:function(e){var i=this,o=e.action,s=e.$ele,r=e.events,a=e.method,l=e.throttle;s&&(r=t.removeArrayEmpty(r.split(" "))).forEach((function(e){var r="".concat(a,"-").concat(e),u=i.events[r];u||(u=i[a].bind(i),l&&(u=t.throttle(u,l)),i.events[r]=u),"add"===o?n.addEvent(s,e,u):n.removeEvent(s,e,u)}))}},{key:"addScrollEventListeners",value:function(){this.$scrollableElems=n.getScrollableParents(this.$ele),this.addOrRemoveEvent({action:"add",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll",throttle:this.updatePositionThrottle})}},{key:"removeScrollEventListeners",value:function(){this.$scrollableElems&&(this.addOrRemoveEvent({action:"remove",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll"}),this.$scrollableElems=null)}},{key:"onAnyParentScroll",value:function(){this.popper.updatePosition()}},{key:"onDocumentClick",value:function(e){var t=e.target,i=t.closest(".pop-comp-ele"),o=t.closest(".pop-comp-wrapper");this.hideOnOuterClick&&i!==this.$ele&&o!==this.$popover&&this.hide()}},{key:"onDocumentKeyDown",value:function(e){var t=e.which||e.keyCode,i=l[t];i&&this[i](e)}},{key:"onEscPress",value:function(){this.hideOnOuterClick&&this.hide()}},{key:"onTriggerEleClick",value:function(){this.toggle()}},{key:"onTriggerEleMouseEnter",value:function(){this.show()}},{key:"onTriggerEleMouseLeave",value:function(){this.hide()}},{key:"setProps",value:function(e){e=this.setDefaultProps(e),this.setPropsFromElementAttr(e);var i=t.convertToBoolean;this.$ele=e.ele,this.target=e.target,this.position=e.position,this.margin=parseFloat(e.margin),this.offset=parseFloat(e.offset),this.enterDelay=parseFloat(e.enterDelay),this.exitDelay=parseFloat(e.exitDelay),this.showDuration=parseFloat(e.showDuration),this.hideDuration=parseFloat(e.hideDuration),this.transitionDistance=parseFloat(e.transitionDistance),this.updatePositionThrottle=parseFloat(e.updatePositionThrottle),this.zIndex=parseFloat(e.zIndex),this.hideOnOuterClick=i(e.hideOnOuterClick),this.showOnHover=i(e.showOnHover),this.hideArrowIcon=i(e.hideArrowIcon),this.disableManualAction=i(e.disableManualAction),this.disableUpdatePosition=i(e.disableUpdatePosition),this.beforeShowCallback=e.beforeShow,this.afterShowCallback=e.afterShow,this.beforeHideCallback=e.beforeHide,this.afterHideCallback=e.afterHide,this.events={},this.$popover=n.getElement(this.target)}},{key:"setDefaultProps",value:function(e){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,updatePositionThrottle:100,zIndex:1,hideOnOuterClick:!0,showOnHover:!1,hideArrowIcon:!1,disableManualAction:!1,disableUpdatePosition:!1},e)}},{key:"setPropsFromElementAttr",value:function(e){var t=e.ele;for(var i in a){var o=t.getAttribute(i);o&&(e[a[i]]=o)}}},{key:"setElementProps",value:function(){var t=this.$ele;t.popComp=this,t.show=e.showMethod,t.hide=e.hideMethod,t.updatePosition=e.updatePositionMethod,n.addClass(this.$ele,"pop-comp-ele"),n.addClass(this.$popover,"pop-comp-wrapper")}},{key:"getOtherTriggerPopComp",value:function(){var e,t=this.$popover.popComp;return t&&t.$ele!==this.$ele&&(e=t),e}},{key:"initPopper",value:function(){var e={$popperEle:this.$popover,$triggerEle:this.$ele,$arrowEle:this.$arrowEle,position:this.position,margin:this.margin,offset:this.offset,enterDelay:this.enterDelay,exitDelay:this.exitDelay,showDuration:this.showDuration,hideDuration:this.hideDuration,transitionDistance:this.transitionDistance,zIndex:this.zIndex,afterShow:this.afterShow.bind(this),afterHide:this.afterHide.bind(this)};this.popper=new PopperComponent(e)}},{key:"beforeShow",value:function(){"function"==typeof this.beforeShowCallback&&this.beforeShowCallback(this)}},{key:"beforeHide",value:function(){"function"==typeof this.beforeHideCallback&&this.beforeHideCallback(this)}},{key:"show",value:function(){this.isShown()||(this.isShownForOtherTrigger()?this.showAfterOtherHide():(n.addClass(this.$popover,"pop-comp-disable-events"),this.$popover.popComp=this,this.beforeShow(),this.popper.show({resetPosition:!0}),n.addClass(this.$ele,"pop-comp-active")))}},{key:"hide",value:function(){this.isShown()&&(this.beforeHide(),this.popper.hide(),this.removeScrollEventListeners())}},{key:"toggle",value:function(e){void 0===e&&(e=!this.isShown()),e?this.show():this.hide()}},{key:"isShown",value:function(){return n.hasClass(this.$ele,"pop-comp-active")}},{key:"isShownForOtherTrigger",value:function(){var e=this.getOtherTriggerPopComp();return!!e&&e.isShown()}},{key:"showAfterOtherHide",value:function(){var e=this,t=this.getOtherTriggerPopComp();if(t){var i=t.exitDelay+t.hideDuration+100;setTimeout((function(){e.show()}),i)}}},{key:"afterShow",value:function(){var e=this;this.showOnHover?setTimeout((function(){n.removeClass(e.$popover,"pop-comp-disable-events")}),2e3):n.removeClass(this.$popover,"pop-comp-disable-events"),this.disableUpdatePosition||this.addScrollEventListeners(),"function"==typeof this.afterShowCallback&&this.afterShowCallback(this)}},{key:"afterHide",value:function(){n.removeClass(this.$ele,"pop-comp-active"),"function"==typeof this.afterHideCallback&&this.afterHideCallback(this)}},{key:"renderArrow",value:function(){if(!this.hideArrowIcon){var e=this.$popover.querySelector(".pop-comp-arrow");e||(this.$popover.insertAdjacentHTML("afterbegin",'<i class="pop-comp-arrow"></i>'),e=this.$popover.querySelector(".pop-comp-arrow")),this.$arrowEle=e}}},{key:"destroy",value:function(){this.removeEvents()}}])&&r(i.prototype,o),s&&r(i,s),Object.defineProperty(i,"prototype",{writable:!1}),e}();a=p.getAttrProps(),window.PopoverComponent=p}();;
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).mediumZoom=t();}(this,(function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);}return e;},t=function(e){return "IMG"===e.tagName;},o=function(e){return e&&1===e.nodeType;},n=function(e){return ".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase();},i=function(e){try{return Array.isArray(e)?e.filter(t):function(e){return NodeList.prototype.isPrototypeOf(e);}(e)?[].slice.call(e).filter(t):o(e)?[e].filter(t):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(t):[];}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom");}},r=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t;},d=function(e){var t=e.getBoundingClientRect(),o=t.top,n=t.left,i=t.width,r=t.height,d=e.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,m=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return d.removeAttribute("id"),d.style.position="absolute",d.style.top=o+a+"px",d.style.left=n+m+"px",d.style.width=i+"px",d.style.height=r+"px",d.style.transform="",d;},a=function(t,o){var n=e({bubbles:!1,cancelable:!1,detail:void 0},o);if("function"==typeof window.CustomEvent)return new CustomEvent(t,n);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i;};return function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e));}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}"),function t(m){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=window.Promise||function(e){function t(){}e(t,t);},u=function(e){var t=e.target;t!==N?-1!==x.indexOf(t)&&w({target:t}):E();},s=function(){if(!A&&k.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(S-e)>T.scrollOffset&&setTimeout(E,150);}},f=function(e){var t=e.key||e.keyCode;"Escape"!==t&&"Esc"!==t&&27!==t||E();},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t;if(t.background&&(N.style.background=t.background),t.container&&t.container instanceof Object&&(n.container=e({},T.container,t.container)),t.template){var i=o(t.template)?t.template:document.querySelector(t.template);n.template=i;}return T=e({},T,n),x.forEach((function(e){e.dispatchEvent(a("medium-zoom:update",{detail:{zoom:j}}));})),j;},g=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(e({},T,o));},v=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.reduce((function(e,t){return [].concat(e,i(t));}),[]);return n.filter((function(e){return -1===x.indexOf(e);})).forEach((function(e){x.push(e),e.classList.add("medium-zoom-image");})),O.forEach((function(e){var t=e.type,o=e.listener,i=e.options;n.forEach((function(e){e.addEventListener(t,o,i);}));})),j;},h=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];k.zoomed&&E();var n=t.length>0?t.reduce((function(e,t){return [].concat(e,i(t));}),[]):x;return n.forEach((function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(a("medium-zoom:detach",{detail:{zoom:j}}));})),x=x.filter((function(e){return -1===n.indexOf(e);})),j;},z=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x.forEach((function(n){n.addEventListener("medium-zoom:"+e,t,o);})),O.push({type:"medium-zoom:"+e,listener:t,options:o}),j;},y=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x.forEach((function(n){n.removeEventListener("medium-zoom:"+e,t,o);})),O=O.filter((function(o){return !(o.type==="medium-zoom:"+e&&o.listener.toString()===t.toString());})),j;},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.target,r=function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},i=void 0,r=void 0;if(T.container)if(T.container instanceof Object)i=(t=e({},t,T.container)).width-t.left-t.right-2*T.margin,r=t.height-t.top-t.bottom-2*T.margin;else{var d=(o(T.container)?T.container:document.querySelector(T.container)).getBoundingClientRect(),a=d.width,m=d.height,l=d.left,c=d.top;t=e({},t,{width:a,height:m,left:l,top:c});}i=i||t.width-2*T.margin,r=r||t.height-2*T.margin;var u=k.zoomedHd||k.original,s=n(u)?i:u.naturalWidth||i,f=n(u)?r:u.naturalHeight||r,p=u.getBoundingClientRect(),g=p.top,v=p.left,h=p.width,z=p.height,y=Math.min(Math.max(h,s),i)/h,b=Math.min(Math.max(z,f),r)/z,E=Math.min(y,b),w="scale("+E+") translate3d("+((i-h)/2-v+T.margin+t.left)/E+"px, "+((r-z)/2-g+T.margin+t.top)/E+"px, 0)";k.zoomed.style.transform=w,k.zoomedHd&&(k.zoomedHd.style.transform=w);};return new c((function(e){if(i&&-1===x.indexOf(i))e(j);else if(k.zoomed)e(j);else{if(i)k.original=i;else{if(!(x.length>0))return void e(j);var t=x;k.original=t[0];}if(k.original.dispatchEvent(a("medium-zoom:open",{detail:{zoom:j}})),S=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=!0,k.zoomed=d(k.original),document.body.appendChild(N),T.template){var n=o(T.template)?T.template:document.querySelector(T.template);k.template=document.createElement("div"),k.template.appendChild(n.content.cloneNode(!0)),document.body.appendChild(k.template);}if(k.original.parentElement&&"PICTURE"===k.original.parentElement.tagName&&k.original.currentSrc&&(k.zoomed.src=k.original.currentSrc),document.body.appendChild(k.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened");})),k.original.classList.add("medium-zoom-image--hidden"),k.zoomed.classList.add("medium-zoom-image--opened"),k.zoomed.addEventListener("click",E),k.zoomed.addEventListener("transitionend",(function t(){A=!1,k.zoomed.removeEventListener("transitionend",t),k.original.dispatchEvent(a("medium-zoom:opened",{detail:{zoom:j}})),e(j);})),k.original.getAttribute("data-zoom-src")){k.zoomedHd=k.zoomed.cloneNode(),k.zoomedHd.removeAttribute("srcset"),k.zoomedHd.removeAttribute("sizes"),k.zoomedHd.removeAttribute("loading"),k.zoomedHd.src=k.zoomed.getAttribute("data-zoom-src"),k.zoomedHd.onerror=function(){clearInterval(m),console.warn("Unable to reach the zoom image target "+k.zoomedHd.src),k.zoomedHd=null,r();};var m=setInterval((function(){k.zoomedHd.complete&&(clearInterval(m),k.zoomedHd.classList.add("medium-zoom-image--opened"),k.zoomedHd.addEventListener("click",E),document.body.appendChild(k.zoomedHd),r());}),10);}else if(k.original.hasAttribute("srcset")){k.zoomedHd=k.zoomed.cloneNode(),k.zoomedHd.removeAttribute("sizes"),k.zoomedHd.removeAttribute("loading");var l=k.zoomedHd.addEventListener("load",(function(){k.zoomedHd.removeEventListener("load",l),k.zoomedHd.classList.add("medium-zoom-image--opened"),k.zoomedHd.addEventListener("click",E),document.body.appendChild(k.zoomedHd),r();}));}else r();}}));},E=function(){return new c((function(e){if(!A&&k.original)A=!0,document.body.classList.remove("medium-zoom--opened"),k.zoomed.style.transform="",k.zoomedHd&&(k.zoomedHd.style.transform=""),k.template&&(k.template.style.transition="opacity 150ms",k.template.style.opacity=0),k.original.dispatchEvent(a("medium-zoom:close",{detail:{zoom:j}})),k.zoomed.addEventListener("transitionend",(function t(){k.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(k.zoomed),k.zoomedHd&&document.body.removeChild(k.zoomedHd),document.body.removeChild(N),k.zoomed.classList.remove("medium-zoom-image--opened"),k.template&&document.body.removeChild(k.template),A=!1,k.zoomed.removeEventListener("transitionend",t),k.original.dispatchEvent(a("medium-zoom:closed",{detail:{zoom:j}})),k.original=null,k.zoomed=null,k.zoomedHd=null,k.template=null,e(j);}));else e(j);}));},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target;return k.original?E():b({target:t});},L=function(){return T;},H=function(){return x;},C=function(){return k.original;},x=[],O=[],A=!1,S=0,T=l,k={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(m)?T=m:(m||"string"==typeof m)&&v(m),T=e({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},T);var N=r(T.background);document.addEventListener("click",u),document.addEventListener("keyup",f),document.addEventListener("scroll",s),window.addEventListener("resize",E);var j={open:b,close:E,toggle:w,update:p,clone:g,attach:v,detach:h,on:z,off:y,getOptions:L,getImages:H,getZoomedImage:C};return j;};}));;
! function() {
	"use strict";
	function e(e) {
		return e[e.length - 1]
	}
	function t(e, ...t) {
		return t.forEach((t => {
			e.includes(t) || e.push(t)
		})), e
	}
	function i(e, t) {
		return e ? e.split(t) : []
	}
	function s(e, t, i) {
		return (void 0 === t || e >= t) && (void 0 === i || e <= i)
	}
	function n(e, t, i) {
		return e < t ? t : e > i ? i : e
	}
	function a(e, t, i = {}, s = 0, n = "") {
		n += `<${Object.keys(i).reduce(((e,t)=>{let n=i[t];return"function"==typeof n&&(n=n(s)),`${e} ${t}="${n}"`}),e)}></${e}>`;
		const r = s + 1;
		return r < t ? a(e, t, i, r, n) : n
	}
	function r(e) {
		return e.replace(/>\s+/g, ">").replace(/\s+</, "<")
	}
	function o(e) {
		return new Date(e).setHours(0, 0, 0, 0)
	}
	function d() {
		return (new Date).setHours(0, 0, 0, 0)
	}
	function c(...e) {
		switch (e.length) {
			case 0:
				return d();
			case 1:
				return o(e[0])
		}
		const t = new Date(0);
		return t.setFullYear(...e), t.setHours(0, 0, 0, 0)
	}
	function l(e, t) {
		const i = new Date(e);
		return i.setDate(i.getDate() + t)
	}
	function h(e, t) {
		const i = new Date(e),
			s = i.getMonth() + t;
		let n = s % 12;
		n < 0 && (n += 12);
		const a = i.setMonth(s);
		return i.getMonth() !== n ? i.setDate(0) : a
	}
	function u(e, t) {
		const i = new Date(e),
			s = i.getMonth(),
			n = i.setFullYear(i.getFullYear() + t);
		return 1 === s && 2 === i.getMonth() ? i.setDate(0) : n
	}
	function f(e, t) {
		return (e - t + 7) % 7
	}
	function p(e, t, i = 0) {
		const s = new Date(e).getDay();
		return l(e, f(t, i) - f(s, i))
	}
	function m(e, t) {
		return Math.round((e - t) / 6048e5) + 1
	}
	function w(e) {
		const t = p(e, 4, 1);
		return m(t, p(new Date(t).setMonth(0, 4), 4, 1))
	}
	function g(e, t) {
		const i = p(new Date(e).setMonth(0, 1), t, t),
			s = p(e, t, t),
			n = m(s, i);
		if (n < 53) return n;
		return s === p(new Date(e).setDate(32), t, t) ? 1 : n
	}
	function y(e) {
		return g(e, 0)
	}
	function D(e) {
		return g(e, 6)
	}
	function k(e, t) {
		const i = new Date(e).getFullYear();
		return Math.floor(i / t) * t
	}
	function b(e, t, i) {
		if (1 !== t && 2 !== t) return e;
		const s = new Date(e);
		return 1 === t ? i ? s.setMonth(s.getMonth() + 1, 0) : s.setDate(1) : i ? s.setFullYear(s.getFullYear() + 1, 0, 0) : s.setMonth(0, 1), s.setHours(0, 0, 0, 0)
	}
	const v = /dd?|DD?|mm?|MM?|yy?(?:yy)?/,
		x = /[\s!-/:-@[-`{-~年月日]+/;
	let M = {};
	const O = {
			y: (e, t) => new Date(e).setFullYear(parseInt(t, 10)),
			m(e, t, i) {
				const s = new Date(e);
				let n = parseInt(t, 10) - 1;
				if (isNaN(n)) {
					if (!t) return NaN;
					const e = t.toLowerCase(),
						s = t => t.toLowerCase().startsWith(e);
					if (n = i.monthsShort.findIndex(s), n < 0 && (n = i.months.findIndex(s)), n < 0) return NaN
				}
				return s.setMonth(n), s.getMonth() !== N(n) ? s.setDate(0) : s.getTime()
			},
			d: (e, t) => new Date(e).setDate(parseInt(t, 10))
		},
		S = {
			d: e => e.getDate(),
			dd: e => C(e.getDate(), 2),
			D: (e, t) => t.daysShort[e.getDay()],
			DD: (e, t) => t.days[e.getDay()],
			m: e => e.getMonth() + 1,
			mm: e => C(e.getMonth() + 1, 2),
			M: (e, t) => t.monthsShort[e.getMonth()],
			MM: (e, t) => t.months[e.getMonth()],
			y: e => e.getFullYear(),
			yy: e => C(e.getFullYear(), 2).slice(-2),
			yyyy: e => C(e.getFullYear(), 4)
		};
	function N(e) {
		return e > -1 ? e % 12 : N(e + 12)
	}
	function C(e, t) {
		return e.toString().padStart(t, "0")
	}
	function F(t) {
		if ("string" != typeof t) throw new Error("Invalid date format.");
		if (t in M) return M[t];
		const i = t.split(v),
			s = t.match(new RegExp(v, "g"));
		if (0 === i.length || !s) throw new Error("Invalid date format.");
		const n = s.map((e => S[e])),
			a = Object.keys(O).reduce(((e, t) => (s.find((e => "D" !== e[0] && e[0].toLowerCase() === t)) && e.push(t), e)), []);
		return M[t] = {
			parser(e, t) {
				const i = e.split(x).reduce(((e, t, i) => {
					if (t.length > 0 && s[i]) {
						const n = s[i][0];
						"M" === n ? e.m = t : "D" !== n && (e[n] = t)
					}
					return e
				}), {});
				return a.reduce(((e, s) => {
					const n = O[s](e, i[s], t);
					return isNaN(n) ? e : n
				}), d())
			},
			formatter: (t, s) => n.reduce(((e, n, a) => e + `${i[a]}${n(t,s)}`), "") + e(i)
		}
	}
	function V(e, t, i) {
		if (e instanceof Date || "number" == typeof e) {
			const t = o(e);
			return isNaN(t) ? void 0 : t
		}
		if (e) {
			if ("today" === e) return d();
			if (t && t.toValue) {
				const s = t.toValue(e, t, i);
				return isNaN(s) ? void 0 : o(s)
			}
			return F(t).parser(e, i)
		}
	}
	function B(e, t, i) {
		if (isNaN(e) || !e && 0 !== e) return "";
		const s = "number" == typeof e ? new Date(e) : e;
		return t.toDisplay ? t.toDisplay(s, t, i) : F(t).formatter(s, i)
	}
	const E = document.createRange();
	function A(e) {
		return E.createContextualFragment(e)
	}
	function L(e) {
		return e.parentElement || (e.parentNode instanceof ShadowRoot ? e.parentNode.host : void 0)
	}
	function Y(e) {
		return e.getRootNode().activeElement === e
	}
	function W(e) {
		"none" !== e.style.display && (e.style.display && (e.dataset.styleDisplay = e.style.display), e.style.display = "none")
	}
	function _(e) {
		"none" === e.style.display && (e.dataset.styleDisplay ? (e.style.display = e.dataset.styleDisplay, delete e.dataset.styleDisplay) : e.style.display = "")
	}
	function K(e) {
		e.firstChild && (e.removeChild(e.firstChild), K(e))
	}
	const R = new WeakMap,
		{
			addEventListener: j,
			removeEventListener: T
		} = EventTarget.prototype;
	function H(e, t) {
		let i = R.get(e);
		i || (i = [], R.set(e, i)), t.forEach((e => {
			j.call(...e), i.push(e)
		}))
	}
	function I(e) {
		let t = R.get(e);
		t && (t.forEach((e => {
			T.call(...e)
		})), R.delete(e))
	}
	if (!Event.prototype.composedPath) {
		const e = (t, i = []) => {
			let s;
			return i.push(t), t.parentNode ? s = t.parentNode : t.host ? s = t.host : t.defaultView && (s = t.defaultView), s ? e(s, i) : i
		};
		Event.prototype.composedPath = function() {
			return e(this.target)
		}
	}
	function $(e, t, i) {
		const [s, ...n] = e;
		return t(s) ? s : s !== i && "HTML" !== s.tagName && 0 !== n.length ? $(n, t, i) : void 0
	}
	function P(e, t) {
		const i = "function" == typeof t ? t : e => e instanceof Element && e.matches(t);
		return $(e.composedPath(), i, e.currentTarget)
	}
	const J = {
			en: {
				days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
				daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
				daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
				months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
				monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
				today: "Today",
				clear: "Clear",
				titleFormat: "MM y"
			}
		},
		U = {
			autohide: !1,
			beforeShowDay: null,
			beforeShowDecade: null,
			beforeShowMonth: null,
			beforeShowYear: null,
			clearButton: !1,
			dateDelimiter: ",",
			datesDisabled: [],
			daysOfWeekDisabled: [],
			daysOfWeekHighlighted: [],
			defaultViewDate: void 0,
			disableTouchKeyboard: !1,
			enableOnReadonly: !0,
			format: "mm/dd/yyyy",
			language: "en",
			maxDate: null,
			maxNumberOfDates: 1,
			maxView: 3,
			minDate: null,
			nextArrow: "»",
			orientation: "auto",
			pickLevel: 0,
			prevArrow: "«",
			showDaysOfWeek: !0,
			showOnClick: !0,
			showOnFocus: !0,
			startView: 0,
			title: "",
			todayButton: !1,
			todayButtonMode: 0,
			todayHighlight: !1,
			updateOnBlur: !0,
			weekNumbers: 0,
			weekStart: 0
		},
		{
			language: q,
			format: z,
			weekStart: X
		} = U;
	function G(e, i) {
		return e.length < 6 && i >= 0 && i < 7 ? t(e, i) : e
	}
	function Q(e, t) {
		switch (4 === e ? 6 === t ? 3 : !t + 1 : e) {
			case 1:
				return w;
			case 2:
				return y;
			case 3:
				return D
		}
	}
	function Z(e, t, i) {
		return t.weekStart = e, t.weekEnd = (e + 6) % 7, 4 === i && (t.getWeekNumber = Q(4, e)), e
	}
	function ee(e, t, i, s) {
		const n = V(e, t, i);
		return void 0 !== n ? n : s
	}
	function te(e, t, i = 3) {
		const s = parseInt(e, 10);
		return s >= 0 && s <= i ? s : t
	}
	function ie(e, t, i, s) {
		t in e && (i in e || (e[i] = s ? s(e[t]) : e[t]), delete e[t])
	}
	function se(e, i) {
		const s = Object.assign({}, e),
			n = {},
			a = i.constructor.locales,
			r = !!i.rangeSideIndex;
		let {
			datesDisabled: o,
			format: d,
			language: l,
			locale: h,
			maxDate: u,
			maxView: f,
			minDate: p,
			pickLevel: m,
			startView: w,
			weekNumbers: g,
			weekStart: y
		} = i.config || {};
		if (ie(s, "calendarWeeks", "weekNumbers", (e => e ? 1 : 0)), ie(s, "clearBtn", "clearButton"), ie(s, "todayBtn", "todayButton"), ie(s, "todayBtnMode", "todayButtonMode"), s.language) {
			let e;
			if (s.language !== l && (a[s.language] ? e = s.language : (e = s.language.split("-")[0], a[e] || (e = !1))), delete s.language, e) {
				l = n.language = e;
				const t = h || a[q];
				h = Object.assign({
					format: z,
					weekStart: X
				}, a[q]), l !== q && Object.assign(h, a[l]), n.locale = h, d === t.format && (d = n.format = h.format), y === t.weekStart && (y = Z(h.weekStart, n, g))
			}
		}
		if (s.format) {
			const e = "function" == typeof s.format.toDisplay,
				t = "function" == typeof s.format.toValue,
				i = v.test(s.format);
			(e && t || i) && (d = n.format = s.format), delete s.format
		}
		let D = m;
		"pickLevel" in s && (D = te(s.pickLevel, m, 2), delete s.pickLevel), D !== m && (D > m && ("minDate" in s || (s.minDate = p), "maxDate" in s || (s.maxDate = u)), o && !s.datesDisabled && (s.datesDisabled = []), m = n.pickLevel = D);
		let k = p,
			x = u;
		if ("minDate" in s) {
			const e = c(0, 0, 1);
			k = null === s.minDate ? e : ee(s.minDate, d, h, k), k !== e && (k = b(k, m, !1)), delete s.minDate
		}
		if ("maxDate" in s && (x = null === s.maxDate ? void 0 : ee(s.maxDate, d, h, x), void 0 !== x && (x = b(x, m, !0)), delete s.maxDate), x < k ? (p = n.minDate = x, u = n.maxDate = k) : (p !== k && (p = n.minDate = k), u !== x && (u = n.maxDate = x)), s.datesDisabled) {
			const e = s.datesDisabled;
			if ("function" == typeof e) n.datesDisabled = null, n.checkDisabled = (t, i) => e(new Date(t), i, r);
			else {
				const i = n.datesDisabled = e.reduce(((e, i) => {
					const s = V(i, d, h);
					return void 0 !== s ? t(e, b(s, m, r)) : e
				}), []);
				n.checkDisabled = e => i.includes(e)
			}
			delete s.datesDisabled
		}
		if ("defaultViewDate" in s) {
			const e = V(s.defaultViewDate, d, h);
			void 0 !== e && (n.defaultViewDate = e), delete s.defaultViewDate
		}
		if ("weekStart" in s) {
			const e = Number(s.weekStart) % 7;
			isNaN(e) || (y = Z(e, n, g)), delete s.weekStart
		}
		if (s.daysOfWeekDisabled && (n.daysOfWeekDisabled = s.daysOfWeekDisabled.reduce(G, []), delete s.daysOfWeekDisabled), s.daysOfWeekHighlighted && (n.daysOfWeekHighlighted = s.daysOfWeekHighlighted.reduce(G, []), delete s.daysOfWeekHighlighted), "weekNumbers" in s) {
			let e = s.weekNumbers;
			if (e) {
				const t = "function" == typeof e ? (t, i) => e(new Date(t), i) : Q(e = parseInt(e, 10), y);
				t && (g = n.weekNumbers = e, n.getWeekNumber = t)
			} else g = n.weekNumbers = 0, n.getWeekNumber = null;
			delete s.weekNumbers
		}
		if ("maxNumberOfDates" in s) {
			const e = parseInt(s.maxNumberOfDates, 10);
			e >= 0 && (n.maxNumberOfDates = e, n.multidate = 1 !== e), delete s.maxNumberOfDates
		}
		s.dateDelimiter && (n.dateDelimiter = String(s.dateDelimiter), delete s.dateDelimiter);
		let M = f;
		"maxView" in s && (M = te(s.maxView, f), delete s.maxView), M = m > M ? m : M, M !== f && (f = n.maxView = M);
		let O = w;
		if ("startView" in s && (O = te(s.startView, O), delete s.startView), O < m ? O = m : O > f && (O = f), O !== w && (n.startView = O), s.prevArrow) {
			const e = A(s.prevArrow);
			e.childNodes.length > 0 && (n.prevArrow = e.childNodes), delete s.prevArrow
		}
		if (s.nextArrow) {
			const e = A(s.nextArrow);
			e.childNodes.length > 0 && (n.nextArrow = e.childNodes), delete s.nextArrow
		}
		if ("disableTouchKeyboard" in s && (n.disableTouchKeyboard = "ontouchstart" in document && !!s.disableTouchKeyboard, delete s.disableTouchKeyboard), s.orientation) {
			const e = s.orientation.toLowerCase().split(/\s+/g);
			n.orientation = {
				x: e.find((e => "left" === e || "right" === e)) || "auto",
				y: e.find((e => "top" === e || "bottom" === e)) || "auto"
			}, delete s.orientation
		}
		if ("todayButtonMode" in s) {
			switch (s.todayButtonMode) {
				case 0:
				case 1:
					n.todayButtonMode = s.todayButtonMode
			}
			delete s.todayButtonMode
		}
		return Object.entries(s).forEach((([e, t]) => {
			void 0 !== t && e in U && (n[e] = t)
		})), n
	}
	const ne = {
		show: {
			key: "ArrowDown"
		},
		hide: null,
		toggle: {
			key: "Escape"
		},
		prevButton: {
			key: "ArrowLeft",
			ctrlOrMetaKey: !0
		},
		nextButton: {
			key: "ArrowRight",
			ctrlOrMetaKey: !0
		},
		viewSwitch: {
			key: "ArrowUp",
			ctrlOrMetaKey: !0
		},
		clearButton: {
			key: "Backspace",
			ctrlOrMetaKey: !0
		},
		todayButton: {
			key: ".",
			ctrlOrMetaKey: !0
		},
		exitEditMode: {
			key: "ArrowDown",
			ctrlOrMetaKey: !0
		}
	};
	const ae = r('<div class="vjsdp">\n  <div class="vjsdp-picker">\n    <div class="vjsdp-header">\n      <div class="vjsdp-title"></div>\n      <div class="vjsdp-controls">\n        <button type="button" class="%buttonClass% prev-button prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-button next-btn"></button>\n      </div>\n    </div>\n    <div class="vjsdp-main"></div>\n    <div class="vjsdp-footer">\n      <div class="vjsdp-controls">\n        <button type="button" class="%buttonClass% today-button today-btn"></button>\n        <button type="button" class="%buttonClass% clear-button clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),
		re = r(`<div class="days">\n  <div class="days-of-week">${a("span",7,{class:"dow"})}</div>\n  <div class="vjsdp-grid">${a("span",42)}</div>\n</div>`),
		oe = r(`<div class="week-numbers calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">${a("span",6,{class:"week"})}</div>\n</div>`);
	class de {
		constructor(e, t) {
			Object.assign(this, t, {
				picker: e,
				element: A('<div class="vjsdp-view"></div>').firstChild,
				selected: [],
				isRangeEnd: !!e.datepicker.rangeSideIndex
			}), this.init(this.picker.datepicker.config)
		}
		init(e) {
			"pickLevel" in e && (this.isMinView = this.id === e.pickLevel), this.setOptions(e), this.updateFocus(), this.updateSelection()
		}
		prepareForRender(e, t, i) {
			this.disabled = [];
			const s = this.picker;
			s.setViewSwitchLabel(e), s.setPrevButtonDisabled(t), s.setNextButtonDisabled(i)
		}
		setDisabled(e, i) {
			i.add("disabled"), t(this.disabled, e)
		}
		performBeforeHook(e, t) {
			let i = this.beforeShow(new Date(t));
			switch (typeof i) {
				case "boolean":
					i = {
						enabled: i
					};
					break;
				case "string":
					i = {
						classes: i
					}
			}
			if (i) {
				const s = e.classList;
				if (!1 === i.enabled && this.setDisabled(t, s), i.classes) {
					const e = i.classes.split(/\s+/);
					s.add(...e), e.includes("disabled") && this.setDisabled(t, s)
				}
				i.content && function(e, t) {
					K(e), t instanceof DocumentFragment ? e.appendChild(t) : "string" == typeof t ? e.appendChild(A(t)) : "function" == typeof t.forEach && t.forEach((t => {
						e.appendChild(t)
					}))
				}(e, i.content)
			}
		}
		renderCell(e, t, i, s, {
			selected: n,
			range: a
		}, r, o = []) {
			e.textContent = t, this.isMinView && (e.dataset.date = s);
			const d = e.classList;
			if (e.className = `vjsdp-cell ${this.cellClass}`, i < this.first ? d.add("prev") : i > this.last && d.add("next"), d.add(...o), (r || this.checkDisabled(s, this.id)) && this.setDisabled(s, d), a) {
				const [e, t] = a;
				i > e && i < t && d.add("range"), i === e && d.add("range-start"), i === t && d.add("range-end")
			}
			n.includes(i) && d.add("selected"), i === this.focused && d.add("focused"), this.beforeShow && this.performBeforeHook(e, s)
		}
		refreshCell(e, t, i, [s, n]) {
			const a = e.classList;
			a.remove("range", "range-start", "range-end", "selected", "focused"), t > s && t < n && a.add("range"), t === s && a.add("range-start"), t === n && a.add("range-end"), i.includes(t) && a.add("selected"), t === this.focused && a.add("focused")
		}
		changeFocusedCell(e) {
			this.grid.querySelectorAll(".focused").forEach((e => {
				e.classList.remove("focused")
			})), this.grid.children[e].classList.add("focused")
		}
	}
	class ce extends de {
		constructor(e) {
			super(e, {
				id: 0,
				name: "days",
				cellClass: "day"
			})
		}
		init(e, t = !0) {
			if (t) {
				const e = A(re).firstChild;
				this.dow = e.firstChild, this.grid = e.lastChild, this.element.appendChild(e)
			}
			super.init(e)
		}
		setOptions(e) {
			let t;
			if ("minDate" in e && (this.minDate = e.minDate), "maxDate" in e && (this.maxDate = e.maxDate), e.checkDisabled && (this.checkDisabled = e.checkDisabled), e.daysOfWeekDisabled && (this.daysOfWeekDisabled = e.daysOfWeekDisabled, t = !0), e.daysOfWeekHighlighted && (this.daysOfWeekHighlighted = e.daysOfWeekHighlighted), "todayHighlight" in e && (this.todayHighlight = e.todayHighlight), "weekStart" in e && (this.weekStart = e.weekStart, this.weekEnd = e.weekEnd, t = !0), e.locale) {
				const i = this.locale = e.locale;
				this.dayNames = i.daysMin, this.switchLabelFormat = i.titleFormat, t = !0
			}
			if ("beforeShowDay" in e && (this.beforeShow = "function" == typeof e.beforeShowDay ? e.beforeShowDay : void 0), "weekNumbers" in e)
				if (e.weekNumbers && !this.weekNumbers) {
					const e = A(oe).firstChild;
					this.weekNumbers = {
						element: e,
						dow: e.firstChild,
						weeks: e.lastChild
					}, this.element.insertBefore(e, this.element.firstChild)
				} else this.weekNumbers && !e.weekNumbers && (this.element.removeChild(this.weekNumbers.element), this.weekNumbers = null);
			"getWeekNumber" in e && (this.getWeekNumber = e.getWeekNumber), "showDaysOfWeek" in e && (e.showDaysOfWeek ? (_(this.dow), this.weekNumbers && _(this.weekNumbers.dow)) : (W(this.dow), this.weekNumbers && W(this.weekNumbers.dow))), t && Array.from(this.dow.children).forEach(((e, t) => {
				const i = (this.weekStart + t) % 7;
				e.textContent = this.dayNames[i], e.className = this.daysOfWeekDisabled.includes(i) ? "dow disabled" : "dow"
			}))
		}
		updateFocus() {
			const e = new Date(this.picker.viewDate),
				t = e.getFullYear(),
				i = e.getMonth(),
				s = c(t, i, 1),
				n = p(s, this.weekStart, this.weekStart);
			this.first = s, this.last = c(t, i + 1, 0), this.start = n, this.focused = this.picker.viewDate
		}
		updateSelection() {
			const {
				dates: e,
				rangepicker: t
			} = this.picker.datepicker;
			this.selected = e, t && (this.range = t.dates)
		}
		render() {
			if (this.today = this.todayHighlight ? d() : void 0, this.prepareForRender(B(this.focused, this.switchLabelFormat, this.locale), this.first <= this.minDate, this.last >= this.maxDate), this.weekNumbers) {
				const e = this.weekStart,
					t = p(this.first, e, e);
				Array.from(this.weekNumbers.weeks.children).forEach(((i, s) => {
					const n = l(t, 7 * s);
					i.textContent = this.getWeekNumber(n, e), s > 3 && i.classList[n > this.last ? "add" : "remove"]("next")
				}))
			}
			Array.from(this.grid.children).forEach(((e, t) => {
				const i = l(this.start, t),
					s = new Date(i),
					n = s.getDay(),
					a = [];
				this.today === i && a.push("today"), this.daysOfWeekHighlighted.includes(n) && a.push("highlighted"), this.renderCell(e, s.getDate(), i, i, this, i < this.minDate || i > this.maxDate || this.daysOfWeekDisabled.includes(n), a)
			}))
		}
		refresh() {
			const e = this.range || [];
			Array.from(this.grid.children).forEach((t => {
				this.refreshCell(t, Number(t.dataset.date), this.selected, e)
			}))
		}
		refreshFocus() {
			this.changeFocusedCell(Math.round((this.focused - this.start) / 864e5))
		}
	}
	function le(e, t) {
		if (!e || !e[0] || !e[1]) return;
		const [
			[i, s],
			[n, a]
		] = e;
		return i > t || n < t ? void 0 : [i === t ? s : -1, n === t ? a : 12]
	}
	class he extends de {
		constructor(e) {
			super(e, {
				id: 1,
				name: "months",
				cellClass: "month"
			})
		}
		init(e, t = !0) {
			t && (this.grid = this.element, this.element.classList.add("months", "vjsdp-grid"), this.grid.appendChild(A(a("span", 12, {
				"data-month": e => e
			}))), this.first = 0, this.last = 11), super.init(e)
		}
		setOptions(e) {
			if (e.locale && (this.monthNames = e.locale.monthsShort), "minDate" in e)
				if (void 0 === e.minDate) this.minYear = this.minMonth = this.minDate = void 0;
				else {
					const t = new Date(e.minDate);
					this.minYear = t.getFullYear(), this.minMonth = t.getMonth(), this.minDate = t.setDate(1)
				} if ("maxDate" in e)
				if (void 0 === e.maxDate) this.maxYear = this.maxMonth = this.maxDate = void 0;
				else {
					const t = new Date(e.maxDate);
					this.maxYear = t.getFullYear(), this.maxMonth = t.getMonth(), this.maxDate = c(this.maxYear, this.maxMonth + 1, 0)
				} e.checkDisabled && (this.checkDisabled = this.isMinView || null === e.datesDisabled ? e.checkDisabled : () => !1), "beforeShowMonth" in e && (this.beforeShow = "function" == typeof e.beforeShowMonth ? e.beforeShowMonth : void 0)
		}
		updateFocus() {
			const e = new Date(this.picker.viewDate);
			this.year = e.getFullYear(), this.focused = e.getMonth()
		}
		updateSelection() {
			const {
				dates: e,
				rangepicker: i
			} = this.picker.datepicker;
			this.selected = e.reduce(((e, i) => {
				const s = new Date(i),
					n = s.getFullYear(),
					a = s.getMonth();
				return void 0 === e[n] ? e[n] = [a] : t(e[n], a), e
			}), {}), i && i.dates && (this.range = i.dates.map((e => {
				const t = new Date(e);
				return isNaN(t) ? void 0 : [t.getFullYear(), t.getMonth()]
			})))
		}
		render() {
			this.prepareForRender(this.year, this.year <= this.minYear, this.year >= this.maxYear);
			const e = this.selected[this.year] || [],
				t = this.year < this.minYear || this.year > this.maxYear,
				i = this.year === this.minYear,
				s = this.year === this.maxYear,
				n = le(this.range, this.year);
			Array.from(this.grid.children).forEach(((a, r) => {
				const o = b(new Date(this.year, r, 1), 1, this.isRangeEnd);
				this.renderCell(a, this.monthNames[r], r, o, {
					selected: e,
					range: n
				}, t || i && r < this.minMonth || s && r > this.maxMonth)
			}))
		}
		refresh() {
			const e = this.selected[this.year] || [],
				t = le(this.range, this.year) || [];
			Array.from(this.grid.children).forEach(((i, s) => {
				this.refreshCell(i, s, e, t)
			}))
		}
		refreshFocus() {
			this.changeFocusedCell(this.focused)
		}
	}
	class ue extends de {
		constructor(e, t) {
			super(e, t)
		}
		init(e, t = !0) {
			var i;
			t && (this.navStep = 10 * this.step, this.beforeShowOption = `beforeShow${i=this.cellClass,[...i].reduce(((e,t,i)=>e+(i?t:t.toUpperCase())),"")}`, this.grid = this.element, this.element.classList.add(this.name, "vjsdp-grid"), this.grid.appendChild(A(a("span", 12)))), super.init(e)
		}
		setOptions(e) {
			if ("minDate" in e && (void 0 === e.minDate ? this.minYear = this.minDate = void 0 : (this.minYear = k(e.minDate, this.step), this.minDate = c(this.minYear, 0, 1))), "maxDate" in e && (void 0 === e.maxDate ? this.maxYear = this.maxDate = void 0 : (this.maxYear = k(e.maxDate, this.step), this.maxDate = c(this.maxYear, 11, 31))), e.checkDisabled && (this.checkDisabled = this.isMinView || null === e.datesDisabled ? e.checkDisabled : () => !1), this.beforeShowOption in e) {
				const t = e[this.beforeShowOption];
				this.beforeShow = "function" == typeof t ? t : void 0
			}
		}
		updateFocus() {
			const e = new Date(this.picker.viewDate),
				t = k(e, this.navStep),
				i = t + 9 * this.step;
			this.first = t, this.last = i, this.start = t - this.step, this.focused = k(e, this.step)
		}
		updateSelection() {
			const {
				dates: e,
				rangepicker: i
			} = this.picker.datepicker;
			this.selected = e.reduce(((e, i) => t(e, k(i, this.step))), []), i && i.dates && (this.range = i.dates.map((e => {
				if (void 0 !== e) return k(e, this.step)
			})))
		}
		render() {
			this.prepareForRender(`${this.first}-${this.last}`, this.first <= this.minYear, this.last >= this.maxYear), Array.from(this.grid.children).forEach(((e, t) => {
				const i = this.start + t * this.step,
					s = b(new Date(i, 0, 1), 2, this.isRangeEnd);
				e.dataset.year = i, this.renderCell(e, i, i, s, this, i < this.minYear || i > this.maxYear)
			}))
		}
		refresh() {
			const e = this.range || [];
			Array.from(this.grid.children).forEach((t => {
				this.refreshCell(t, Number(t.textContent), this.selected, e)
			}))
		}
		refreshFocus() {
			this.changeFocusedCell(Math.round((this.focused - this.start) / this.step))
		}
	}
	function fe(e, t) {
		const i = {
			date: e.getDate(),
			viewDate: new Date(e.picker.viewDate),
			viewId: e.picker.currentView.id,
			datepicker: e
		};
		e.element.dispatchEvent(new CustomEvent(t, {
			detail: i
		}))
	}
	function pe(e, t) {
		const {
			config: i,
			picker: s
		} = e, {
			currentView: a,
			viewDate: r
		} = s;
		let o;
		switch (a.id) {
			case 0:
				o = h(r, t);
				break;
			case 1:
				o = u(r, t);
				break;
			default:
				o = u(r, t * a.navStep)
		}
		o = n(o, i.minDate, i.maxDate), s.changeFocus(o).render()
	}
	function me(e) {
		const t = e.picker.currentView.id;
		t !== e.config.maxView && e.picker.changeView(t + 1).render()
	}
	function we(e) {
		e.setDate({
			clear: !0
		})
	}
	function ge(e) {
		const t = d();
		1 === e.config.todayButtonMode ? e.setDate(t, {
			forceRefresh: !0,
			viewDate: t
		}) : e.setFocusedDate(t, !0)
	}
	function ye(e) {
		const t = () => {
				e.config.updateOnBlur ? e.update({
					revert: !0
				}) : e.refresh("input"), e.hide()
			},
			i = e.element;
		Y(i) ? i.addEventListener("blur", t, {
			once: !0
		}) : t()
	}
	function De(e, t) {
		const i = e.picker,
			s = new Date(i.viewDate),
			n = i.currentView.id,
			a = 1 === n ? h(s, t - s.getMonth()) : u(s, t - s.getFullYear());
		i.changeFocus(a).changeView(n - 1).render()
	}
	function ke(e) {
		me(e)
	}
	function be(e) {
		pe(e, -1)
	}
	function ve(e) {
		pe(e, 1)
	}
	function xe(e, t) {
		const i = P(t, ".vjsdp-cell");
		if (!i || i.classList.contains("disabled")) return;
		const {
			id: s,
			isMinView: n
		} = e.picker.currentView, a = i.dataset;
		n ? e.setDate(Number(a.date)) : De(e, Number(1 === s ? a.month : a.year))
	}
	function Me(e) {
		e.preventDefault()
	}
	const Oe = ["left", "top", "right", "bottom"].reduce(((e, t) => (e[t] = `vjsdp-orient-${t}`, e)), {}),
		Se = e => e ? `${e}px` : e;
	function Ne(e, t) {
		if ("title" in t && (t.title ? (e.controls.title.textContent = t.title, _(e.controls.title)) : (e.controls.title.textContent = "", W(e.controls.title))), t.prevArrow) {
			const i = e.controls.prevButton;
			K(i), t.prevArrow.forEach((e => {
				i.appendChild(e.cloneNode(!0))
			}))
		}
		if (t.nextArrow) {
			const i = e.controls.nextButton;
			K(i), t.nextArrow.forEach((e => {
				i.appendChild(e.cloneNode(!0))
			}))
		}
		if (t.locale && (e.controls.todayButton.textContent = t.locale.today, e.controls.clearButton.textContent = t.locale.clear), "todayButton" in t && (t.todayButton ? _(e.controls.todayButton) : W(e.controls.todayButton)), "minDate" in t || "maxDate" in t) {
			const {
				minDate: t,
				maxDate: i
			} = e.datepicker.config;
			e.controls.todayButton.disabled = !s(d(), t, i)
		}
		"clearButton" in t && (t.clearButton ? _(e.controls.clearButton) : W(e.controls.clearButton))
	}
	function Ce(t) {
		const {
			dates: i,
			config: s,
			rangeSideIndex: a
		} = t;
		return n(i.length > 0 ? e(i) : b(s.defaultViewDate, s.pickLevel, a), s.minDate, s.maxDate)
	}
	function Fe(e, t) {
		"_oldViewDate" in e || t === e.viewDate || (e._oldViewDate = e.viewDate), e.viewDate = t;
		const {
			id: i,
			year: s,
			first: n,
			last: a
		} = e.currentView, r = new Date(t).getFullYear();
		switch (i) {
			case 0:
				return t < n || t > a;
			case 1:
				return r !== s;
			default:
				return r < n || r > a
		}
	}
	function Ve(e) {
		return window.getComputedStyle(e).direction
	}
	function Be(e) {
		const t = L(e);
		if (t !== document.body && t) return "visible" !== window.getComputedStyle(t).overflow ? t : Be(t)
	}
	class Ee {
		constructor(e) {
			const {
				config: t,
				inputField: i
			} = this.datepicker = e, s = ae.replace(/%buttonClass%/g, t.buttonClass), n = this.element = A(s).firstChild, [a, r, o] = n.firstChild.children, d = a.firstElementChild, [c, l, h] = a.lastElementChild.children, [u, f] = o.firstChild.children, p = {
				title: d,
				prevButton: c,
				viewSwitch: l,
				nextButton: h,
				todayButton: u,
				clearButton: f
			};
			this.main = r, this.controls = p;
			const m = i ? "dropdown" : "inline";
			n.classList.add(`vjsdp-${m}`), Ne(this, t), this.viewDate = Ce(e), H(e, [
				[n, "mousedown", Me],
				[r, "click", xe.bind(null, e)],
				[p.viewSwitch, "click", ke.bind(null, e)],
				[p.prevButton, "click", be.bind(null, e)],
				[p.nextButton, "click", ve.bind(null, e)],
				[p.todayButton, "click", ge.bind(null, e)],
				[p.clearButton, "click", we.bind(null, e)]
			]), this.views = [new ce(this), new he(this), new ue(this, {
				id: 2,
				name: "years",
				cellClass: "year",
				step: 1
			}), new ue(this, {
				id: 3,
				name: "decades",
				cellClass: "decade",
				step: 10
			})], this.currentView = this.views[t.startView], this.currentView.render(), this.main.appendChild(this.currentView.element), t.container ? t.container.appendChild(this.element) : i.after(this.element)
		}
		setOptions(e) {
			Ne(this, e), this.views.forEach((t => {
				t.init(e, !1)
			})), this.currentView.render()
		}
		detach() {
			this.element.remove()
		}
		show() {
			if (this.active) return;
			const {
				datepicker: e,
				element: t
			} = this, i = e.inputField;
			if (i) {
				const s = Ve(i);
				s !== Ve(L(t)) ? t.dir = s : t.dir && t.removeAttribute("dir"), t.style.visibility = "hidden", t.classList.add("active"), this.place(), t.style.visibility = "", e.config.disableTouchKeyboard && i.blur()
			} else t.classList.add("active");
			this.active = !0, fe(e, "show")
		}
		hide() {
			this.active && (this.datepicker.exitEditMode(), this.element.classList.remove("active"), this.active = !1, fe(this.datepicker, "hide"))
		}
		place() {
			const {
				classList: e,
				offsetParent: t,
				style: i
			} = this.element, {
				config: s,
				inputField: n
			} = this.datepicker, {
				width: a,
				height: r
			} = this.element.getBoundingClientRect(), {
				left: o,
				top: d,
				right: c,
				bottom: l,
				width: h,
				height: u
			} = n.getBoundingClientRect();
			let {
				x: f,
				y: p
			} = s.orientation, m = o, w = d;
			if (t !== document.body && t) {
				const e = t.getBoundingClientRect();
				m -= e.left - t.scrollLeft, w -= e.top - t.scrollTop
			} else m += window.scrollX, w += window.scrollY;
			const g = Be(n);
			let y = 0,
				D = 0,
				{
					clientWidth: k,
					clientHeight: b
				} = document.documentElement;
			if (g) {
				const e = g.getBoundingClientRect();
				e.top > 0 && (D = e.top), e.left > 0 && (y = e.left), e.right < k && (k = e.right), e.bottom < b && (b = e.bottom)
			}
			let v = 0;
			"auto" === f && (o < y ? (f = "left", v = y - o) : o + a > k ? (f = "right", k < c && (v = k - c)) : f = "rtl" === Ve(n) ? c - a < y ? "left" : "right" : "left"), "right" === f && (m += h - a), m += v, "auto" === p && (p = d - r > D && l + r > b ? "top" : "bottom"), "top" === p ? w -= r : w += u, e.remove(...Object.values(Oe)), e.add(Oe[f], Oe[p]), i.left = Se(m), i.top = Se(w)
		}
		setViewSwitchLabel(e) {
			this.controls.viewSwitch.textContent = e
		}
		setPrevButtonDisabled(e) {
			this.controls.prevButton.disabled = e
		}
		setNextButtonDisabled(e) {
			this.controls.nextButton.disabled = e
		}
		changeView(e) {
			const t = this.currentView;
			return e !== t.id && (this._oldView || (this._oldView = t), this.currentView = this.views[e], this._renderMethod = "render"), this
		}
		changeFocus(e) {
			return this._renderMethod = Fe(this, e) ? "render" : "refreshFocus", this.views.forEach((e => {
				e.updateFocus()
			})), this
		}
		update(e) {
			const t = void 0 === e ? Ce(this.datepicker) : e;
			return this._renderMethod = Fe(this, t) ? "render" : "refresh", this.views.forEach((e => {
				e.updateFocus(), e.updateSelection()
			})), this
		}
		render(e = !0) {
			const {
				currentView: t,
				datepicker: i,
				_oldView: s
			} = this, n = new Date(this._oldViewDate), a = e && this._renderMethod || "render";
			if (delete this._oldView, delete this._oldViewDate, delete this._renderMethod, t[a](), s && (this.main.replaceChild(t.element, s.element), fe(i, "changeView")), !isNaN(n)) {
				const e = new Date(this.viewDate);
				e.getFullYear() !== n.getFullYear() && fe(i, "changeYear"), e.getMonth() !== n.getMonth() && fe(i, "changeMonth")
			}
		}
	}
	function Ae(e, t, i, n, a, r) {
		if (s(e, a, r)) {
			if (n(e)) {
				return Ae(t(e, i), t, i, n, a, r)
			}
			return e
		}
	}
	function Le(e, t, i) {
		const s = e.picker,
			n = s.currentView,
			a = n.step || 1;
		let r, o = s.viewDate;
		switch (n.id) {
			case 0:
				o = l(o, i ? 7 * t : t), r = l;
				break;
			case 1:
				o = h(o, i ? 4 * t : t), r = h;
				break;
			default:
				o = u(o, t * (i ? 4 : 1) * a), r = u
		}
		o = Ae(o, r, t < 0 ? -a : a, (e => n.disabled.includes(e)), n.minDate, n.maxDate), void 0 !== o && s.changeFocus(o).render()
	}
	function Ye(e, t) {
		const {
			config: i,
			picker: s,
			editMode: n
		} = e, a = s.active, {
			key: r,
			altKey: o,
			shiftKey: d
		} = t, c = t.ctrlKey || t.metaKey, l = () => {
			t.preventDefault(), t.stopPropagation()
		};
		if ("Tab" === r) return void ye(e);
		if ("Enter" === r) {
			if (a)
				if (n) e.exitEditMode({
					update: !0,
					autohide: i.autohide
				});
				else {
					const t = s.currentView;
					t.isMinView ? e.setDate(s.viewDate) : (s.changeView(t.id - 1).render(), l())
				}
			else e.update();
			return
		}
		const h = i.shortcutKeys,
			u = {
				key: r,
				ctrlOrMetaKey: c,
				altKey: o,
				shiftKey: d
			},
			f = Object.keys(h).find((e => {
				const t = h[e];
				return !Object.keys(t).find((e => t[e] !== u[e]))
			}));
		if (f) {
			let t;
			if ("toggle" === f ? t = f : n ? "exitEditMode" === f && (t = f) : a ? "hide" === f ? t = f : "prevButton" === f ? t = [pe, [e, -1]] : "nextButton" === f ? t = [pe, [e, 1]] : "viewSwitch" === f ? t = [me, [e]] : i.clearButton && "clearButton" === f ? t = [we, [e]] : i.todayButton && "todayButton" === f && (t = [ge, [e]]) : "show" === f && (t = f), t) return Array.isArray(t) ? t[0].apply(null, t[1]) : e[t](), void l()
		}
		if (!a || n) return;
		const p = (i, s) => {
			d || c || o ? e.enterEditMode() : (Le(e, i, s), t.preventDefault())
		};
		"ArrowLeft" === r ? p(-1, !1) : "ArrowRight" === r ? p(1, !1) : "ArrowUp" === r ? p(-1, !0) : "ArrowDown" === r ? p(1, !0) : ("Backspace" === r || "Delete" === r || 1 === r.length && !c) && e.enterEditMode()
	}
	function We(e) {
		e.config.showOnFocus && !e._showing && e.show()
	}
	function _e(e, t) {
		const i = t.target;
		(e.picker.active || e.config.showOnClick) && (i._active = Y(i), i._clicking = setTimeout((() => {
			delete i._active, delete i._clicking
		}), 2e3))
	}
	function Ke(e, t) {
		const i = t.target;
		i._clicking && (clearTimeout(i._clicking), delete i._clicking, i._active && e.enterEditMode(), delete i._active, e.config.showOnClick && e.show())
	}
	function Re(e, t) {
		t.clipboardData.types.includes("text/plain") && e.enterEditMode()
	}
	function je(e, t) {
		const {
			element: i,
			picker: s
		} = e;
		if (!s.active && !Y(i)) return;
		const n = s.element;
		P(t, (e => e === i || e === n)) || ye(e)
	}
	function Te(e, t) {
		return e.map((e => B(e, t.format, t.locale))).join(t.dateDelimiter)
	}
	function He(e, t, i = !1) {
		if (0 === t.length) return i ? [] : void 0;
		const {
			config: n,
			dates: a,
			rangeSideIndex: r
		} = e, {
			pickLevel: o,
			maxNumberOfDates: d
		} = n;
		let c = t.reduce(((e, t) => {
			let i = V(t, n.format, n.locale);
			return void 0 === i || (i = b(i, o, r), !s(i, n.minDate, n.maxDate) || e.includes(i) || n.checkDisabled(i, o) || !(o > 0) && n.daysOfWeekDisabled.includes(new Date(i).getDay()) || e.push(i)), e
		}), []);
		return 0 !== c.length ? (n.multidate && !i && (c = c.reduce(((e, t) => (a.includes(t) || e.push(t), e)), a.filter((e => !c.includes(e))))), d && c.length > d ? c.slice(-1 * d) : c) : void 0
	}
	function Ie(e, t = 3, i = !0, s) {
		const {
			config: n,
			picker: a,
			inputField: r
		} = e;
		if (2 & t) {
			const e = a.active ? n.pickLevel : n.startView;
			a.update(s).changeView(e).render(i)
		}
		1 & t && r && (r.value = Te(e.dates, n))
	}
	function $e(e, t, i) {
		const s = e.config;
		let {
			clear: n,
			render: a,
			autohide: r,
			revert: o,
			forceRefresh: d,
			viewDate: c
		} = i;
		void 0 === a && (a = !0), a ? void 0 === r && (r = s.autohide) : r = d = !1, c = V(c, s.format, s.locale);
		const l = He(e, t, n);
		(l || o) && (l && l.toString() !== e.dates.toString() ? (e.dates = l, Ie(e, a ? 3 : 1, !0, c), fe(e, "changeDate")) : Ie(e, d ? 3 : 1, !0, c), r && e.hide())
	}
	function Pe(e, t) {
		return t ? i => B(i, t, e.config.locale) : e => new Date(e)
	}
	class Je {
		constructor(e, t = {}, s) {
			e.datepicker = this, this.element = e, this.dates = [];
			const n = this.config = Object.assign({
				buttonClass: t.buttonClass && String(t.buttonClass) || "button",
				container: null,
				defaultViewDate: d(),
				maxDate: void 0,
				minDate: void 0
			}, se(U, this));
			let a;
			if ("INPUT" === e.tagName ? (a = this.inputField = e, a.classList.add("vjsdp-input"), t.container && (n.container = t.container instanceof HTMLElement ? t.container : document.querySelector(t.container))) : n.container = e, s) {
				const e = s.inputs.indexOf(a),
					t = s.datepickers;
				if (e < 0 || e > 1 || !Array.isArray(t)) throw Error("Invalid rangepicker object.");
				t[e] = this, this.rangepicker = s, this.rangeSideIndex = e
			}
			this._options = t, Object.assign(n, se(t, this)), n.shortcutKeys = function(e) {
				return Object.keys(ne).reduce(((t, i) => {
					const s = void 0 === e[i] ? ne[i] : e[i],
						n = s && s.key;
					if (!n || "string" != typeof n) return t;
					const a = {
						key: n,
						ctrlOrMetaKey: !!(s.ctrlOrMetaKey || s.ctrlKey || s.metaKey)
					};
					return n.length > 1 && (a.altKey = !!s.altKey, a.shiftKey = !!s.shiftKey), t[i] = a, t
				}), {})
			}(t.shortcutKeys || {});
			const r = i(e.value || e.dataset.date, n.dateDelimiter);
			delete e.dataset.date;
			const o = He(this, r);
			o && o.length > 0 && (this.dates = o), a && (a.value = Te(this.dates, n));
			const c = this.picker = new Ee(this),
				l = [e, "keydown", Ye.bind(null, this)];
			a ? H(this, [l, [a, "focus", We.bind(null, this)],
				[a, "mousedown", _e.bind(null, this)],
				[a, "click", Ke.bind(null, this)],
				[a, "paste", Re.bind(null, this)],
				[document, "mousedown", je.bind(null, this)],
				[window, "resize", c.place.bind(c)]
			]) : (H(this, [l]), this.show())
		}
		static formatDate(e, t, i) {
			return B(e, t, i && J[i] || J.en)
		}
		static parseDate(e, t, i) {
			return V(e, t, i && J[i] || J.en)
		}
		static get locales() {
			return J
		}
		get active() {
			return !(!this.picker || !this.picker.active)
		}
		get pickerElement() {
			return this.picker ? this.picker.element : void 0
		}
		setOptions(e) {
			const t = se(e, this);
			Object.assign(this._options, e), Object.assign(this.config, t), this.picker.setOptions(t), Ie(this, 3)
		}
		show() {
			if (this.inputField) {
				const {
					config: e,
					inputField: t
				} = this;
				if (t.disabled || t.readOnly && !e.enableOnReadonly) return;
				Y(t) || e.disableTouchKeyboard || (this._showing = !0, t.focus(), delete this._showing)
			}
			this.picker.show()
		}
		hide() {
			this.inputField && (this.picker.hide(), this.picker.update().changeView(this.config.startView).render())
		}
		toggle() {
			this.picker.active ? this.inputField && this.picker.hide() : this.show()
		}
		destroy() {
			this.hide(), I(this), this.picker.detach();
			const e = this.element;
			return e.classList.remove("vjsdp-input"), delete e.datepicker, this
		}
		getDate(e) {
			const t = Pe(this, e);
			return this.config.multidate ? this.dates.map(t) : this.dates.length > 0 ? t(this.dates[0]) : void 0
		}
		setDate(...t) {
			const i = [...t],
				s = {},
				n = e(t);
			!n || "object" != typeof n || Array.isArray(n) || n instanceof Date || Object.assign(s, i.pop());
			$e(this, Array.isArray(i[0]) ? i[0] : i, s)
		}
		update(e) {
			if (!this.inputField) return;
			const t = Object.assign(e || {}, {
				clear: !0,
				render: !0,
				viewDate: void 0
			});
			$e(this, i(this.inputField.value, this.config.dateDelimiter), t)
		}
		getFocusedDate(e) {
			return Pe(this, e)(this.picker.viewDate)
		}
		setFocusedDate(e, t = !1) {
			const {
				config: i,
				picker: s,
				active: n,
				rangeSideIndex: a
			} = this, r = i.pickLevel, o = V(e, i.format, i.locale);
			void 0 !== o && (s.changeFocus(b(o, r, a)), n && t && s.changeView(r), s.render())
		}
		refresh(e, t = !1) {
			let i;
			e && "string" != typeof e && (t = e, e = void 0), i = "picker" === e ? 2 : "input" === e ? 1 : 3, Ie(this, i, !t)
		}
		enterEditMode() {
			const e = this.inputField;
			e && !e.readOnly && this.picker.active && !this.editMode && (this.editMode = !0, e.classList.add("in-edit"))
		}
		exitEditMode(e) {
			if (!this.inputField || !this.editMode) return;
			const t = Object.assign({
				update: !1
			}, e);
			delete this.editMode, this.inputField.classList.remove("in-edit"), t.update && this.update(t)
		}
	}
	function Ue(e) {
		const t = Object.assign({}, e);
		return delete t.inputs, delete t.allowOneSidedRange, delete t.maxNumberOfDates, t
	}
	function qe(e, t) {
		if (e._updating) return;
		e._updating = !0;
		const i = t.target;
		if (void 0 === i.datepicker) return;
		const s = e.datepickers,
			[n, a] = s,
			r = {
				render: !1
			},
			o = e.inputs.indexOf(i),
			d = 0 === o ? 1 : 0,
			c = s[o].dates[0],
			l = s[d].dates[0];
		void 0 !== c && void 0 !== l ? 0 === o && c > l ? (n.setDate(l, r), a.setDate(c, r)) : 1 === o && c < l && (n.setDate(c, r), a.setDate(l, r)) : e.allowOneSidedRange || void 0 === c && void 0 === l || (r.clear = !0, s[d].setDate(s[o].dates, r)), s.forEach((e => {
			e.picker.update().render()
		})), delete e._updating
	}
	window.Datepicker = Je, window.DateRangePicker = class {
		constructor(e, t = {}) {
			let i = Array.isArray(t.inputs) ? t.inputs : Array.from(e.querySelectorAll("input"));
			if (i.length < 2) return;
			e.rangepicker = this, this.element = e, this.inputs = i = i.slice(0, 2), Object.freeze(i), this.allowOneSidedRange = !!t.allowOneSidedRange;
			const s = qe.bind(null, this),
				n = Ue(t),
				a = this.datepickers = [];
			i.forEach((e => {
				! function(e, t, i, s) {
					H(e, [
						[i, "changeDate", t]
					]), new Je(i, s, e)
				}(this, s, e, n)
			})), Object.freeze(a), Object.defineProperty(this, "dates", {
				get: () => a.map((e => e.dates[0]))
			}), a[0].dates.length > 0 ? qe(this, {
				target: i[0]
			}) : a[1].dates.length > 0 && qe(this, {
				target: i[1]
			})
		}
		setOptions(e) {
			this.allowOneSidedRange = !!e.allowOneSidedRange;
			const t = Ue(e);
			this.datepickers.forEach((e => {
				e.setOptions(t)
			}))
		}
		destroy() {
			this.datepickers.forEach((e => {
				e.destroy()
			})), I(this), delete this.element.rangepicker
		}
		getDates(e) {
			const t = e ? t => B(t, e, this.datepickers[0].config.locale) : e => new Date(e);
			return this.dates.map((e => void 0 === e ? e : t(e)))
		}
		setDates(e, t) {
			const {
				datepickers: [i, s],
				inputs: [n, a],
				dates: [r, o]
			} = this;
			this._updating = !0, i.setDate(e), s.setDate(t), delete this._updating, s.dates[0] !== o ? qe(this, {
				target: a
			}) : i.dates[0] !== r && qe(this, {
				target: n
			})
		}
	}
}();


(function() {
	Datepicker.locales.ru = {
		days: ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"],
		daysShort: ["Вск", "Пнд", "Втр", "Срд", "Чтв", "Птн", "Суб"],
		daysMin: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
		months: ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"],
		monthsShort: ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"],
		today: "Сегодня",
		clear: "Очистить",
		format: "dd.mm.yyyy",
		weekStart: 1,
		monthsTitle: 'Месяцы'
	};
}());
;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lightGallery=e();}(this,(function(){"use strict";var t=function(){return (t=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t;}).apply(this,arguments);};var e="lgAfterAppendSlide",i="lgInit",s="lgHasVideo",n="lgContainerResize",o="lgUpdateSlides",r="lgAfterAppendSubHtml",l="lgBeforeOpen",a="lgAfterOpen",d="lgSlideItemLoad",g="lgBeforeSlide",h="lgAfterSlide",c="lgPosterClick",u="lgDragStart",m="lgDragMove",p="lgDragEnd",f="lgBeforeNextSlide",y="lgBeforePrevSlide",v="lgBeforeClose",b="lgAfterClose",I={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video"}};var C=function(){function t(t){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(t),this.firstElement=this._getFirstEl(),this;}return t.generateUUID=function(){return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return ("x"==t?e:3&e|8).toString(16);}));},t.prototype._getSelector=function(t,e){return void 0===e&&(e=document),"string"!=typeof t?t:(e=e||document,"#"===t.substring(0,1)?e.querySelector(t):e.querySelectorAll(t));},t.prototype._each=function(t){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,t):t(this.selector,0),this):this;},t.prototype._setCssVendorPrefix=function(t,e,i){var s=e.replace(/-([a-z])/gi,(function(t,e){return e.toUpperCase();}));-1!==this.cssVenderPrefixes.indexOf(s)?(t.style[s.charAt(0).toLowerCase()+s.slice(1)]=i,t.style["webkit"+s]=i,t.style["moz"+s]=i,t.style["ms"+s]=i,t.style["o"+s]=i):t.style[s]=i;},t.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector;},t.prototype.isEventMatched=function(t,e){var i=e.split(".");return t.split(".").filter((function(t){return t;})).every((function(t){return -1!==i.indexOf(t);}));},t.prototype.attr=function(t,e){return void 0===e?this.firstElement?this.firstElement.getAttribute(t):"":(this._each((function(i){i.setAttribute(t,e);})),this);},t.prototype.find=function(t){return x(this._getSelector(t,this.selector));},t.prototype.first=function(){return this.selector&&void 0!==this.selector.length?x(this.selector[0]):x(this.selector);},t.prototype.eq=function(t){return x(this.selector[t]);},t.prototype.parent=function(){return x(this.selector.parentElement);},t.prototype.get=function(){return this._getFirstEl();},t.prototype.removeAttr=function(t){var e=t.split(" ");return this._each((function(t){e.forEach((function(e){return t.removeAttribute(e);}));})),this;},t.prototype.wrap=function(t){if(!this.firstElement)return this;var e=document.createElement("div");return e.className=t,this.firstElement.parentNode.insertBefore(e,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),e.appendChild(this.firstElement),this;},t.prototype.addClass=function(t){return void 0===t&&(t=""),this._each((function(e){t.split(" ").forEach((function(t){t&&e.classList.add(t);}));})),this;},t.prototype.removeClass=function(t){return this._each((function(e){t.split(" ").forEach((function(t){t&&e.classList.remove(t);}));})),this;},t.prototype.hasClass=function(t){return !!this.firstElement&&this.firstElement.classList.contains(t);},t.prototype.hasAttribute=function(t){return !!this.firstElement&&this.firstElement.hasAttribute(t);},t.prototype.toggleClass=function(t){return this.firstElement?(this.hasClass(t)?this.removeClass(t):this.addClass(t),this):this;},t.prototype.css=function(t,e){var i=this;return this._each((function(s){i._setCssVendorPrefix(s,t,e);})),this;},t.prototype.on=function(e,i){var s=this;return this.selector?(e.split(" ").forEach((function(e){Array.isArray(t.eventListeners[e])||(t.eventListeners[e]=[]),t.eventListeners[e].push(i),s.selector.addEventListener(e.split(".")[0],i);})),this):this;},t.prototype.once=function(t,e){var i=this;return this.on(t,(function(){i.off(t),e(t);})),this;},t.prototype.off=function(e){var i=this;return this.selector?(Object.keys(t.eventListeners).forEach((function(s){i.isEventMatched(e,s)&&(t.eventListeners[s].forEach((function(t){i.selector.removeEventListener(s.split(".")[0],t);})),t.eventListeners[s]=[]);})),this):this;},t.prototype.trigger=function(t,e){if(!this.firstElement)return this;var i=new CustomEvent(t.split(".")[0],{detail:e||null});return this.firstElement.dispatchEvent(i),this;},t.prototype.load=function(t){var e=this;return fetch(t).then((function(t){return t.text();})).then((function(t){e.selector.innerHTML=t;})),this;},t.prototype.html=function(t){return void 0===t?this.firstElement?this.firstElement.innerHTML:"":(this._each((function(e){e.innerHTML=t;})),this);},t.prototype.append=function(t){return this._each((function(e){"string"==typeof t?e.insertAdjacentHTML("beforeend",t):e.appendChild(t);})),this;},t.prototype.prepend=function(t){return this._each((function(e){e.insertAdjacentHTML("afterbegin",t);})),this;},t.prototype.remove=function(){return this._each((function(t){t.parentNode.removeChild(t);})),this;},t.prototype.empty=function(){return this._each((function(t){t.innerHTML="";})),this;},t.prototype.scrollTop=function(t){return void 0!==t?(document.body.scrollTop=t,document.documentElement.scrollTop=t,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},t.prototype.scrollLeft=function(t){return void 0!==t?(document.body.scrollLeft=t,document.documentElement.scrollLeft=t,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;},t.prototype.offset=function(){if(!this.firstElement)return {left:0,top:0};var t=this.firstElement.getBoundingClientRect(),e=x("body").style().marginLeft;return {left:t.left-parseFloat(e)+this.scrollLeft(),top:t.top+this.scrollTop()};},t.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{};},t.prototype.width=function(){var t=this.style();return this.firstElement.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight);},t.prototype.height=function(){var t=this.style();return this.firstElement.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom);},t.eventListeners={},t;}();function x(t){return function(){if("function"==typeof window.CustomEvent)return !1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i;};}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),new C(t);}var w=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function S(t){return "href"===t?"src":t=(t=(t=t.replace("data-","")).charAt(0).toLowerCase()+t.slice(1)).replace(/-([a-z])/g,(function(t){return t[1].toUpperCase();}));}var T=function(t,e,i,s){void 0===i&&(i=0);var n=x(t).attr("data-lg-size")||s;if(n){var o=n.split(",");if(o[1])for(var r=window.innerWidth,l=0;l<o.length;l++){var a=o[l];if(parseInt(a.split("-")[2],10)>r){n=a;break;}l===o.length-1&&(n=a);}var d=n.split("-"),g=parseInt(d[0],10),h=parseInt(d[1],10),c=e.width(),u=e.height()-i,m=Math.min(c,g),p=Math.min(u,h),f=Math.min(m/g,p/h);return {width:g*f,height:h*f};}},E=function(t,e,i,s,n){if(n){var o=x(t).find("img").first();if(o.get()){var r=e.get().getBoundingClientRect(),l=r.width,a=e.height()-(i+s),d=o.width(),g=o.height(),h=o.style(),c=(l-d)/2-o.offset().left+(parseFloat(h.paddingLeft)||0)+(parseFloat(h.borderLeft)||0)+x(window).scrollLeft()+r.left,u=(a-g)/2-o.offset().top+(parseFloat(h.paddingTop)||0)+(parseFloat(h.borderTop)||0)+x(window).scrollTop()+i;return "translate3d("+(c*=-1)+"px, "+(u*=-1)+"px, 0) scale3d("+d/n.width+", "+g/n.height+", 1)";}}},O=function(t,e,i,s,n,o){return '<div class="lg-video-cont lg-has-iframe" style="width:'+t+"; max-width:"+i+"; height: "+e+"; max-height:"+s+'">\n                    <iframe class="lg-object" frameborder="0" '+(o?'title="'+o+'"':"")+' src="'+n+'"  allowfullscreen="true"></iframe>\n                </div>';},D=function(t,e,i,s,n,o){var r="<img "+i+" "+(s?'srcset="'+s+'"':"")+"  "+(n?'sizes="'+n+'"':"")+' class="lg-object lg-image" data-index="'+t+'" src="'+e+'" />',l="";o&&(l=("string"==typeof o?JSON.parse(o):o).map((function(t){var e="";return Object.keys(t).forEach((function(i){e+=" "+i+'="'+t[i]+'"';})),"<source "+e+"></source>";})));return ""+l+r;},L=function(t){for(var e=[],i=[],s="",n=0;n<t.length;n++){var o=t[n].split(" ");""===o[0]&&o.splice(0,1),i.push(o[0]),e.push(o[1]);}for(var r=window.innerWidth,l=0;l<e.length;l++)if(parseInt(e[l],10)>r){s=i[l];break;}return s;},z=function(t){return !!t&&(!!t.complete&&0!==t.naturalWidth);},M=function(t,e,i,s,n){return '<div class="lg-video-cont '+(n&&n.youtube?"lg-has-youtube":n&&n.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+i+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+s+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+s+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(e||"")+'\n            <img class="lg-object lg-video-poster" src="'+t+'" />\n        </div>';},G=function(t){var e=t.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');return [].filter.call(e,(function(t){var e=window.getComputedStyle(t);return "none"!==e.display&&"hidden"!==e.visibility;}));},k=function(t,e,i,s){var n=[],o=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var s=Array(t),n=0;for(e=0;e<i;e++)for(var o=arguments[e],r=0,l=o.length;r<l;r++,n++)s[n]=o[r];return s;}(w,e);return [].forEach.call(t,(function(t){for(var e={},r=0;r<t.attributes.length;r++){var l=t.attributes[r];if(l.specified){var a=S(l.name),d="";o.indexOf(a)>-1&&(d=a),d&&(e[d]=l.value);}}var g=x(t),h=g.find("img").first().attr("alt"),c=g.attr("title"),u=s?g.attr(s):g.find("img").first().attr("src");e.thumb=u,i&&!e.subHtml&&(e.subHtml=c||h||""),e.alt=h||c||"",n.push(e);})),n;},A=function(){return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);},P=function(t,e,i){if(!t)return e?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");var s=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),n=t.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),o=t.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return s?{youtube:s}:n?{vimeo:n}:o?{wistia:o}:void 0;},B=0,F=function(){function w(t,e){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!t)return this;if(B++,this.lgId=B,this.el=t,this.LGel=x(t),this.generateSettings(e),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw "When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this;}return w.prototype.generateSettings=function(e){if(this.settings=t(t({},I),e),this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():A()){var i=t(t({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=t(t({},this.settings),i);}},w.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length);},w.prototype.init=function(){var t=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(i,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout((function(){t.enableDrag(),t.enableSwipe(),t.triggerPosterClick();}),50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick();},w.prototype.openGalleryOnItemClick=function(){for(var t=this,e=function(e){var s=i.items[e],n=x(s),o=C.generateUUID();n.attr("data-lg-id",o).on("click.lgcustom-item-"+o,(function(i){i.preventDefault();var n=t.settings.index||e;t.openGallery(n,s);}));},i=this,s=0;s<this.items.length;s++)e(s);},w.prototype.buildModules=function(){var t=this;this.settings.plugins.forEach((function(e){t.plugins.push(new e(t,x));}));},w.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key");},w.prototype.getSlideItem=function(t){return x(this.getSlideItemId(t));},w.prototype.getSlideItemId=function(t){return "#lg-item-"+this.lgId+"-"+t;},w.prototype.getIdName=function(t){return t+"-"+this.lgId;},w.prototype.getElementById=function(t){return x("#"+this.getIdName(t));},w.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item");},w.prototype.buildStructure=function(){var t=this;if(!(this.$container&&this.$container.get())){var e="",i="";this.settings.controls&&(e='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(i='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var s="";this.settings.allowMediaOverlap&&(s+="lg-media-overlap ");var n=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",o=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",r="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),l=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",a=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",d='\n        <div class="'+r+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+n+" "+o+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+s+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+e+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+a+"\n                    "+l+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?i:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?i:"")+"\n                </div>\n            </div>\n        </div>\n        ";x(this.settings.container).append(d),document.body!==this.settings.container&&x(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var g=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(g+="lg-grab "),this.outer.addClass(g),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),x(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,(function(){t.refreshOnResize();})),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules();}},w.prototype.refreshOnResize=function(){if(this.lgOpened){var t=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var e=this.mediaContainerPosition,i=e.top,s=e.bottom;if(this.currentImageSize=T(this.items[this.index],this.outer,i+s,t&&this.settings.videoMaxSize),t&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var o=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",o);}this.LGel.trigger(n);}},w.prototype.resizeVideoSlide=function(t,e){var i=this.getVideoContStyle(e);this.getSlideItem(t).find(".lg-video-cont").attr("style",i);},w.prototype.updateSlides=function(t,e){if(this.index>t.length-1&&(this.index=t.length-1),1===t.length&&(this.index=0),t.length){var i=this.galleryItems[e].src;this.galleryItems=t,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var s=0;this.galleryItems.some((function(t,e){return t.src===i&&(s=e,!0);})),this.currentItemsInDom=this.organizeSlideItems(s,-1),this.loadContent(s,!0),this.getSlideItem(s).addClass("lg-current"),this.index=s,this.updateCurrentCounter(s),this.LGel.trigger(o);}else this.closeGallery();},w.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if("this"===this.settings.selector)this.items.push(this.el);else if(this.settings.selector)if("string"==typeof this.settings.selector)if(this.settings.selectWithin){var t=x(this.settings.selectWithin);this.items=t.find(this.settings.selector).get();}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return k(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage);},w.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container;},w.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(x("body").style().paddingRight);var t=document.documentElement.getBoundingClientRect(),e=window.innerWidth-t.width;x(document.body).css("padding-right",e+this.bodyPaddingRight+"px"),x(document.body).addClass("lg-overlay-open");}},w.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(x(document.body).css("padding-right",this.bodyPaddingRight+"px"),x(document.body).removeClass("lg-overlay-open"));},w.prototype.openGallery=function(t,e){var i=this;if(void 0===t&&(t=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var s=this.getItemsToBeInsertedToDom(t,t);this.currentItemsInDom=s;var n="";s.forEach((function(t){n=n+'<div id="'+t+'" class="lg-item"></div>';})),this.$inner.append(n),this.addHtml(t);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var r=this.mediaContainerPosition,d=r.top,g=r.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(d,g);var h=this.galleryItems[t].__slideVideoInfo;this.zoomFromOrigin&&e&&(this.currentImageSize=T(e,this.outer,d+g,h&&this.settings.videoMaxSize),o=E(e,this.outer,d,g,this.currentImageSize)),this.zoomFromOrigin&&o||(this.outer.addClass(this.settings.startClass),this.getSlideItem(t).removeClass("lg-complete"));var c=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout((function(){i.outer.addClass("lg-components-open");}),c),this.index=t,this.LGel.trigger(l),this.getSlideItem(t).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=x(window).scrollTop(),setTimeout((function(){if(i.zoomFromOrigin&&o){var e=i.getSlideItem(t);e.css("transform",o),setTimeout((function(){e.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image");})),setTimeout((function(){e.css("transform","translate3d(0, 0, 0)");}),100);}setTimeout((function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in");}),10),setTimeout((function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus();}),i.settings.backdropDuration+50),i.zoomFromOrigin&&o||setTimeout((function(){i.outer.addClass("lg-visible");}),i.settings.backdropDuration),i.slide(t,!1,!1,!1),i.LGel.trigger(a);})),document.body===this.settings.container&&x("html").addClass("lg-on");}},w.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return {top:0,bottom:0};var t=this.$toolbar.get().clientHeight||0,e=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||e&&e.clientHeight||0,s=this.outer.find(".lg-thumb-outer").get();return {top:t,bottom:(s?s.clientHeight:0)+i};},w.prototype.setMediaContainerPosition=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.$content.css("top",t+"px").css("bottom",e+"px");},w.prototype.hideBars=function(){var t=this;setTimeout((function(){t.outer.removeClass("lg-hide-items"),t.settings.hideBarsDelay>0&&(t.outer.on("mousemove.lg click.lg touchstart.lg",(function(){t.outer.removeClass("lg-hide-items"),clearTimeout(t.hideBarTimeout),t.hideBarTimeout=setTimeout((function(){t.outer.addClass("lg-hide-items");}),t.settings.hideBarsDelay);})),t.outer.trigger("mousemove.lg"));}),this.settings.showBarsAfter);},w.prototype.initPictureFill=function(t){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[t.get()]});}catch(t){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.");}},w.prototype.counter=function(){if(this.settings.counter){var t='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(t);}},w.prototype.addHtml=function(t){var e,i;if(this.galleryItems[t].subHtmlUrl?i=this.galleryItems[t].subHtmlUrl:e=this.galleryItems[t].subHtml,!i)if(e){var s=e.substring(0,1);"."!==s&&"#"!==s||(e=this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?x(this.items).eq(t).find(e).first().html():x(e).first().html());}else e="";if(".lg-item"!==this.settings.appendSubHtmlTo)i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(e);else{var n=x(this.getSlideItemId(t));i?n.load(i):n.append('<div class="lg-sub-html">'+e+"</div>");}null!=e&&(""===e?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(r,{index:t});},w.prototype.preload=function(t){for(var e=1;e<=this.settings.preload&&!(e>=this.galleryItems.length-t);e++)this.loadContent(t+e,!1);for(var i=1;i<=this.settings.preload&&!(t-i<0);i++)this.loadContent(t-i,!1);},w.prototype.getDummyImgStyles=function(t){return t?"width:"+t.width+"px;\n                margin-left: -"+t.width/2+"px;\n                margin-top: -"+t.height/2+"px;\n                height:"+t.height+"px":"";},w.prototype.getVideoContStyle=function(t){return t?"width:"+t.width+"px;\n                height:"+t.height+"px":"";},w.prototype.getDummyImageContent=function(t,e,i){var s;if(this.settings.dynamic||(s=x(this.items).eq(e)),s){var n=void 0;if(!(n=this.settings.exThumbImage?s.attr(this.settings.exThumbImage):s.find("img").first().attr("src")))return "";var o="<img "+i+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+n+'" />';return t.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),o;}return "";},w.prototype.setImgMarkup=function(t,e,i){var s=this.galleryItems[i],n=s.alt,o=s.srcset,r=s.sizes,l=s.sources,a=n?'alt="'+n+'"':"",d='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(e,i,a):D(i,t,a,o,r,l))+"</picture>";e.prepend(d);},w.prototype.onSlideObjectLoad=function(t,e,i,s){var n=t.find(".lg-object").first();z(n.get())||e?i():(n.on("load.lg error.lg",(function(){i&&i();})),n.on("error.lg",(function(){s&&s();})));},w.prototype.onLgObjectLoad=function(t,e,i,s,n,o){var r=this;this.onSlideObjectLoad(t,o,(function(){r.triggerSlideItemLoad(t,e,i,s,n);}),(function(){t.addClass("lg-complete lg-complete_"),t.html('<span class="lg-error-msg">Oops... Failed to load content...</span>');}));},w.prototype.triggerSlideItemLoad=function(t,e,i,s,n){var o=this,r=this.galleryItems[e],l=n&&"video"===this.getSlideType(r)&&!r.poster?s:0;setTimeout((function(){t.addClass("lg-complete lg-complete_"),o.LGel.trigger(d,{index:e,delay:i||0,isFirstSlide:n});}),l);},w.prototype.isFirstSlideWithZoomAnimation=function(){return !(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize);},w.prototype.addSlideVideoInfo=function(t){var e=this;t.forEach((function(t,i){t.__slideVideoInfo=P(t.src,!!t.video,i),t.__slideVideoInfo&&e.settings.loadYouTubePoster&&!t.poster&&t.__slideVideoInfo.youtube&&(t.poster="//img.youtube.com/vi/"+t.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg");}));},w.prototype.loadContent=function(t,i){var n=this,o=this.galleryItems[t],r=x(this.getSlideItemId(t)),l=o.poster,a=o.srcset,d=o.sizes,g=o.sources,h=o.src,c=o.video,u=c&&"string"==typeof c?JSON.parse(c):c;if(o.responsive){var m=o.responsive.split(",");h=L(m)||h;}var p=o.__slideVideoInfo,f="",y=!!o.iframe,v=!this.lGalleryOn,b=0;if(v&&(b=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),!r.hasClass("lg-loaded")){if(p){var I=this.mediaContainerPosition,C=I.top,w=I.bottom,S=T(this.items[t],this.outer,C+w,p&&this.settings.videoMaxSize);f=this.getVideoContStyle(S);}if(y){var E=O(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,h,o.iframeTitle);r.prepend(E);}else if(l){var z="";v&&this.zoomFromOrigin&&this.currentImageSize&&(z=this.getDummyImageContent(r,t,""));E=M(l,z||"",f,this.settings.strings.playVideo,p);r.prepend(E);}else if(p){E='<div class="lg-video-cont " style="'+f+'"></div>';r.prepend(E);}else{if(this.setImgMarkup(h,r,t),a||g){var G=r.find(".lg-object");this.initPictureFill(G);}}(l||p)&&this.LGel.trigger(s,{index:t,src:h,html5Video:u,hasPoster:!!l}),this.LGel.trigger(e,{index:t}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(t);}var k=0;b&&!x(document.body).hasClass("lg-from-hash")&&(k=b),this.isFirstSlideWithZoomAnimation()&&(setTimeout((function(){r.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style");}),this.settings.startAnimationDuration+100),r.hasClass("lg-loaded")||setTimeout((function(){if("image"===n.getSlideType(o)){var e=o.alt,i=e?'alt="'+e+'"':"";if(r.find(".lg-img-wrap").append(D(t,h,i,a,d,o.sources)),a||g){var s=r.find(".lg-object");n.initPictureFill(s);}}("image"===n.getSlideType(o)||"video"===n.getSlideType(o)&&l)&&(n.onLgObjectLoad(r,t,b,k,!0,!1),n.onSlideObjectLoad(r,!(!p||!p.html5||l),(function(){n.loadContentOnFirstSlideLoad(t,r,k);}),(function(){n.loadContentOnFirstSlideLoad(t,r,k);})));}),this.settings.startAnimationDuration+100)),r.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(o)||l)||this.onLgObjectLoad(r,t,b,k,v,!(!p||!p.html5||l)),this.zoomFromOrigin&&this.currentImageSize||!r.hasClass("lg-complete_")||this.lGalleryOn||setTimeout((function(){r.addClass("lg-complete");}),this.settings.backdropDuration),this.lGalleryOn=!0,!0===i&&(r.hasClass("lg-complete_")?this.preload(t):r.find(".lg-object").first().on("load.lg error.lg",(function(){n.preload(t);})));},w.prototype.loadContentOnFirstSlideLoad=function(t,e,i){var s=this;setTimeout((function(){e.find(".lg-dummy-img").remove(),e.removeClass("lg-first-slide"),s.outer.removeClass("lg-first-slide-loading"),s.isDummyImageRemoved=!0,s.preload(t);}),i+300);},w.prototype.getItemsToBeInsertedToDom=function(t,e,i){var s=this;void 0===i&&(i=0);var n=[],o=Math.max(i,3);o=Math.min(o,this.galleryItems.length);var r="lg-item-"+this.lgId+"-"+e;if(this.galleryItems.length<=3)return this.galleryItems.forEach((function(t,e){n.push("lg-item-"+s.lgId+"-"+e);})),n;if(t<(this.galleryItems.length-1)/2){for(var l=t;l>t-o/2&&l>=0;l--)n.push("lg-item-"+this.lgId+"-"+l);var a=n.length;for(l=0;l<o-a;l++)n.push("lg-item-"+this.lgId+"-"+(t+l+1));}else{for(l=t;l<=this.galleryItems.length-1&&l<t+o/2;l++)n.push("lg-item-"+this.lgId+"-"+l);for(a=n.length,l=0;l<o-a;l++)n.push("lg-item-"+this.lgId+"-"+(t-l-1));}return this.settings.loop&&(t===this.galleryItems.length-1?n.push("lg-item-"+this.lgId+"-0"):0===t&&n.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===n.indexOf(r)&&n.push("lg-item-"+this.lgId+"-"+e),n;},w.prototype.organizeSlideItems=function(t,e){var i=this,s=this.getItemsToBeInsertedToDom(t,e,this.settings.numberOfSlideItemsInDom);return s.forEach((function(t){-1===i.currentItemsInDom.indexOf(t)&&i.$inner.append('<div id="'+t+'" class="lg-item"></div>');})),this.currentItemsInDom.forEach((function(t){-1===s.indexOf(t)&&x("#"+t).remove();})),s;},w.prototype.getPreviousSlideIndex=function(){var t=0;try{var e=this.outer.find(".lg-current").first().attr("id");t=parseInt(e.split("-")[3])||0;}catch(e){t=0;}return t;},w.prototype.setDownloadValue=function(t){if(this.settings.download){var e=this.galleryItems[t];if(!1===e.downloadUrl||"false"===e.downloadUrl)this.outer.addClass("lg-hide-download");else{var i=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),i.attr("href",e.downloadUrl||e.src),e.download&&i.attr("download",e.download);}}},w.prototype.makeSlideAnimation=function(t,e,i){var s=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout((function(){s.outer.addClass("lg-no-trans"),s.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===t?(e.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(e.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout((function(){s.outer.find(".lg-item").removeClass("lg-current"),e.addClass("lg-current"),s.outer.removeClass("lg-no-trans");}),50);}),this.lGalleryOn?this.settings.slideDelay:0);},w.prototype.slide=function(t,e,i,s){var n=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(t,o),!this.lGalleryOn||o!==t){var r=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(t);var l=this.getSlideItem(t),a=this.getSlideItem(o),d=this.galleryItems[t],c=d.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(d)),this.setDownloadValue(t),c){var u=this.mediaContainerPosition,m=u.top,p=u.bottom,f=T(this.items[t],this.outer,m+p,c&&this.settings.videoMaxSize);this.resizeVideoSlide(t,f);}if(this.LGel.trigger(g,{prevIndex:o,index:t,fromTouch:!!e,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(t),s||(t<o?s="prev":t>o&&(s="next")),e){this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var y=void 0,v=void 0;r>2?(y=t-1,v=t+1,(0===t&&o===r-1||t===r-1&&0===o)&&(v=0,y=r-1)):(y=0,v=1),"prev"===s?this.getSlideItem(v).addClass("lg-next-slide"):this.getSlideItem(y).addClass("lg-prev-slide"),l.addClass("lg-current");}else this.makeSlideAnimation(s,l,a);this.lGalleryOn?setTimeout((function(){n.loadContent(t,!0),".lg-item"!==n.settings.appendSubHtmlTo&&n.addHtml(t);}),this.settings.speed+50+(e?0:this.settings.slideDelay)):this.loadContent(t,!0),setTimeout((function(){n.lgBusy=!1,a.removeClass("lg-slide-progress"),n.LGel.trigger(h,{prevIndex:o,index:t,fromTouch:e,fromThumb:i});}),(this.lGalleryOn?this.settings.speed+100:100)+(e?0:this.settings.slideDelay));}this.index=t;}},w.prototype.updateCurrentCounter=function(t){this.getElementById("lg-counter-current").html(t+1+"");},w.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"");},w.prototype.getSlideType=function(t){return t.__slideVideoInfo?"video":t.iframe?"iframe":"image";},w.prototype.touchMove=function(t,e,i){var s=e.pageX-t.pageX,n=e.pageY-t.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(s)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(n)>15&&(this.swipeDirection="vertical",o=!0),o){var r=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==i||i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(r,s,0);var l=r.get().offsetWidth,a=15*l/100-Math.abs(10*s/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-l+s-a,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),l+s+a,0);}else{if("vertical"===this.swipeDirection&&this.settings.swipeToClose){null==i||i.preventDefault(),this.$container.addClass("lg-dragging-vertical");var d=1-Math.abs(n)/window.innerHeight;this.$backdrop.css("opacity",d);var g=1-Math.abs(n)/(2*window.innerWidth);this.setTranslate(r,0,n,g,g),Math.abs(n)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open");}}}},w.prototype.touchEnd=function(t,e,i){var s,n=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout((function(){n.$container.removeClass("lg-dragging-vertical"),n.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var o=!0;if("horizontal"===n.swipeDirection){s=t.pageX-e.pageX;var r=Math.abs(t.pageX-e.pageX);s<0&&r>n.settings.swipeThreshold?(n.goToNextSlide(!0),o=!1):s>0&&r>n.settings.swipeThreshold&&(n.goToPrevSlide(!0),o=!1);}else{if("vertical"===n.swipeDirection){if(s=Math.abs(t.pageY-e.pageY),n.settings.closable&&n.settings.swipeToClose&&s>100)return void n.closeGallery();n.$backdrop.css("opacity",1);}}if(n.outer.find(".lg-item").removeAttr("style"),o&&Math.abs(t.pageX-e.pageX)<5){var l=x(i.target);n.isPosterElement(l)&&n.LGel.trigger(c);}n.swipeDirection=void 0;})),setTimeout((function(){n.outer.hasClass("lg-dragging")||"lg-slide"===n.settings.mode||n.outer.removeClass("lg-slide");}),this.settings.speed+100);},w.prototype.enableSwipe=function(){var t=this,e={},i={},s=!1,n=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",(function(i){t.dragOrSwipeEnabled=!0;var s=t.getSlideItem(t.index);!x(i.target).hasClass("lg-item")&&!s.get().contains(i.target)||t.outer.hasClass("lg-zoomed")||t.lgBusy||1!==i.touches.length||(n=!0,t.touchAction="swipe",t.manageSwipeClass(),e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY});})),this.$inner.on("touchmove.lg",(function(o){n&&"swipe"===t.touchAction&&1===o.touches.length&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},t.touchMove(e,i,o),s=!0);})),this.$inner.on("touchend.lg",(function(o){if("swipe"===t.touchAction){if(s)s=!1,t.touchEnd(i,e,o);else{if(n){var r=x(o.target);t.isPosterElement(r)&&t.LGel.trigger(c);}}t.touchAction=void 0,n=!1;}})));},w.prototype.enableDrag=function(){var t=this,e={},i={},s=!1,n=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",(function(i){t.dragOrSwipeEnabled=!0;var n=t.getSlideItem(t.index);(x(i.target).hasClass("lg-item")||n.get().contains(i.target))&&(t.outer.hasClass("lg-zoomed")||t.lgBusy||(i.preventDefault(),t.lgBusy||(t.manageSwipeClass(),e={pageX:i.pageX,pageY:i.pageY},s=!0,t.outer.get().scrollLeft+=1,t.outer.get().scrollLeft-=1,t.outer.removeClass("lg-grab").addClass("lg-grabbing"),t.LGel.trigger(u))));})),x(window).on("mousemove.lg.global"+this.lgId,(function(o){s&&t.lgOpened&&(n=!0,i={pageX:o.pageX,pageY:o.pageY},t.touchMove(e,i),t.LGel.trigger(m));})),x(window).on("mouseup.lg.global"+this.lgId,(function(o){if(t.lgOpened){var r=x(o.target);n?(n=!1,t.touchEnd(i,e,o),t.LGel.trigger(p)):t.isPosterElement(r)&&t.LGel.trigger(c),s&&(s=!1,t.outer.removeClass("lg-grabbing").addClass("lg-grab"));}})));},w.prototype.triggerPosterClick=function(){var t=this;this.$inner.on("click.lg",(function(e){!t.dragOrSwipeEnabled&&t.isPosterElement(x(e.target))&&t.LGel.trigger(c);}));},w.prototype.manageSwipeClass=function(){var t=this.index+1,e=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(0===this.index?e=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(t=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),e>-1&&this.getSlideItem(e).addClass("lg-prev-slide"),this.getSlideItem(t).addClass("lg-next-slide");},w.prototype.goToNextSlide=function(t){var e=this,i=this.settings.loop;t&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(f,{index:this.index}),this.slide(this.index,!!t,!1,"next")):i?(this.index=0,this.LGel.trigger(f,{index:this.index}),this.slide(this.index,!!t,!1,"next")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-right-end"),setTimeout((function(){e.outer.removeClass("lg-right-end");}),400)));},w.prototype.goToPrevSlide=function(t){var e=this,i=this.settings.loop;t&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(y,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(y,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-left-end"),setTimeout((function(){e.outer.removeClass("lg-left-end");}),400)));},w.prototype.keyPress=function(){var t=this;x(window).on("keydown.lg.global"+this.lgId,(function(e){t.lgOpened&&!0===t.settings.escKey&&27===e.keyCode&&(e.preventDefault(),t.settings.allowMediaOverlap&&t.outer.hasClass("lg-can-toggle")&&t.outer.hasClass("lg-components-open")?t.outer.removeClass("lg-components-open"):t.closeGallery()),t.lgOpened&&t.galleryItems.length>1&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()));}));},w.prototype.arrow=function(){var t=this;this.getElementById("lg-prev").on("click.lg",(function(){t.goToPrevSlide();})),this.getElementById("lg-next").on("click.lg",(function(){t.goToNextSlide();}));},w.prototype.arrowDisable=function(t){if(!this.settings.loop&&this.settings.hideControlOnEnd){var e=this.getElementById("lg-prev"),i=this.getElementById("lg-next");t+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),0===t?e.attr("disabled","disabled").addClass("disabled"):e.removeAttr("disabled").removeClass("disabled");}},w.prototype.setTranslate=function(t,e,i,s,n){void 0===s&&(s=1),void 0===n&&(n=1),t.css("transform","translate3d("+e+"px, "+i+"px, 0px) scale3d("+s+", "+n+", 1)");},w.prototype.mousewheel=function(){var t=this,e=0;this.outer.on("wheel.lg",(function(i){if(i.deltaY&&!(t.galleryItems.length<2)){i.preventDefault();var s=(new Date()).getTime();s-e<1e3||(e=s,i.deltaY>0?t.goToNextSlide():i.deltaY<0&&t.goToPrevSlide());}}));},w.prototype.isSlideElement=function(t){return t.hasClass("lg-outer")||t.hasClass("lg-item")||t.hasClass("lg-img-wrap");},w.prototype.isPosterElement=function(t){var e=this.getSlideItem(this.index).find(".lg-video-play-button").get();return t.hasClass("lg-video-poster")||t.hasClass("lg-video-play-button")||e&&e.contains(t.get());},w.prototype.toggleMaximize=function(){var t=this;this.getElementById("lg-maximize").on("click.lg",(function(){t.$container.toggleClass("lg-inline"),t.refreshOnResize();}));},w.prototype.invalidateItems=function(){for(var t=0;t<this.items.length;t++){var e=x(this.items[t]);e.off("click.lgcustom-item-"+e.attr("data-lg-id"));}},w.prototype.trapFocus=function(){var t=this;this.$container.get().focus({preventScroll:!0}),x(window).on("keydown.lg.global"+this.lgId,(function(e){if(t.lgOpened&&("Tab"===e.key||9===e.keyCode)){var i=G(t.$container.get()),s=i[0],n=i[i.length-1];e.shiftKey?document.activeElement===s&&(n.focus(),e.preventDefault()):document.activeElement===n&&(s.focus(),e.preventDefault());}}));},w.prototype.manageCloseGallery=function(){var t=this;if(this.settings.closable){var e=!1;this.getElementById("lg-close").on("click.lg",(function(){t.closeGallery();})),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",(function(i){var s=x(i.target);e=!!t.isSlideElement(s);})),this.outer.on("mousemove.lg",(function(){e=!1;})),this.outer.on("mouseup.lg",(function(i){var s=x(i.target);t.isSlideElement(s)&&e&&(t.outer.hasClass("lg-dragging")||t.closeGallery());})));}},w.prototype.closeGallery=function(t){var e=this;if(!this.lgOpened||!this.settings.closable&&!t)return 0;this.LGel.trigger(v),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&x(window).scrollTop(this.prevScrollTop);var i,s=this.items[this.index];if(this.zoomFromOrigin&&s){var n=this.mediaContainerPosition,o=n.top,r=n.bottom,l=this.galleryItems[this.index],a=l.__slideVideoInfo,d=l.poster,g=T(s,this.outer,o+r,a&&d&&this.settings.videoMaxSize);i=E(s,this.outer,o,r,g);}this.zoomFromOrigin&&i?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",i)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,x("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var h=this.zoomFromOrigin&&i?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout((function(){e.zoomFromOrigin&&i&&e.outer.removeClass("lg-zoom-from-image"),e.$container.removeClass("lg-show"),e.resetScrollBar(),e.$backdrop.removeAttr("style").css("transition-duration",e.settings.backdropDuration+"ms"),e.outer.removeClass("lg-closing "+e.settings.startClass),e.getSlideItem(e.index).removeClass("lg-start-end-progress"),e.$inner.empty(),e.lgOpened&&e.LGel.trigger(b,{instance:e}),e.$container.get()&&e.$container.get().blur(),e.lgOpened=!1;}),h+100),h+100;},w.prototype.initModules=function(){this.plugins.forEach((function(t){try{t.init();}catch(t){console.warn("lightGallery:- make sure lightGallery module is properly initiated");}}));},w.prototype.destroyModules=function(t){this.plugins.forEach((function(e){try{t?e.destroy():e.closeGallery&&e.closeGallery();}catch(t){console.warn("lightGallery:- make sure lightGallery module is properly destroyed");}}));},w.prototype.refresh=function(t){this.settings.dynamic||this.invalidateItems(),this.galleryItems=t||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(o);},w.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName();},w.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),x(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove();},w.prototype.destroy=function(){var t=this.closeGallery(!0);return t?setTimeout(this.destroyGallery.bind(this),t):this.destroyGallery(),t;},w;}();return function(t,e){return new F(t,e);};}));;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lgRotate=e();}(this,(function(){"use strict";var t=function(){return (t=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t;}).apply(this,arguments);},e="lgSlideItemLoad",i="lgBeforeSlide",o="lgRotateLeft",r="lgRotateRight",s="lgFlipHorizontal",a="lgFlipVertical",l={rotate:!0,rotateSpeed:400,rotateLeft:!0,rotateRight:!0,flipHorizontal:!0,flipVertical:!0,rotatePluginStrings:{flipVertical:"Flip vertical",flipHorizontal:"Flip horizontal",rotateLeft:"Rotate left",rotateRight:"Rotate right"}};return function(){function n(e,i){return this.core=e,this.$LG=i,this.settings=t(t({},l),this.core.settings),this;}return n.prototype.buildTemplates=function(){var t="";this.settings.flipVertical&&(t+='<button type="button" id="lg-flip-ver" aria-label="'+this.settings.rotatePluginStrings.flipVertical+'" class="lg-flip-ver lg-icon"></button>'),this.settings.flipHorizontal&&(t+='<button type="button" id="lg-flip-hor" aria-label="'+this.settings.rotatePluginStrings.flipHorizontal+'" class="lg-flip-hor lg-icon"></button>'),this.settings.rotateLeft&&(t+='<button type="button" id="lg-rotate-left" aria-label="'+this.settings.rotatePluginStrings.rotateLeft+'" class="lg-rotate-left lg-icon"></button>'),this.settings.rotateRight&&(t+='<button type="button" id="lg-rotate-right" aria-label="'+this.settings.rotatePluginStrings.rotateRight+'" class="lg-rotate-right lg-icon"></button>'),this.core.$toolbar.append(t);},n.prototype.init=function(){var t=this;this.settings.rotate&&(this.buildTemplates(),this.rotateValuesList={},this.core.LGel.on(e+".rotate",(function(e){var i=e.detail.index;t.core.getSlideItem(i).find(".lg-img-rotate").get()||(t.core.getSlideItem(i).find(".lg-object").first().wrap("lg-img-rotate"),t.core.getSlideItem(t.core.index).find(".lg-img-rotate").css("transition-duration",t.settings.rotateSpeed+"ms"));})),this.core.outer.find("#lg-rotate-left").first().on("click.lg",this.rotateLeft.bind(this)),this.core.outer.find("#lg-rotate-right").first().on("click.lg",this.rotateRight.bind(this)),this.core.outer.find("#lg-flip-hor").first().on("click.lg",this.flipHorizontal.bind(this)),this.core.outer.find("#lg-flip-ver").first().on("click.lg",this.flipVertical.bind(this)),this.core.LGel.on(i+".rotate",(function(e){t.rotateValuesList[e.detail.index]||(t.rotateValuesList[e.detail.index]={rotate:0,flipHorizontal:1,flipVertical:1});})));},n.prototype.applyStyles=function(){this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().css("transform","rotate("+this.rotateValuesList[this.core.index].rotate+"deg) scale3d("+this.rotateValuesList[this.core.index].flipHorizontal+", "+this.rotateValuesList[this.core.index].flipVertical+", 1)");},n.prototype.rotateLeft=function(){this.rotateValuesList[this.core.index].rotate-=90,this.applyStyles(),this.triggerEvents(o,{rotate:this.rotateValuesList[this.core.index].rotate});},n.prototype.rotateRight=function(){this.rotateValuesList[this.core.index].rotate+=90,this.applyStyles(),this.triggerEvents(r,{rotate:this.rotateValuesList[this.core.index].rotate});},n.prototype.getCurrentRotation=function(t){if(!t)return 0;var e=this.$LG(t).style(),i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform")||"none";if("none"!==i){var o=i.split("(")[1].split(")")[0].split(",");if(o){var r=Math.round(Math.atan2(o[1],o[0])*(180/Math.PI));return r<0?r+360:r;}}return 0;},n.prototype.flipHorizontal=function(){var t=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),e=this.getCurrentRotation(t),i="flipHorizontal";90!==e&&270!==e||(i="flipVertical"),this.rotateValuesList[this.core.index][i]*=-1,this.applyStyles(),this.triggerEvents(s,{flipHorizontal:this.rotateValuesList[this.core.index][i]});},n.prototype.flipVertical=function(){var t=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),e=this.getCurrentRotation(t),i="flipVertical";90!==e&&270!==e||(i="flipHorizontal"),this.rotateValuesList[this.core.index][i]*=-1,this.applyStyles(),this.triggerEvents(a,{flipVertical:this.rotateValuesList[this.core.index][i]});},n.prototype.triggerEvents=function(t,e){var i=this;setTimeout((function(){i.core.LGel.trigger(t,e);}),this.settings.rotateSpeed+10);},n.prototype.isImageOrientationChanged=function(){var t=this.rotateValuesList[this.core.index],e=Math.abs(t.rotate)%360!=0,i=t.flipHorizontal<0,o=t.flipVertical<0;return e||i||o;},n.prototype.closeGallery=function(){this.isImageOrientationChanged()&&this.core.getSlideItem(this.core.index).css("opacity",0),this.rotateValuesList={};},n.prototype.destroy=function(){this.core.LGel.off(".lg.rotate"),this.core.LGel.off(".rotate");},n;}();}));;
!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e="undefined"!=typeof globalThis?globalThis:e||self).lgVideo=o();}(this,(function(){"use strict";var e=function(){return (e=Object.assign||function(e){for(var o,i=1,t=arguments.length;i<t;i++)for(var s in o=arguments[i])Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);return e;}).apply(this,arguments);},o={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},i="lgHasVideo",t="lgSlideItemLoad",s="lgBeforeSlide",n="lgAfterSlide",l="lgPosterClick",r=function(e){return Object.keys(e).map((function(o){return encodeURIComponent(o)+"="+encodeURIComponent(e[o]);})).join("&");},d=function(o,i){if(!o.youtube)return "";var t=o.youtube[2]?o.youtube[2].slice(1).split("&").map((function(e){return e.split("=");})).reduce((function(e,o){var i=o.map(decodeURIComponent),t=i[0],s=i[1];return e[t]=s,e;}),{}):"",s=i||{},n=e(e(e({},{wmode:"opaque",autoplay:0,mute:1,enablejsapi:1}),s),t);return "?"+r(n);};return function(){function a(i){return this.core=i,this.settings=e(e({},o),this.core.settings),this;}return a.prototype.init=function(){var e=this;this.core.LGel.on(i+".video",this.onHasVideo.bind(this)),this.core.LGel.on(l+".video",(function(){var o=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(o);})),this.core.LGel.on(t+".video",this.onSlideItemLoad.bind(this)),this.core.LGel.on(s+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(n+".video",this.onAfterSlide.bind(this));},a.prototype.onSlideItemLoad=function(e){var o=this,i=e.detail,t=i.isFirstSlide,s=i.index;this.settings.autoplayFirstVideo&&t&&s===this.core.index&&setTimeout((function(){o.loadAndPlayVideo(s);}),200),!t&&this.settings.autoplayVideoOnSlide&&s===this.core.index&&this.loadAndPlayVideo(s);},a.prototype.onHasVideo=function(e){var o=e.detail,i=o.index,t=o.src,s=o.html5Video;o.hasPoster||(this.appendVideos(this.core.getSlideItem(i),{src:t,addClass:"lg-object",index:i,html5Video:s}),this.gotoNextSlideOnVideoEnd(t,i));},a.prototype.onBeforeSlide=function(e){if(this.core.lGalleryOn){var o=e.detail.prevIndex;this.pauseVideo(o);}},a.prototype.onAfterSlide=function(e){var o=this,i=e.detail,t=i.index,s=i.prevIndex,n=this.core.getSlideItem(t);this.settings.autoplayVideoOnSlide&&t!==s&&n.hasClass("lg-complete")&&setTimeout((function(){o.loadAndPlayVideo(t);}),100);},a.prototype.loadAndPlayVideo=function(e){var o=this.core.getSlideItem(e);this.core.galleryItems[e].poster?this.loadVideoOnPosterClick(o,!0):this.playVideo(e);},a.prototype.playVideo=function(e){this.controlVideo(e,"play");},a.prototype.pauseVideo=function(e){this.controlVideo(e,"pause");},a.prototype.getVideoHtml=function(e,o,i,t){var s="",n=this.core.galleryItems[i].__slideVideoInfo||{},l=this.core.galleryItems[i],a=l.title||l.alt;a=a?'title="'+a+'"':"";var c='allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';if(n.youtube){var u="lg-youtube"+i,f=d(n,this.settings.youTubePlayerParams);s='<iframe allow="autoplay" id='+u+' class="lg-video-object lg-youtube '+o+'" '+a+' src="'+(e.includes("youtube-nocookie.com")?"//www.youtube-nocookie.com/":"//www.youtube.com/")+"embed/"+(n.youtube[1]+f)+'" '+c+"></iframe>";}else if(n.vimeo){u="lg-vimeo"+i;var h=function(e,o){if(!o||!o.vimeo)return "";var i=o.vimeo[2]||"",t=e&&0!==Object.keys(e).length?"&"+r(e):"",s=((o.vimeo[0].split("/").pop()||"").split("?")[0]||"").split("#")[0],n=o.vimeo[1]!==s;return n&&(i=i.replace("/"+s,"")),"?autoplay=0&muted=1"+(n?"&h="+s:"")+t+("?"==i[0]?"&"+i.slice(1):i||"");}(this.settings.vimeoPlayerParams,n);s='<iframe allow="autoplay" id='+u+' class="lg-video-object lg-vimeo '+o+'" '+a+' src="//player.vimeo.com/video/'+(n.vimeo[1]+h)+'" '+c+"></iframe>";}else if(n.wistia){var p="lg-wistia"+i;h=(h=r(this.settings.wistiaPlayerParams))?"?"+h:"",s='<iframe allow="autoplay" id="'+p+'" src="//fast.wistia.net/embed/iframe/'+(n.wistia[4]+h)+'" '+a+' class="wistia_embed lg-video-object lg-wistia '+o+'" name="wistia_embed" '+c+"></iframe>";}else{if(n.html5){for(var y="",g=0;g<t.source.length;g++)y+='<source src="'+t.source[g].src+'" type="'+t.source[g].type+'">';if(t.tracks){var v=function(e){var o="",i=t.tracks[e];Object.keys(i||{}).forEach((function(e){o+=e+'="'+i[e]+'" ';})),y+="<track "+o+">";};for(g=0;g<t.tracks.length;g++)v(g);}var m="",w=t.attributes||{};Object.keys(w||{}).forEach((function(e){m+=e+'="'+w[e]+'" ';})),s='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+m+">\n                "+y+"\n                Your browser does not support HTML5 video.\n            </video>";}}return s;},a.prototype.appendVideos=function(e,o){var i,t=this.getVideoHtml(o.src,o.addClass,o.index,o.html5Video);e.find(".lg-video-cont").append(t);var s=e.find(".lg-video-object").first();if(o.html5Video&&s.on("mousedown.lg.video",(function(e){e.stopPropagation();})),this.settings.videojs&&(null===(i=this.core.galleryItems[o.index].__slideVideoInfo)||void 0===i?void 0:i.html5))try{return videojs(s.get(),this.settings.videojsOptions);}catch(e){console.error("lightGallery:- Make sure you have included videojs");}},a.prototype.gotoNextSlideOnVideoEnd=function(e,o){var i=this,t=this.core.getSlideItem(o).find(".lg-video-object").first(),s=this.core.galleryItems[o].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(s.html5)t.on("ended",(function(){i.core.goToNextSlide();}));else if(s.vimeo)try{new Vimeo.Player(t.get()).on("ended",(function(){i.core.goToNextSlide();}));}catch(e){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js");}else{if(s.wistia)try{window._wq=window._wq||[],window._wq.push({id:t.attr("id"),onReady:function(e){e.bind("end",(function(){i.core.goToNextSlide();}));}});}catch(e){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js");}}},a.prototype.controlVideo=function(e,o){var i=this.core.getSlideItem(e).find(".lg-video-object").first(),t=this.core.galleryItems[e].__slideVideoInfo||{};if(i.get())if(t.youtube)try{i.get().contentWindow.postMessage('{"event":"command","func":"'+o+'Video","args":""}',"*");}catch(e){console.error("lightGallery:- "+e);}else if(t.vimeo)try{new Vimeo.Player(i.get())[o]();}catch(e){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js");}else if(t.html5)if(this.settings.videojs)try{videojs(i.get())[o]();}catch(e){console.error("lightGallery:- Make sure you have included videojs");}else i.get()[o]();else{if(t.wistia)try{window._wq=window._wq||[],window._wq.push({id:i.attr("id"),onReady:function(e){e[o]();}});}catch(e){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js");}}},a.prototype.loadVideoOnPosterClick=function(e,o){var i=this;if(e.hasClass("lg-video-loaded"))o&&this.playVideo(this.core.index);else if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var t=void 0,s=this.core.galleryItems[this.core.index].src,n=this.core.galleryItems[this.core.index].video;n&&(t="string"==typeof n?JSON.parse(n):n);var l=this.appendVideos(e,{src:s,addClass:"",index:this.core.index,html5Video:t});this.gotoNextSlideOnVideoEnd(s,this.core.index);var r=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(r),e.addClass("lg-video-loading"),l&&l.ready((function(){l.on("loadedmetadata",(function(){i.onVideoLoadAfterPosterClick(e,i.core.index);}));})),e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",(function(){setTimeout((function(){i.onVideoLoadAfterPosterClick(e,i.core.index);}),50);}));}},a.prototype.onVideoLoadAfterPosterClick=function(e,o){e.addClass("lg-video-loaded"),this.playVideo(o);},a.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video");},a;}();}));;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lgHash=e();}(this,(function(){"use strict";var t=function(){return (t=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t;}).apply(this,arguments);},e="lgAfterSlide",i="lgAfterClose",o={hash:!0,galleryId:"1",customSlideName:!1};return function(){function s(e,i){return this.core=e,this.$LG=i,this.settings=t(t({},o),this.core.settings),this;}return s.prototype.init=function(){var t=this;this.settings.hash&&(this.oldHash=window.location.hash,setTimeout((function(){t.buildFromHash();}),100),this.core.LGel.on(e+".hash",this.onAfterSlide.bind(this)),this.core.LGel.on(i+".hash",this.onCloseAfter.bind(this)),this.$LG(window).on("hashchange.lg.hash.global"+this.core.lgId,this.onHashchange.bind(this)));},s.prototype.onAfterSlide=function(t){var e=this.core.galleryItems[t.detail.index].slideName;e=this.settings.customSlideName&&e||t.detail.index,history.replaceState?history.replaceState(null,"",window.location.pathname+window.location.search+"#lg="+this.settings.galleryId+"&slide="+e):window.location.hash="lg="+this.settings.galleryId+"&slide="+e;},s.prototype.getIndexFromUrl=function(t){void 0===t&&(t=window.location.hash);var e=t.split("&slide=")[1],i=0;if(this.settings.customSlideName){for(var o=0;o<this.core.galleryItems.length;o++)if(this.core.galleryItems[o].slideName===e){i=o;break;}}else i=parseInt(e,10);return isNaN(i)?0:i;},s.prototype.buildFromHash=function(){var t=window.location.hash;if(t.indexOf("lg="+this.settings.galleryId)>0){this.$LG(document.body).addClass("lg-from-hash");var e=this.getIndexFromUrl(t);return this.core.openGallery(e),!0;}},s.prototype.onCloseAfter=function(){this.oldHash&&this.oldHash.indexOf("lg="+this.settings.galleryId)<0?history.replaceState?history.replaceState(null,"",this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash="";},s.prototype.onHashchange=function(){if(this.core.lgOpened){var t=window.location.hash,e=this.getIndexFromUrl(t);t.indexOf("lg="+this.settings.galleryId)>-1?this.core.slide(e,!1,!1):this.core.lGalleryOn&&this.core.closeGallery();}},s.prototype.closeGallery=function(){this.settings.hash&&this.$LG(document.body).removeClass("lg-from-hash");},s.prototype.destroy=function(){this.core.LGel.off(".lg.hash"),this.core.LGel.off(".hash"),this.$LG(window).off("hashchange.lg.hash.global"+this.core.lgId);},s;}();}));;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lgThumbnail=e();}(this,(function(){"use strict";var t=function(){return (t=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var h in e=arguments[i])Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h]);return t;}).apply(this,arguments);},e={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},i="lgContainerResize",s="lgUpdateSlides",h="lgBeforeOpen",n="lgBeforeSlide";return function(){function o(t,e){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=t,this.$LG=e,this;}return o.prototype.init=function(){this.settings=t(t({},e),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress());},o.prototype.build=function(){var t=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",(function(e){var i=t.$LG(e.target);i.hasAttribute("data-lg-item-id")&&setTimeout((function(){if(t.thumbClickable&&!t.core.lgBusy){var e=parseInt(i.attr("data-lg-item-id"));t.core.slide(e,!1,!0,!1);}}),50);})),this.core.LGel.on(n+".thumb",(function(e){var i=e.detail.index;t.animateThumb(i);})),this.core.LGel.on(h+".thumb",(function(){t.thumbOuterWidth=t.core.outer.get().offsetWidth;})),this.core.LGel.on(s+".thumb",(function(){t.rebuildThumbnails();})),this.core.LGel.on(i+".thumb",(function(){t.core.lgOpened&&setTimeout((function(){t.thumbOuterWidth=t.core.outer.get().offsetWidth,t.animateThumb(t.core.index),t.thumbOuterWidth=t.core.outer.get().offsetWidth;}),50);}));},o.prototype.setThumbMarkup=function(){var t="lg-thumb-outer ";this.settings.alignThumbnails&&(t+="lg-thumb-align-"+this.settings.alignThumbnails);var e='<div class="'+t+'">\n        <div class="lg-thumb lg-group">\n        </div>\n        </div>';this.core.outer.addClass("lg-has-thumb"),".lg-components"===this.settings.appendThumbnailsTo?this.core.$lgComponents.append(e):this.core.outer.append(e),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems);},o.prototype.enableThumbDrag=function(){var t=this,e={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date(),endTime:new Date(),touchMoveTime:0},i=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",(function(s){t.thumbTotalWidth>t.thumbOuterWidth&&(s.preventDefault(),e.cords.startX=s.pageX,e.startTime=new Date(),t.thumbClickable=!1,i=!0,t.core.outer.get().scrollLeft+=1,t.core.outer.get().scrollLeft-=1,t.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"));})),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,(function(s){t.core.lgOpened&&i&&(e.cords.endX=s.pageX,e=t.onThumbTouchMove(e));})),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,(function(){t.core.lgOpened&&(e.isMoved?e=t.onThumbTouchEnd(e):t.thumbClickable=!0,i&&(i=!1,t.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")));}));},o.prototype.enableThumbSwipe=function(){var t=this,e={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date(),endTime:new Date(),touchMoveTime:0};this.$lgThumb.on("touchstart.lg",(function(i){t.thumbTotalWidth>t.thumbOuterWidth&&(i.preventDefault(),e.cords.startX=i.targetTouches[0].pageX,t.thumbClickable=!1,e.startTime=new Date());})),this.$lgThumb.on("touchmove.lg",(function(i){t.thumbTotalWidth>t.thumbOuterWidth&&(i.preventDefault(),e.cords.endX=i.targetTouches[0].pageX,e=t.onThumbTouchMove(e));})),this.$lgThumb.on("touchend.lg",(function(){e.isMoved?e=t.onThumbTouchEnd(e):t.thumbClickable=!0;}));},o.prototype.rebuildThumbnails=function(){var t=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout((function(){t.thumbTotalWidth=t.core.galleryItems.length*(t.settings.thumbWidth+t.settings.thumbMargin),t.$lgThumb.css("width",t.thumbTotalWidth+"px"),t.$lgThumb.empty(),t.setThumbItemHtml(t.core.galleryItems),t.animateThumb(t.core.index);}),50),setTimeout((function(){t.$thumbOuter.removeClass("lg-rebuilding-thumbnails");}),200);},o.prototype.setTranslate=function(t){this.$lgThumb.css("transform","translate3d(-"+t+"px, 0px, 0px)");},o.prototype.getPossibleTransformX=function(t){return t>this.thumbTotalWidth-this.thumbOuterWidth&&(t=this.thumbTotalWidth-this.thumbOuterWidth),t<0&&(t=0),t;},o.prototype.animateThumb=function(t){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var e=0;switch(this.settings.currentPagerPosition){case "left":e=0;break;case "middle":e=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case "right":e=this.thumbOuterWidth-this.settings.thumbWidth;}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*t-1-e,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX);}},o.prototype.onThumbTouchMove=function(t){return t.newTranslateX=this.translateX,t.isMoved=!0,t.touchMoveTime=(new Date()).valueOf(),t.newTranslateX-=t.cords.endX-t.cords.startX,t.newTranslateX=this.getPossibleTransformX(t.newTranslateX),this.setTranslate(t.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),t;},o.prototype.onThumbTouchEnd=function(t){t.isMoved=!1,t.endTime=new Date(),this.$thumbOuter.removeClass("lg-dragging");var e=t.endTime.valueOf()-t.startTime.valueOf(),i=t.cords.endX-t.cords.startX,s=Math.abs(i)/e;return s>.15&&t.endTime.valueOf()-t.touchMoveTime<30?((s+=1)>2&&(s+=1),s+=s*(Math.abs(i)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(s-1,2)+"settings"),i*=s,this.translateX=this.getPossibleTransformX(this.translateX-i),this.setTranslate(this.translateX)):this.translateX=t.newTranslateX,Math.abs(t.cords.endX-t.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),t;},o.prototype.getThumbHtml=function(t,e){var i,s=this.core.galleryItems[e].__slideVideoInfo||{};return i=s.youtube&&this.settings.loadYouTubeThumbnail?"//img.youtube.com/vi/"+s.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":t,'<div data-lg-item-id="'+e+'" class="lg-thumb-item '+(e===this.core.index?" active":"")+'" \n        style="width:'+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+";\n            margin-right: "+this.settings.thumbMargin+'px;">\n            <img data-lg-item-id="'+e+'" src="'+i+'" />\n        </div>';},o.prototype.getThumbItemHtml=function(t){for(var e="",i=0;i<t.length;i++)e+=this.getThumbHtml(t[i].thumb,i);return e;},o.prototype.setThumbItemHtml=function(t){var e=this.getThumbItemHtml(t);this.$lgThumb.html(e);},o.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb");},o.prototype.manageActiveClassOnSlideChange=function(){var t=this;this.core.LGel.on(n+".thumb",(function(e){var i=t.core.outer.find(".lg-thumb-item"),s=e.detail.index;i.removeClass("active"),i.eq(s).addClass("active");}));},o.prototype.toggleThumbBar=function(){var t=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",(function(){t.core.outer.toggleClass("lg-components-open");})));},o.prototype.thumbKeyPress=function(){var t=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,(function(e){t.core.lgOpened&&t.settings.toggleThumb&&(38===e.keyCode?(e.preventDefault(),t.core.outer.addClass("lg-components-open")):40===e.keyCode&&(e.preventDefault(),t.core.outer.removeClass("lg-components-open")));}));},o.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"));},o;}();}));;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lgComment=e();}(this,(function(){"use strict";var t=function(){return (t=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t;}).apply(this,arguments);},e="lgBeforeSlide",o="lgAfterSlide",n={commentBox:!1,fbComments:!1,disqusComments:!1,disqusConfig:{title:void 0,language:"en"},commentsMarkup:'<div id="lg-comment-box" class="lg-comment-box lg-fb-comment-box"><div class="lg-comment-header"><h3 class="lg-comment-title">Leave a comment.</h3><span class="lg-comment-close lg-icon"></span></div><div class="lg-comment-body"></div></div>',commentPluginStrings:{toggleComments:"Toggle Comments"}};return function(){function i(e,o){return this.core=e,this.$LG=o,this.settings=t(t({},n),this.core.settings),this;}return i.prototype.init=function(){this.settings.commentBox&&(this.setMarkup(),this.toggleCommentBox(),this.settings.fbComments?this.addFbComments():this.settings.disqusComments&&this.addDisqusComments());},i.prototype.setMarkup=function(){this.core.outer.append(this.settings.commentsMarkup+'<div class="lg-comment-overlay"></div>');var t='<button type="button" aria-label="'+this.settings.commentPluginStrings.toggleComments+'" class="lg-comment-toggle lg-icon"></button>';this.core.$toolbar.append(t);},i.prototype.toggleCommentBox=function(){var t=this;this.core.outer.find(".lg-comment-toggle").first().on("click.lg.comment",(function(){t.core.outer.toggleClass("lg-comment-active");})),this.core.outer.find(".lg-comment-overlay").first().on("click.lg.comment",(function(){t.core.outer.removeClass("lg-comment-active");})),this.core.outer.find(".lg-comment-close").first().on("click.lg.comment",(function(){t.core.outer.removeClass("lg-comment-active");}));},i.prototype.addFbComments=function(){var t=this,n=this;this.core.LGel.on(e+".comment",(function(e){var o=t.core.galleryItems[e.detail.index].fbHtml;t.core.outer.find(".lg-comment-body").html(o);})),this.core.LGel.on(o+".comment",(function(){try{FB.XFBML.parse();}catch(t){n.$LG(window).on("fbAsyncInit",(function(){FB.XFBML.parse();}));}}));},i.prototype.addDisqusComments=function(){var t=this,n=this.$LG("#disqus_thread");n.remove(),this.core.outer.find(".lg-comment-body").append('<div id="disqus_thread"></div>'),this.core.LGel.on(e+".comment",(function(){n.html("");})),this.core.LGel.on(o+".comment",(function(e){var o=e.detail.index,n=t;setTimeout((function(){try{DISQUS.reset({reload:!0,config:function(){this.page.identifier=n.core.galleryItems[o].disqusIdentifier,this.page.url=n.core.galleryItems[o].disqusURL,this.page.title=n.settings.disqusConfig.title,this.language=n.settings.disqusConfig.language;}});}catch(t){console.error("Make sure you have included disqus JavaScript code in your document. Ex - https://lg-disqus.disqus.com/admin/install/platforms/universalcode/");}}),n.core.lGalleryOn?0:1e3);}));},i.prototype.destroy=function(){this.core.LGel.off(".lg.comment"),this.core.LGel.off(".comment");},i;}();}));;
class Slider{sliderOptions={loop:true,spaceBetween:4,lazyPreloadPrevNext:1,grabCursor:true,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}};thumbnailsOptions={spaceBetween:4,breakpoints:{268:{slidesPerView:3},568:{slidesPerView:4},768:{direction:"horizontal"}},grab:false,allowTouchMove:false};lightgallery="833B85C2-10294FE1-A3CD0C29-DF8BE7E5";constructor(options){this.container=options.container;this.getSliderListing();if(this.slider===null||this.slider.classList.contains('init'))return;this.slider.classList.add('init');this.getSliderListingThumbnails();this.getSliderCounter();this.getSliderPlan();this.getGalleryOpen();this.initVideoSlides();this.initTourSlides();this.changeThumbnailsBreakpoints();if(this.isPageComplex())this.changeSliderBreakpoints();if(this.isListing())this.handlerLink();if(this.isPageObject()||this.isPageComplex())this.initSliderGallery();if(this.isPageObject())this.initPlanGallery();if(this.isPageObject())this.handlerPagePlanGallery();if(this.sliderOpen!==null&&(this.isPageObject()||this.isPageComplex()))this.sliderOpen.addEventListener('click',this.openGallery.bind(this));if(this.isVertical())this.changeThumbnailsOrientation();if(this.thumbnails!==null)this.initSliderListingThumbnails();if(this.slider!==null)this.initSliderListing();if(this.counter!==null)this.changeSliderCount();}getSliderListing(){this.slider=this.container.querySelector('.slider-main')||null;}getSliderListingThumbnails(){this.thumbnails=this.container.querySelector('.slider-thumbnail')||null;}getSliderCounter(){this.counter=this.container.querySelector('.count .current')||null;}getSliderPlan(){this.plan=this.container.querySelector('.planbox')||null;}getGallerySlides(){const slides=[];const images=this.slider.querySelectorAll('img')||[];const videos=this.slider.querySelectorAll('.video.swiper-slide')||[];const tour3d=this.slider.querySelectorAll('.tour3d.swiper-slide')||[];images.forEach((image)=>{const src=image.getAttribute("data-gfo");if(!image.classList.contains('nozoom'))slides.push({src,thumb:src});});videos.forEach((video)=>{const player=video.querySelector(".yt-player");if(!player)return;let id=player.getAttribute("data-id");if(id.indexOf('http://www.youtube.com/embed/')!==-1)id=id.replace('http://www.youtube.com/embed/','');if(id.indexOf('https://www.youtube.com/embed/')!==-1)id=id.replace('https://www.youtube.com/embed/','');slides.splice(1,0,{src:`https://youtu.be/${id}`,thumb:`https://youtu.be/${id}`});});tour3d.forEach((tour)=>{const player=tour.querySelector(".tour3d-player");if(!player)return;let src=player.getAttribute("data-iframe");slides.splice(1,0,{src,thumb:slides[0].src,iframe:true});});return slides;}getGalleryOpen(){this.sliderOpen=this.container.querySelector('.gallery-open')||null;}getPlanSlides(){const slides=[];const images=this.container.querySelectorAll('.planbox img')||[];images.forEach((image)=>{const src=image.getAttribute("data-gfo");slides.push({src,thumb:src});});return slides;}isVertical(){return this.container.classList.contains('slider-vertical');}isPageObject(){return this.container.classList.contains('lslider-vertical');}isPageComplex(){return this.container.classList.contains('slider-full');}isMapComplex(){return this.container.classList.contains('slider-map-complex');}isBroker(){return this.container.parentNode.parentNode.classList.contains('brokerstyle');}isEditor(){return this.container.parentNode.parentNode.classList.contains('editrostyle');}isListing(){return this.container.classList.contains('tmb__slider');}isTile(){return this.container.parentNode.parentNode.classList.contains('tile');}isMobile(){const toMatch=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return toMatch.some((toMatchItem)=>{return navigator.userAgent.match(toMatchItem);});}initVideoSlides(){let video=this.container.querySelectorAll(".video.swiper-slide");video.forEach(async(el)=>{let player=el.querySelector('.yt-player')||null;if(player===null)return;let id=player.getAttribute('data-id');if(id.indexOf('http://www.youtube.com/embed/')!==-1)id=id.replace('http://www.youtube.com/embed/','');if(id.indexOf('https://www.youtube.com/embed/')!==-1)id=id.replace('https://www.youtube.com/embed/','');if(id.split('&').length>1)id=id.split('&')[0];if(player.closest('.slider-main'))player.innerHTML='<img class="nozoom" src="https://img.youtube.com/vi/'+id+'/hqdefault.jpg" width="728" height="455" alt="" />';if(player.closest('.slider-footer'))player.innerHTML='<img class="nozoom" src="https://img.youtube.com/vi/'+id+'/default.jpg" width="120" height="75" alt="" />';});}initTourSlides(){let tour3d=this.container.querySelectorAll(".tour3d.swiper-slide");tour3d.forEach((el)=>{let player=el.querySelector(".tour3d-player");if(!player)return;let src=player.closest('.swiper-wrapper').querySelector('.swiper-slide img');if(player.closest('.slider-main'))player.innerHTML='<img class="nozoom" src="'+src.getAttribute("src")+'" width="728" height="455" alt="" />';if(player.closest('.slider-footer'))player.innerHTML='<img class="nozoom" src="'+src.getAttribute("src")+'" width="120" height="75" alt="" />';});}initSliderListing(){if(this.isMapComplex()){this.sliderOptions.slidesPerView=4;this.sliderOptions.spaceBetween=4;}if(document.body.classList.contains('node-type-property'))if(location.hash.includes('slide=')){let hash=location.hash.split('&');hash=hash.filter((i)=>/slide=/.exec(i));hash=hash[0].split('=');this.sliderOptions.initialSlide=hash[1];}this.sliderOptions.thumbs={swiper:this.thumbnailsInstance};this.sliderInstance=new Swiper(this.slider,this.sliderOptions);}initSliderListingThumbnails(){this.thumbnailsOptions.initialSlide='1';if(this.isListing&&this.isVertical&&!this.isMobile())this.thumbnailsOptions.autoHeight=true;this.thumbnailsInstance=new Swiper(this.thumbnails,this.thumbnailsOptions);}initSliderGallery(){const slides=this.getGallerySlides();let plugins=[];if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent))plugins=[lgVideo,lgRotate,lgHash];else plugins=[lgVideo,lgRotate,lgThumbnail,lgHash];this.galleryInstance=lightGallery(this.slider,{download:false,dynamic:true,dynamicEl:slides,galleryId:'gallery',plugins,mobileSettings:{showCloseIcon:true},mousewheel:true,flipHorizontal:false,flipVertical:false,rotate:true,rotateLeft:true,rotateRight:true,rotateSpeed:350,licenseKey:this.lightgallery});this.handlerSlider();}initPlanGallery(){const slides=this.getPlanSlides();this.galleryPlanInstance=lightGallery(this.container.querySelector('.planbox'),{download:false,dynamic:true,dynamicEl:slides,galleryId:'plan',plugins:[lgHash,lgRotate,lgThumbnail],mobileSettings:{showCloseIcon:true},mousewheel:true,flipHorizontal:false,flipVertical:false,rotate:true,rotateLeft:true,rotateRight:true,rotateSpeed:350,licenseKey:this.lightgallery});this.handlerPlan();}changeSliderCount(){this.sliderInstance.on("slideChange",()=>{this.counter.innerHTML=this.sliderInstance.realIndex+1;});}changeSliderBreakpoints(){this.sliderOptions.rewind=false;this.sliderOptions.loop=true;this.sliderOptions.spaceBetween=4;this.sliderOptions.centeredSlides=true;this.sliderOptions.breakpoints={268:{slidesPerView:1},768:{slidesPerView:2}};}changeThumbnailsOrientation(){if(!this.isBroker()&&!this.isEditor()){const breakpoints268=this.thumbnailsOptions.breakpoints["268"]||{};breakpoints268.direction="horizontal";breakpoints268.slidesPerView=this.plan===null?3:2;this.thumbnailsOptions.breakpoints["268"]=breakpoints268;const breakpoints768=this.thumbnailsOptions.breakpoints["768"]||{};breakpoints768.direction="vertical";breakpoints768.slidesPerView=this.plan===null?4:3;this.thumbnailsOptions.breakpoints["768"]=breakpoints768;}if(this.isTile()){const breakpoints268=this.thumbnailsOptions.breakpoints["268"]||{};breakpoints268.direction="horizontal";breakpoints268.slidesPerView=this.plan===null?3:2;this.thumbnailsOptions.breakpoints["268"]=breakpoints268;const breakpoints568=this.thumbnailsOptions.breakpoints["568"]||{};breakpoints568.direction="horizontal";breakpoints568.slidesPerView=this.plan===null?3:2;this.thumbnailsOptions.breakpoints["568"]=breakpoints568;const breakpoints768=this.thumbnailsOptions.breakpoints["768"]||{};breakpoints768.direction="horizontal";breakpoints768.slidesPerView=this.plan===null?3:2;this.thumbnailsOptions.breakpoints["768"]=breakpoints768;}}changeThumbnailsBreakpoints(){if(this.plan!==null)this.thumbnailsOptions.breakpoints={268:{slidesPerView:2},568:{slidesPerView:3}};if(this.plan===null)this.thumbnailsOptions.breakpoints={268:{slidesPerView:3},568:{slidesPerView:4}};if(this.plan!==null&&this.isPageObject())this.thumbnailsOptions.breakpoints={268:{slidesPerView:2},468:{slidesPerView:4},568:{slidesPerView:4},768:{slidesPerView:5}};if(this.plan===null&&this.isPageObject())this.thumbnailsOptions.breakpoints={268:{slidesPerView:3},468:{slidesPerView:5},568:{slidesPerView:5},768:{slidesPerView:6}};}handlerLink(){if(!this.slider.classList.contains('swiper-initialized')){const wrapper=this.slider.querySelector('.swiper-wrapper');const thumbnails=this.container.querySelector('.tmb__slider__thumb .swiper-wrapper');const thumbnailsPlan=this.container.querySelector('.tmb__slider__thumb .planbox');wrapper.addEventListener('mousedown',this.openLink.bind(this));wrapper.addEventListener('click',this.openLink.bind(this));thumbnails.addEventListener('mouseup',this.openLink.bind(this));thumbnails.addEventListener('click',this.openLink.bind(this));if(thumbnailsPlan)thumbnailsPlan.addEventListener('mouseup',this.openPlanLink.bind(this));if(thumbnailsPlan)thumbnailsPlan.addEventListener('click',this.openPlanLink.bind(this));}}handlerSlider(){const wrapper=this.slider.querySelector('.swiper-wrapper');wrapper.addEventListener('click',this.openGallery.bind(this));}handlerPlan(){const plan=this.container.querySelector('.planbox');if(plan===null)return;plan.addEventListener('click',this.openPlanGallery.bind(this));}handlerPagePlanGallery(){const plan=document.querySelector('.tip .planbox')||null;if(plan===null)return;plan.addEventListener('click',this.openPlanGallery.bind(this));}openPlanLink(e){if(e.which===2||e.type==='click'){let link='';let parent=e.target.closest('.termin-main-box');if(!parent)return;let link_element=parent.querySelector('.tmb__content');if(link_element)link=link_element.dataset.link;if(link==='')return;if(navigator.userAgent.includes('HomehunterApp'))window.location.href=link+'#lg=plan&slide=0';else window.open(link+'#lg=plan&slide=0');}}openLink(e){if(e.which===2||e.type==='click'){const link=this.container.parentNode.parentNode.querySelector('.tmb__content').getAttribute('data-link');if(navigator.userAgent.includes('HomehunterApp'))window.location.href=link;else{let index=this.sliderInstance.realIndex+1;if(this.slider.querySelector('.tmb__slider__video'))index=index+1;if(this.slider.querySelector('.tmb__slider__tour'))index=index+1;window.open(link+'#lg=gallery&slide='+index);}}}openPlanGallery(){this.galleryPlanInstance.openGallery();}openGallery(){const slideIndex=Number(this.sliderInstance.realIndex);this.galleryInstance.openGallery(slideIndex);}}function sliderGallery(){const sliders=document.querySelectorAll('.slider')||[];sliders.forEach((slider)=>new Slider({container:slider}));}function lightSwiper(){sliderGallery();};
let delaytime=1000;jQuery(document).ready(function($){$(document).ajaxComplete(function(e,xhr,settings){if(typeof viewformMasks=='function')viewformMasks();let saveFilter=document.querySelector('select[name="time[select]"]');if(saveFilter){if(!saveFilter.classList.contains('inited')){VirtualSelect.init({ele:'[name="time[select]"]',placeholder:'',optionsSelectedText:'',optionSelectedText:'',allOptionsSelectedText:'',silentInitialValueSet:true,showDropboxAsPopup:false});document.querySelector('[name="time[select]"]').addEventListener('change',function(){if(this.value==='_other_')this.parentNode.nextElementSibling.style.display='block';else this.parentNode.nextElementSibling.style.display='none';});}saveFilter.classList.add('inited');}let brokerNumber=document.querySelector('.header-info #brokermessage .js-form-item input[name="nomer_telefona"]');if(brokerNumber)new IMask(brokerNumber,{mask:"+{7} (000) 000-00-00"});let regNumber=document.querySelector('.page-node-37396 .js-form-item input[name="phonenumber"]');if(regNumber)new IMask(regNumber,{mask:"+{7} (000) 000-00-00"});let accNumber=document.querySelector('.page-node-68860 .js-form-item input[name="phonenumber"]');if(accNumber)new IMask(accNumber,{mask:"+{7} (000) 000-00-00"});});});axios.interceptors.response.use(function(response){if(response.config.url==='/system/collection/check'){let event=new CustomEvent('axiosComplete',{detail:response.data});window.dispatchEvent(event);}return response;},function(error){return Promise.reject(error);});function clusterToggle(){let togglers=document.querySelectorAll(".tmb__content__cluster__toggler");let pageTogglers=document.querySelectorAll('.ntp__clusters__toggler');let timer;togglers.forEach((toggler)=>{if(toggler.classList.contains("init"))return;toggler.addEventListener("click",function(){let parent=this.closest(".termin-main-box");let accordion=parent.querySelector('.copys');if(accordion.style.maxHeight){this.classList.remove('active');accordion.style.borderWidth='0';accordion.style.maxHeight=null;accordion.style.overflow='hidden';clearTimeout(timer);}else{this.classList.add('active');accordion.style.borderWidth='1px';accordion.style.maxHeight=accordion.scrollHeight+'px';clearTimeout(timer);timer=setTimeout(function(){accordion.style.overflow='visible';},350);}});toggler.classList.add("init");});pageTogglers.forEach((toggler)=>{if(toggler.classList.contains("init"))return;toggler.addEventListener("click",function(){let parent=this.closest(".termin-main-box");let accordion=parent.querySelector('.copys');if(accordion.style.maxHeight){this.classList.remove('active');accordion.style.maxHeight=null;accordion.style.overflow='hidden';}else{this.classList.add('active');accordion.style.maxHeight=accordion.scrollHeight+'px';setTimeout(function(){accordion.style.overflow='visible';},350);}});toggler.classList.add("init");});}function viewMapFastLinks(){let body=document.body;if(!body)return;let filterParent=document.querySelector("#filter-main");let mapParent=document.querySelector("#content-wrap");if(!filterParent||!mapParent)return;if(body.classList.contains("view-map")){let paramBtns=filterParent.querySelector(".bottombox");let clearBtn=filterParent.querySelector(".clean");if(!paramBtns||!clearBtn)return;paramBtns.append(clearBtn);mapParent.append(paramBtns);}else{let topLine=filterParent.querySelector(".line-box");let bottomLine=filterParent.querySelector(".bottom-line");if(!topLine||!bottomLine)return;let paramBtns=mapParent.querySelector(".bottombox");let clearBtn=mapParent.querySelector(".clean");if(!paramBtns||!clearBtn)return;topLine.append(clearBtn);bottomLine.append(paramBtns);}}function infrastructureGallery(){let photos=document.querySelector("body.node-type-infrastructure .photos");if(photos)lightGallery(photos,{download:false,mousewheel:true,licenseKey:"833B85C2-10294FE1-A3CD0C29-DF8BE7E5"});}function initTableViewPlans(){let tableWatchPlans=document.querySelectorAll('.poselok-object__col__plan');tableWatchPlans.forEach((plansWrapper)=>{let galleryImages=[];let planImages=plansWrapper.querySelectorAll('img');planImages.forEach((image)=>{let src=image.getAttribute('data-src');if(src)return;galleryImages.push({src});});let galleryInstance=lightGallery(plansWrapper,{download:false,dynamic:true,dynamicEl:galleryImages,mousewheel:true,licenseKey:'833B85C2-10294FE1-A3CD0C29-DF8BE7E5'});plansWrapper.addEventListener('click',()=>{galleryInstance.openGallery();});});}function copyLinkIdl(){let frontSlides=document.querySelectorAll('.slide-nm-exclusive__tag');frontSlides.forEach((id)=>{id.addEventListener('click',async()=>{if(/opera/i.test(navigator.userAgent)||/opr/i.test(navigator.userAgent)){function copyHandler(state){if(state==='granted'){let parent=id.closest('.nm-exclusive__slide');if(!parent)return;let linkElement=parent.querySelector('.slide-nm-exclusive__title');if(linkElement)navigator.clipboard.writeText(location.origin+linkElement.getAttribute('href')).then(()=>{notification.create({message:'Ссылка успешно скопирована!'});});}else if(state==='prompt'){}else notification.create({message:'В вашем браузере запрещена запись в буфер обмена!',type:'unsuccess'});}const permissionStatus=await navigator.permissions.query({name:'clipboard-write'});copyHandler(permissionStatus.state);permissionStatus.onchange=()=>{copyHandler(permissionStatus.state);};}else{let parent=id.closest('.nm-exclusive__slide');if(!parent)return;let linkElement=parent.querySelector('.slide-nm-exclusive__title');if(linkElement)navigator.clipboard.writeText(location.origin+linkElement.getAttribute('href')).then(()=>{notification.create({message:'Ссылка успешно скопирована!'});});}});});let tmbIds=document.querySelectorAll('.termin-main-box:not(.editorstyle) .tmb__content__tag.idl');tmbIds.forEach((id)=>{id.addEventListener('click',async()=>{if(/opera/i.test(navigator.userAgent)||/opr/i.test(navigator.userAgent)){function copyHandler(state){if(state==='granted'){let parent=id.closest('.termin-main-box');if(!parent)return;let linkElement=parent.querySelector('.tmb__content__title');if(linkElement)navigator.clipboard.writeText(location.origin+linkElement.getAttribute('href')).then(()=>{notification.create({message:'Ссылка успешно скопирована!'});});}else if(state==='prompt')console.log('prompt');else notification.create({message:'В вашем браузере запрещена запись в буфер обмена!',type:'unsuccess'});}const permissionStatus=await navigator.permissions.query({name:'clipboard-write'});copyHandler(permissionStatus.state);permissionStatus.onchange=()=>{copyHandler(permissionStatus.state);};}else{let parent=id.closest('.termin-main-box');if(!parent)return;let linkElement=parent.querySelector('.tmb__content__title');if(linkElement)navigator.clipboard.writeText(location.origin+linkElement.getAttribute('href')).then(()=>{notification.create({message:'Ссылка успешно скопирована!'});});}});});let lotRowIds=document.querySelectorAll('.lots__row .lots__thumbnail__id');lotRowIds.forEach((id)=>{id.addEventListener('click',async()=>{if(/opera/i.test(navigator.userAgent)||/opr/i.test(navigator.userAgent)){function copyHandler(state){if(state==='granted'){let parent=id.closest('.lots__row');if(!parent)return;let linkElement=parent.querySelector('.lots__thumbnail__link');if(linkElement)navigator.clipboard.writeText(location.origin+linkElement.getAttribute('href')).then(()=>{notification.create({message:'Ссылка успешно скопирована!'});});}else if(state==='prompt')console.log('prompt');else notification.create({message:'В вашем браузере запрещена запись в буфер обмена!',type:'unsuccess'});}const permissionStatus=await navigator.permissions.query({name:'clipboard-write'});copyHandler(permissionStatus.state);permissionStatus.onchange=()=>{copyHandler(permissionStatus.state);};}else{let parent=id.closest('.lots__row');if(!parent)return;let linkElement=parent.querySelector('.lots__thumbnail__link');if(linkElement)navigator.clipboard.writeText(location.origin+linkElement.getAttribute('href')).then(()=>{notification.create({message:'Ссылка успешно скопирована!'});});}});});}function initOpenPlanInTableView(){let plans=document.querySelectorAll('.lots__thumbnail__plan');plans.forEach((plan)=>{plan.addEventListener('click',function(){let link='';let parent=event.target.closest('.lots__thumbnail');if(!parent)return;let link_element=parent.querySelector('.lots__thumbnail__link');if(link_element)link=link_element.getAttribute('href');if(link==='')return;if(navigator.userAgent.includes('HomehunterApp'))window.location.href=link+'#lg=plan&slide=0';else window.open(link+'#lg=plan&slide=0');});});}window.addEventListener('DOMContentLoaded',function(){document.body.addEventListener('click',function(event){if(!event.target.closest('#filter-main .build-choseen.active')){let fm_bc=document.querySelectorAll('#filter-main .build-choseen.active');fm_bc.forEach((bc)=>{bc.classList.remove('active');});}if(!event.target.closest('#filter-main .filter-field.number-list.active *:not(input)')){let filter_ff_nl_a_l=document.querySelectorAll('#filter-main .filter-field.number-list.active .list');filter_ff_nl_a_l.forEach((list)=>list.style.display='none');let filter_ff_nl_a=document.querySelectorAll('#filter-main .filter-field.number-list.active');filter_ff_nl_a.forEach((list)=>list.classList.remove('active'));let filter_ff_nl=document.querySelectorAll('#filter-main .filter-field.number-list');filter_ff_nl.forEach((list)=>list.setAttribute('data-active',null));}if(!event.target.closest('#filter-main .filter-field.select-list.active')){let lists=document.querySelectorAll('#filter-main .filter-field.select-list.active .list');lists.forEach((list)=>{list.classList.remove('active');let parent=list.closest('.select-list');if(parent)parent.classList.remove('active');let lineCheck=list.closest('.line-check');if(lineCheck)list.style.display='none';});}if(event.target.closest('.load-more:not(.disabled)')){if(document.body.classList.contains('page-cabinet'))return;let field=document.querySelector('#filter-main input[name="page"]');if(!field)return;if(field.value)field.value=parseInt(field.value)+1;else field.value=1;homehunterFilter('counter',{'count':'','pager':'load-more','page':'update'});}if(event.target.closest('.pagination li a')){if(document.body.classList.contains('page-cabinet'))return;event.preventDefault();let value=event.target.getAttribute('data-page');let fm_inp=document.querySelector('#filter-main input[name="page"]');if(fm_inp&&value)fm_inp.value=value;let content_wrap=document.querySelector('#content-wrap');if(content_wrap)content_wrap.scrollIntoView({block:"start",behavior:"smooth"});homehunterDelay(function(){homehunterFilter('counter',{'count':'','pager':'pager','page':'update','title':true});},delaytime);let map_apart=document.querySelector('.map-apart');if(map_apart)map_apart.scrollTo({top:0,left:0,behavior:"smooth"});}if(event.target.closest('.toggle-menu')){let mobileMenu=document.querySelector('.mobile-menu');if(mobileMenu){let togglers=document.querySelectorAll('.toggle-menu');if(mobileMenu.classList.contains('open')){togglers.forEach((toggler)=>{toggler.classList.remove('active');});mobileMenu.classList.remove('open');mobileMenu.style.maxHeight=0;document.body.style.overflowY=null;}else{togglers.forEach((toggler)=>{toggler.classList.add('active');});mobileMenu.classList.add('open');mobileMenu.style.maxHeight=window.innerHeight+'px';document.body.style.overflowY='hidden';}}}if(event.target.closest(".profile__alert")){const profileAlert=document.querySelector(".profile__alert");if(profileAlert)profileAlert.classList.add('active');}else{const profileAlert=document.querySelector(".profile__alert");if(profileAlert)profileAlert.classList.remove('active');}});function initTechBanner(){let banner=document.querySelector('.tech_banner');if(!banner)return;let isClosed=Boolean(sessionStorage.getItem('banner'))||false;if(isClosed)banner.style.display='none';else{let closer=banner.querySelector('.tech_banner__close');if(!closer)return;closer.addEventListener('click',function(){banner.style.display='none';sessionStorage.setItem('banner','true');});}}initTechBanner();let masks=document.querySelectorAll('[data-maskjs="1"]');masks.forEach((el)=>{let min=el.getAttribute('data-maskjs-min')||null;let max=el.getAttribute('data-maskjs-max')||null;let scale=el.getAttribute('data-maskjs-scale')||null;let isYear=el.closest('[data-type^="year"]')||null;let mask=new IMask(el,{mask:Number,signed:false,thousandsSeparator:(isYear!==null)?'':' ',normalizeZeros:true,radix:'.',mapToRadix:['.',','],scale:(scale!==null)?scale:1,min:(min!==null)?Number(min):null,max:(max!==null)?Number(max):null});el.addEventListener('updateMask',function(){mask.updateValue();});el.addEventListener('reset',function(){mask.updateValue();});el.addEventListener('change',function(){mask.updateValue();});el.addEventListener('focus',function(){mask.updateValue();});});function makeMobileMenu(){const topHeadWrapper=document.querySelector('#tophead > .c-page');if(!topHeadWrapper)return;if(document.body.classList.contains('mobile__menu'))return;document.body.classList.add('mobile__menu');let logo=document.querySelector('header > .c-page > .header__logo');let toggler=document.createElement('div');toggler.classList.add('toggle-menu');let togglerIcon=document.createElement('span');togglerIcon.classList.add('toggle-icon');toggler.innerHTML=togglerIcon.outerHTML;let search=document.createElement('span');search.classList.add('mobile-search');let menu=document.createElement('div');menu.classList.add('mobile-menu');let menuList=document.createElement('div');menuList.classList.add('mobile-list');menu.innerHTML=menuList.outerHTML;topHeadWrapper.innerHTML=((logo)?logo.outerHTML:'')+topHeadWrapper.innerHTML+toggler.outerHTML+search.outerHTML+menu.outerHTML;if(logo)logo.remove();let topHeadWrapperMenu=topHeadWrapper.querySelector('.mobile-menu');togglerIcon.classList.add('active');toggler.innerHTML=togglerIcon.outerHTML;topHeadWrapperMenu.innerHTML=topHeadWrapperMenu.innerHTML+toggler.outerHTML;let headlineMenu=topHeadWrapper.querySelector('.headline__menu');let headlineProfile=topHeadWrapper.querySelector('.headline__profile');let headlineLocation=topHeadWrapper.querySelector('.headline__location');topHeadWrapperMenu.innerHTML=topHeadWrapperMenu.innerHTML+headlineMenu.outerHTML+headlineProfile.outerHTML+headlineLocation.outerHTML;headlineMenu.remove();headlineProfile.remove();headlineLocation.remove();let topHeadWrapperMenuList=topHeadWrapper.querySelector('.mobile-list');let menuCategory=document.createElement('ul');menuCategory.classList.add('mobile-categ');let headerSublist=document.querySelectorAll('header > .c-page > nav > ul .header__sublist > li');if(headerSublist.length===0)headerSublist=document.querySelectorAll('header > .c-page > nav > ul > li');headerSublist.forEach((elem)=>{if(!elem.classList.contains('header__item__title'))menuCategory.innerHTML=menuCategory.innerHTML+elem.outerHTML;});topHeadWrapperMenuList.innerHTML=topHeadWrapperMenuList.innerHTML+menuCategory.outerHTML;let menuItems=document.createElement('div');menuItems.classList.add('mobile-items');topHeadWrapperMenuList.innerHTML=topHeadWrapperMenuList.innerHTML+menuItems.outerHTML;let mobileDropdownTogglers=document.querySelectorAll('.header__dropdown_mobile');mobileDropdownTogglers.forEach((toggler)=>{toggler.addEventListener('click',function(){this.classList.toggle("active");let panel=this.parentNode.nextElementSibling;if(panel.style.maxHeight)panel.style.maxHeight=null;else panel.style.maxHeight=panel.scrollHeight+"px";});});let types=document.querySelectorAll('.submenu__type');let listTypes=document.querySelectorAll('.submenu__list[data-type]');let footerTypes=document.querySelectorAll('.submenu-footer[data-type]');types.forEach((type)=>{type.addEventListener('click',function(){types.forEach((type)=>type.classList.remove('active'));let listType=this.getAttribute('data-type');listTypes.forEach((list)=>{list.classList.remove('active');if(list.getAttribute('data-type')===listType)list.classList.add('active');});footerTypes.forEach((footer)=>{footer.classList.remove('active');if(footer.getAttribute('data-type')===listType)footer.classList.add('active');});this.classList.add('active');});});}function unmakeMobileMenu(){document.body.classList.remove('mobile__menu');let tophead=document.querySelector('#tophead > .c-page');if(tophead){let subheader__region=document.querySelector('.mobile-menu > .subheader__region');if(subheader__region)tophead.append(subheader__region);let subheader__menu=document.querySelector('.mobile-menu > .subheader__menu');if(subheader__menu)tophead.append(subheader__menu);let headline__profile=document.querySelector('.mobile-menu > .headline__profile');if(headline__profile)tophead.append(headline__profile);}let header=document.querySelector('header > .c-page');if(header){let header__logo=document.querySelector('#tophead > .c-page > .header__logo');if(header__logo)header.prepend(header__logo);}let mobile_menu=document.querySelector('.mobile-menu');if(mobile_menu)mobile_menu.remove();let toggle_menu=document.querySelector('.toggle-menu');if(toggle_menu)toggle_menu.remove();let mobile_search=document.querySelector('.mobile-search');if(mobile_search)mobile_search.remove();}if(window.innerWidth<=868)makeMobileMenu();window.addEventListener('resize',function(){(window.innerWidth<=868)?makeMobileMenu():unmakeMobileMenu();});if(document.body.classList.contains('cu-u')){let price_boxes=document.querySelectorAll('.price-box');price_boxes.forEach((price_box)=>{let num_elem=price_box.querySelector('.num');let usd_data=num_elem?num_elem.dataset.usd:'';if(num_elem)num_elem.textContent=usd_data;let s_elem=price_box.querySelector('.s');if(s_elem)s_elem.textContent='$';});}let infMores=document.querySelectorAll('.npc .mi .ic .icb > .c.inf .more');infMores.forEach((more)=>{more.addEventListener('click',function(){let count=this.getAttribute('data-count');let list=this.parentNode.querySelector('.more-list');if(this.classList.contains('active')){this.classList.remove('active');this.textContent='Ещё '+count;if(list)list.classList.add('hide');}else{this.classList.add('active');this.textContent='Скрыть';if(list)list.classList.remove('hide');}});});let nm_maps=document.querySelectorAll('.nm-map');nm_maps.forEach((nm_map)=>{if(nm_map.classList.contains('inited'))return;nm_map.addEventListener('click',function(){let lat=this.getAttribute('data-lat');let lng=this.getAttribute('data-lng');if(!lat||!lng)return;let mapcity=document.querySelector('#mapcity');if(mapcity)return;(this.classList.contains('open'))?mapcity.style.display='none':mapcity.style.display='block';this.classList.toggle('open');if(document.querySelector('#mapcity ymaps'))homehunterLoadScript('https://api-maps.yandex.ru/2.1/?load=package.standard&lang=ru_RU&apikey=8114c2af-b6df-447f-a3de-f9f9fb5d98a5',function(){mapcity.style.height=400+'px';ymaps.ready(function(){let myMap=new ymaps.Map('mapcity',{center:[lat,lng],zoom:15,controls:[]});let myPlacemark=new ymaps.Placemark([lat,lng]);myMap.geoObjects.add(myPlacemark);});});});nm_map.classList.add('inited');});homehunterEventListener('click','.npc .fl-table .header-table','.ts:not(.no-sort)',function(){let type=this.getAttribute('data-type');let sort={'asc':'desc','desc':'asc'};let n_ft_ct=document.querySelector('.npc .fl-table .content-table');if(this.classList.contains('active')){let sorted=sort[this.getAttribute('data-sort')];this.setAttribute('data-sort',sorted);if(n_ft_ct)n_ft_ct.innerHTML=getSorted('.line-flat','data-'+type,sort);}else{let n_ft_ht_ts=document.querySelector('.npc .fl-table .header-table .ts');if(n_ft_ht_ts)n_ft_ht_ts.classList.remove('active');this.setAttribute('data-sort','asc');this.classList.add('active');if(n_ft_ct)n_ft_ct.innerHTML=getSorted('.line-flat','data-'+type,'asc');}});infrastructureGallery();viewMapFastLinks();function initMobileFilter(){let filter_container=document.querySelector('#filter-main');if(!filter_container)return;let filter_button=filter_container.querySelector('.btn-search-full span');function createFilterModalElement(){let button=document.createElement('div');button.classList.add('ft__mobile__trigger');button.setAttribute('data-micromodal-trigger','filter__mobile__modal');button.textContent='Открыть фильтр';let icon=document.createElement('span');icon.classList.add('icon');button.prepend(icon);let count=document.createElement('span');count.classList.add('count');count.textContent=filter_button?filter_button.textContent:'0';button.append(count);return button;}filter_container.append(createFilterModalElement());function getFilterHeader(){let modal_header=document.createElement('div');modal_header.classList.add('micromodal__header');modal_header.innerHTML=`<p class="micromodal__title">Фильтр</p><span class="micromodal__close" data-micromodal-close></span>`;let clean=filter_container.querySelector('.clean')||filter_container.querySelector('.bottombox .clean');if(clean){clean.textContent='Сбросить';modal_header.prepend(clean);}return modal_header;}let confirm_btn;function getFilterContent(){let modal_content=document.createElement('div');modal_content.classList.add('micromodal__content');let line_box=filter_container.querySelector("#filter-main .line-box");let bottom_line=filter_container.querySelector("#filter-main .bottom-line");confirm_btn=(bottom_line)?bottom_line.querySelector('.btn-search-full'):line_box.querySelector('.btn-search-full');let full_search_options=filter_container.querySelector(".full-search-options");modal_content.append(line_box);if(bottom_line&&!bottom_line.parentNode.classList.contains("location-box"))modal_content.append(bottom_line);modal_content.append(full_search_options);return modal_content;}function getFilterFooter(){let modal_footer=document.createElement('div');modal_footer.classList.add('micromodal__footer');if(confirm_btn)confirm_btn.setAttribute('data-micromodal-close','');if(confirm_btn)modal_footer.append(confirm_btn);return modal_footer;}function createFilterModal(){let modal=document.createElement('div');modal.classList.add('micromodal__slide');modal.setAttribute('id','filter__mobile__modal');let modal_overlay=document.createElement('div');modal_overlay.classList.add('micromodal__overlay');modal_overlay.setAttribute('data-micromodal-close','');modal.append(modal_overlay);let modal_container=document.createElement('div');modal_container.classList.add('micromodal__container');modal_overlay.append(modal_container);modal_container.append(getFilterHeader());modal_container.append(getFilterContent());modal_container.append(getFilterFooter());return modal;}filter_container.append(createFilterModal());new Modal({id:'filter__mobile__modal',disableScroll:true});}if(window.innerWidth<869&&!document.body.classList.contains('front'))initMobileFilter();function socialInputType(){let vk=document.querySelector(".broker__socials-vk")||null;if(vk!==null){let vkForm=document.querySelector(".form-item-vk")||null;vk.addEventListener("click",function(){if(vkForm===null)return;if(vkForm.classList.contains("active")){vkForm.querySelector("input").value="";vkForm.querySelector("label").classList.remove("active");vkForm.classList.remove("active");}else vkForm.classList.add("active");});}let fb=document.querySelector(".broker__socials-fb")||null;if(fb!==null){let fbForm=document.querySelector(".form-item-fb")||null;fb.addEventListener("click",function(){if(fbForm===null)return;if(fbForm.classList.contains("active")){fbForm.querySelector("input").value="";fbForm.querySelector("label").classList.remove("active");fbForm.classList.remove("active");}else fbForm.classList.add("active");});}let yb=document.querySelector(".broker__socials-yt")||null;if(yb!==null){let ybForm=document.querySelector(".form-item-youtube")||null;yb.addEventListener("click",function(){if(ybForm===null)return;if(ybForm.classList.contains("active")){ybForm.querySelector("input").value="";ybForm.querySelector("label").classList.remove("active");ybForm.classList.remove("active");}else ybForm.classList.add("active");});}let inst=document.querySelector(".broker__socials-inst")||null;if(inst!==null){let instForm=document.querySelector(".form-item-instagram")||null;inst.addEventListener("click",function(){if(instForm===null)return;if(instForm.classList.contains("active")){instForm.querySelector("input").value="";instForm.querySelector("label").classList.remove("active");instForm.classList.remove("active");}else instForm.classList.add("active");});}}if(document.body.classList.contains('page-node-37396'))socialInputType();let inputsWithPhoneMask=document.querySelectorAll('input[name="phonenumber"]');if(inputsWithPhoneMask.length)inputsWithPhoneMask.forEach((input)=>new IMask(input,{mask:"+{7} (000) 000-00-00"}));let isBrokerPage=document.querySelector('.node-type-agency .broker-wrapper');if(isBrokerPage)new Modal({id:'brokermessage',disableScroll:true});let brokerNumber=document.querySelector('.header-info #brokermessage .js-form-item input[name="nomer_telefona"]');if(brokerNumber)new IMask(brokerNumber,{mask:"+{7} (000) 000-00-00"});let footer__faq__item__heads=document.querySelectorAll('.footer__faq__item__head');footer__faq__item__heads.forEach((head)=>{let parent=head.parentNode;parent.style.maxHeight=head.offsetHeight+24+'px';head.addEventListener('click',function(){if(parent.classList.contains('active')){parent.classList.remove('active');parent.style.maxHeight=head.offsetHeight+24+'px';}else{parent.classList.add('active');parent.style.maxHeight=parent.scrollHeight+'px';}});});function footerAccordion(){let toggles=document.querySelectorAll('.footer__compilations__toggler');toggles.forEach((toggle)=>{toggle.addEventListener('click',function(){let content=this.previousElementSibling;if(content.style.maxHeight){this.classList.remove('active');this.textContent='Показать больше';content.style.maxHeight=null;}else{this.classList.add('active');this.textContent='Скрыть';content.style.maxHeight=content.scrollHeight+'px';}});});}footerAccordion();function initNmSliderExclusive(){let sliders=document.querySelectorAll('.nm-exclusive__slider');sliders.forEach((slider)=>{let parent=slider.parentNode;let scrollbar=parent.querySelector('.swiper-scrollbar');let prev=parent.querySelector('.nm-exclusive__prev');let next=parent.querySelector('.nm-exclusive__next');let promise=new Promise((resolve)=>{let slider_instance=new Swiper(slider,{preventClicks:false,simulateTouch:false,spaceBetween:32,slidesPerView:1,slidesPerGroup:1,scrollbar:{el:scrollbar,draggable:true},navigation:{prevEl:prev,nextEl:next,disabledClass:"disabled"},breakpoints:{667:{slidesPerView:2,slidesPerGroup:2},767:{slidesPerView:3,slidesPerGroup:3}}});if(window.innerWidth<869){let interactive__animation=document.createElement('div');interactive__animation.classList.add('nm-exclusive__interactive');slider.append(interactive__animation);slider_instance.once('touchMove',function(){interactive__animation.remove();});}resolve();});promise.then(()=>{let innerSliders=slider.querySelectorAll('.slide-nm-exclusive__inner');innerSliders.forEach((innerSlider)=>{let pagination=innerSlider.querySelector('.inner-nm-exclusive__pagination');new Swiper(innerSlider,{lazy:{loadPrevNext:1},nested:true,pagination:{el:pagination,clickable:true}});});});});}initNmSliderExclusive();function initCollectionModalMobile(){let modal_instance=new Modal({id:'modal__favorite__mobile',disableScroll:true});function generatePreviewObject(image,title){let object=document.createElement('div');object.classList.add('favorite__mobile__object');let object__image=document.createElement('img');object__image.src=image.src;object__image.alt=title.textContent.trim();let object__title=document.createElement('p');object__title.textContent=title.textContent.trim();object.append(object__image);object.append(object__title);return object;}function generateCollectionList(nid){let list=document.createElement('div');list.classList.add('favorite__mobile__list');axios.get('/system/collection/list_object?object_id='+nid).then((response)=>{if(!response?.data?.action)return;list.innerHTML=response.data.action;let list__collection=list.querySelector('.actions-collections').innerHTML;list.innerHTML=list__collection.replaceAll('actions-collections','favorite__mobile');list__collection=list.querySelectorAll('.favorite__mobile__checkbox input');list__collection.forEach((collection)=>{let parent=collection.closest('.favorite__mobile__checkbox');let amount=parent.querySelector('.favorite__mobile__amount');collection.addEventListener('click',function(){let collection=document.querySelector('.favoriteControl[data-object_id="'+nid+'"] .actions-collections__checkbox input[data-id="'+this.dataset.id+'"]');collection.click();if(this.checked)amount.textContent=Number(amount.textContent)+1;else amount.textContent=Number(amount.textContent)-1;});});});return list;}homehunterEventListener('click','body','.termin-main-box .favoriteControl-select',function(){let parent=this.closest('.termin-main-box');if(!parent)return;let nid=parent.dataset.id;if(!nid)return;let title=parent.querySelector('.tmb__content__title');let image=parent.querySelector('.tmb__slider__thumb img');if(!title&&!image)return;let modal__element=document.querySelector('#modal__favorite__mobile .micromodal__content');modal__element.innerHTML='';modal__element.append(generatePreviewObject(image,title));modal__element.append(generateCollectionList(nid));modal_instance.show();});homehunterEventListener('click','body','.npc .favoriteControl-select',function(){let parent=this.closest('.npc');if(!parent)return;let nid=parent.dataset.nid;if(!nid)return;let title=document.querySelector('h1');let image=parent.querySelector('.pti .slider-footer img');if(!title&&!image)return;let modal__element=document.querySelector('#modal__favorite__mobile .micromodal__content');this.addEventListener('click',()=>{modal__element.innerHTML='';modal__element.append(generatePreviewObject(image,title));modal__element.append(generateCollectionList(nid));modal_instance.show();});});}if(window.innerWidth<868)initCollectionModalMobile();});window.addEventListener('load',()=>{function initUsersnap(){window.onUsersnapCXLoad=function(api){api.init();window.Usersnap=api;};let script=document.createElement('script');script.async=true;script.src='https://widget.usersnap.com/global/load/ad848967-b6ac-46f5-9333-8925a4004779?onload=onUsersnapCXLoad';document.head.appendChild(script);}initUsersnap();});window.addEventListener('axiosComplete',function(){function dynamicMenu(){let data=event.detail.menu;function updateLocalStorage(version,content){localStorage.setItem('hh_header_version',version);localStorage.setItem('hh_header_content',JSON.stringify(content));}function isOutdatedVersion(){let version=localStorage.getItem('hh_header_version')||0;if(data!==null)if(version!==data?.version)updateLocalStorage(data.version,data.data);let content=localStorage.getItem('hh_header_content');render(JSON.parse(content));}isOutdatedVersion();function renderLink(key,params){let link=document.createElement('a');link.href=params.url;link.classList.add('submenu-link');if(typeof key==='number'){link.innerHTML=params.name+` <span class="submenu-amount">${params.count}</span>`;let page_content=document.getElementById('page-content');if(page_content&&page_content?.dataset?.id)if(Number(page_content.dataset.id)===params.id)link.classList.add('active');}else{link.classList.add('submenu-link__'+key);link.textContent=params.name;}return link;}function render(content){for(let key in content){let element=content[key];let parent=document.querySelector(`.header__item[data-type="${key}"] .submenu`);if(parent)if(parent.children)if(parent.children.length>0)return;let cols={};Object.assign(cols,element);if(cols?.bottom)delete cols.bottom;for(let key in cols){let col=cols[key];let submenu_item=document.createElement('li');submenu_item.classList.add('submenu-item','ltrbjs');for(let key in col){let link=col[key];if(typeof link!=='function')submenu_item.append(renderLink(Number(key),link));}if(parent)parent.append(submenu_item);}if(element?.bottom){let submenu_footer=document.createElement('li');submenu_footer.classList.add('submenu-item','submenu-footer','active','ltrbjs');for(let key in element.bottom){let link=element.bottom[key];submenu_footer.append(renderLink(key,link));}if(parent)parent.append(submenu_footer);}}}}dynamicMenu();function hoverLinksHandler(){document.body.addEventListener('click',function(event){if(!event.target.closest('.header__item')){const links=document.querySelectorAll('.header__item');const overlay=document.querySelector('.dropdown__overlay');if(!overlay)return;links.forEach((link)=>{let linkTrigger=link.querySelector('.header__link');linkTrigger.setAttribute('data-click','true');link.classList.remove('hover');});overlay.classList.remove('hover');}});const links=document.querySelectorAll('.header__item')||[];for(let index=0;index<links.length;index++){let link=links[index];let linkTrigger=link.querySelector('.header__link');linkTrigger.setAttribute('data-click','true');if(!link.querySelector('.dropdown'))continue;function clickHandler(event){const links=document.querySelectorAll('.header__item');const overlay=document.querySelector('.dropdown__overlay');links.forEach((linkElem)=>{if(link!==linkElem){let linkTrigger=linkElem.querySelector('.header__link');linkTrigger.setAttribute('data-click','true');linkElem.classList.remove('hover');overlay.classList.remove('hover');}});if(linkTrigger.getAttribute('data-click')==='true'){event.preventDefault();link.classList.add('hover');linkTrigger.setAttribute('data-click','false');}overlay.classList.add('hover');}linkTrigger.addEventListener('click',clickHandler.bind(event));}}if(window.innerWidth>=869)hoverLinksHandler();function animateDropdown(){let submenus=document.querySelectorAll('.submenu');submenus.forEach((parent)=>{let counter=0.05;let lists=parent.querySelectorAll('.ltrbjs');lists.forEach((el)=>{let items=Array.from(el.children);items.forEach((item)=>{item.style['transition-delay']=counter+'s';counter+=0.05;let td=item.style['transition-delay'];item.addEventListener('mouseover',function(){item.style['transition-delay']=null;});item.addEventListener('mouseout',function(){setTimeout(function(){item.style['transition-delay']=td;},350);});});counter=counter-el.children.length/20+0.025;});});let dropdowns=document.querySelectorAll('.dropdown');dropdowns.forEach((dropdown)=>dropdown.classList.add('init'));}animateDropdown();});;
window.addEventListener('DOMContentLoaded',function(){initOpenPlanInTableView();lightSwiper();clusterToggle();shareInit();initTableViewPlans();copyLinkIdl();let delaytime=1000;window.homehunterFilter=function(method){if(homehunterMethods[method])return homehunterMethods[method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method==='object'||!method)return homehunterMethods.init.apply(this,arguments);else throw Error('Error');};window.homehunterMethods={counter:function(options){const isFront=document.body.classList.contains('front');const isComplex=document.querySelector('.complex__objects');let values={};let complex__type=document.querySelector('.complex__objects__filter .complex__objects__type.active');if(complex__type){let type=complex__type.getAttribute('data-type');let value=complex__type.getAttribute('data-val');if(value!=='')values[type]=value;}let fields=document.querySelectorAll('.filter-field');fields.forEach((field)=>{let field_type=field.getAttribute('data-type');if(field.classList.contains('line-check')){let items=field.querySelectorAll('.item');items.forEach((item)=>{let id=item.getAttribute('data-val');if(document.querySelector('.select-item .item[data-type="'+field_type+'"][data-id="'+id+'"]')){let select_item=document.querySelector('.select-item .item[data-type="'+field_type+'"][data-id="'+id+'"]');if(select_item)(item.classList.contains('active'))?select_item.classList.remove('hide'):select_item.classList.add('hide');}else if(field_type==='decor'){let select_item=document.querySelector('.select-item .item[data-type="'+field_type+'"][data-val="'+id+'"]');if(select_item)(item.classList.contains('active'))?select_item.classList.remove('hide'):select_item.classList.add('hide');}else{let select_item=document.querySelector('.select-item .item[data-type="'+field_type+'"]');if(select_item)(item.classList.contains('active'))?select_item.classList.remove('hide'):select_item.classList.add('hide');}});}else{if(field.classList.contains('number-list')){let field_inputs=field.querySelectorAll('input[type="text"]');field_inputs.forEach((input)=>{let parent_class=input.parentNode.getAttribute('class');let select_item=document.querySelector('.select-item .item[data-type="'+field_type+'-'+parent_class+'"]');if(input.value){let value=input.value;switch(field_type){case 'price':{let currency=document.querySelector('#filter-main .filter-field.number-list .currency .item.active');if(currency)value+=' '+currency.innerHTML;break;}case 'area':case 'areaplot':case 'arealive':case 'areakitchen':case 'areaterr':value+=' м<sup>2</sup>';break;case 'ceilheight':value+=' м';break;case 'mkad':value+=' км';break;}if(select_item){select_item.classList.remove('hide');let si_content=select_item.querySelector('p');if(si_content)si_content.innerHTML=value;}}else{if(select_item)select_item.classList.add('hide');}});}}});if(!options.map_coord&&!isFront){document.body.classList.add('loading');if(options.pager==='load-more')document.body.classList.add('loading-bottom');let cw=document.querySelector('#content-wrap');if(cw){let div=document.createElement('div');div.setAttribute('id','loading');div.innerHTML='<div class="windows8"><div class="wBall" id="wBall_1"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_2"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_3"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_4"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_5"><div class="wInnerBall"></div></div></div>';cw.prepend(div);}}let ids=false;if(options.ids)ids=true;if(options.pager==='new'&&!ids){let input_page=document.querySelector('#filter-main input[name="page"]');if(input_page)input_page.value='';let pw=document.querySelector('#pager-wrap');if(pw)pw.innerHTML='';}let ff_nsl_s=document.querySelectorAll('#filter-main .filter-field:not(.select-list) select');ff_nsl_s.forEach((select)=>{let type=select.getAttribute('name').replace('[]','');let s_opts=document.querySelectorAll('#search-filter .type-property .'+type+' .input-select select:first option:selected');let count=s_opts.length;if(count<1||!type)return;let value=document.querySelectorAll('#search-filter .type-property .'+type+' .input-select select:first option:selected');value=value.map(value,(obj)=>{return obj.value;}).join(',');values[type]=value;});let icb_nfi_nl=document.querySelectorAll('#filter-main input[type="checkbox"]:not(.filled-in):not(.local):not(.districtzagorod):checked');icb_nfi_nl.forEach((input)=>{let type=input.getAttribute('name');let value=input.value;value=value.replace(/ /g,'');if(value>0&&type!=='decor[]'&&type!=='typeobject')values[type]=value;});let ft_inputs_radio=document.querySelectorAll('#filter-main input[type="radio"]:checked');ft_inputs_radio.forEach((input)=>{let type=input.getAttribute('name');let value=input.value;value=value.replace(/ /g,'');if(type==='typeobject'&&value!=='0')values[type]=value;});let bc_l_icb=document.querySelectorAll('#filter-main .build-choseen .listing input[type="checkbox"]');bc_l_icb.forEach((input)=>{let type=input.getAttribute('name').replace('[]','');let bc_l_icbc=document.querySelectorAll('#filter-main .build-choseen .listing input[type="checkbox"]:checked');let count=bc_l_icbc.length;if(!type||count<1)return;let value=Array.from(bc_l_icbc);value=value.map((obj)=>{return obj.value;}).join(',');values[type]=value;});let ff_it=document.querySelectorAll('#filter-main .filter-field input[type="text"]:not(.vscomp-hidden-input):not(.vscomp-search-input)');ff_it.forEach((input)=>{let type=input.closest('.filter-field').getAttribute('data-type');if(!type)return;if(input.closest('div').getAttribute('class')==='from'||input.closest('div').getAttribute('class')==='to')type=type+'-'+input.closest('div').getAttribute('class');let value=input.value;if(!value)return;value=value.replace(/ /g,'');if(value>0||value.length)values[type]=value;});let ff_ia=document.querySelectorAll('#filter-main .filter-field .item.active');ff_ia.forEach((input)=>{let type=input.closest('.filter-field').getAttribute('data-type');let value=input.getAttribute('data-val');if(!type||value===undefined||value===null)return;(!values[type])?values[type]=String(value):values[type]+=','+value;});let sp_i=document.querySelectorAll('#filter-main .selectparams .item');sp_i.forEach((input)=>{let type=input.getAttribute('data-type');if(!type)return;values[type]=input.getAttribute('data-val');});let ffd_l_i1=document.querySelector('#filter-main .filter-field[data-type="decor"] .list .item[data-val="1"]');let ffd_l_i2=document.querySelector('#filter-main .filter-field[data-type="decor"] .list .item[data-val="2"]');if(ffd_l_i1&&ffd_l_i2)if(ffd_l_i1.classList.contains('active')&&ffd_l_i2.classList.contains('active')){if(values.decor==='1,2')values.decor=values.decor.replace('1,2','');if(!values.decor)delete values.decor;}let ih=document.querySelectorAll('#filter-main input[type="hidden"]');ih.forEach((input)=>{let type=input.getAttribute('name');if(!type)return;if(type==='roomchoose'){let rooms=document.querySelectorAll('#filter-main .filter-field[data-type="rooms"] .item.active');if(rooms.length===0)return;}let value=input.value;if(!value)return;value=value.replace(/ /g,'');if((value>0||value)&&type!=='type')values[type]=value;});let shs=document.querySelectorAll('#filter-main select.hide-select');shs.forEach((select)=>{let type=select.getAttribute('name').replace('[]','');if(!type)return;let value=[];let current_select=document.querySelector('#filter-main .hide-select[name="'+type+'"]');if(!current_select)return;let options=Array.from(current_select.selectedOptions);options.forEach((option)=>{value.push(option.value);});if(value.length>0){value=value.join(',');values[type]=value;}});let ffa=document.querySelectorAll('#filter-main .filter-field.active');ffa.forEach((field)=>{let value=field.getAttribute('data-select');if(!value)return;value=eval(value);value.forEach((index,val)=>{val.forEach((i,v)=>{values[i]=v;});});});let data=[];Object.keys(values).forEach((key)=>{data.push(key+'='+values[key]);});let url=window.location.pathname;let url_value=options?.url||window.location.pathname;if(isFront)url_value=url=document.querySelector('.filter__modal__tab.active').getAttribute('data-path');if(data.length!==0)url+='?'+data.join('&');let input_view_value=(document.querySelector('input[name="view"]'))?document.querySelector('input[name="view"]').value:'';if(options.view&&input_view_value==='map')setTimeout(()=>{window.history.replaceState({},'',url);location.reload();},50);if(!ids&&!isFront&&options.map_coord)window.history.replaceState({},'',url);if(options.map_coord)return;if(options.changetype)values={};if(document.body.classList.contains('page-cabinet')){let content=document.querySelector('.objects');if(content)content.classList.add('loading');axios.get(url).then((response)=>{const content__content=document.querySelector('#content-wrap');if(!content__content)return;if(document.body.classList.contains('page-cabinet-object-list'))if(response.data.objectPage)content__content.parentNode.innerHTML=response.data.objectPage;else{if(response.data.content)content__content.parentNode.innerHTML=response.data.content;}else if(response.data.objectPage)content__content.innerHTML=response.data.objectPage;else{if(response.data.content)content__content.innerHTML=response.data.content;}if((typeof objectMore)==="function")objectMore();initOpenPlanInTableView();lightSwiper();clusterToggle();shareInit();tooltip();initFilter();initEditForm();copyLinkIdl();if(content)content.classList.remove('loading');});}else{let info={'type':'filter','values':values,'url':url_value,'front':isFront,'ids':ids};if(isFront){let button=document.querySelector('.filter__modal__search');if(button)button.setAttribute('href',url);let buttonMap=document.querySelector('.filter__modal__map');if(buttonMap)buttonMap.setAttribute('href',url+((data.length>0)?'&view=map':'?view=map'));}let node=false;let npc=document.querySelector('.npc');if(npc&&npc.getAttribute('data-nid')){info.url='/node/'+npc.getAttribute('data-nid');node=true;}if(!ids&&options.count==='update'){let fm_bsf_s=document.querySelectorAll('#filter-main .btn-search-full span');fm_bsf_s.forEach((btn)=>btn.innerHTML='...');}axios({method:'post',url:'/system/options',data:'data='+JSON.stringify(info)}).then(function(data){data=data.data;if(isFront){let filter=document.querySelector('.filter__modal__content #filter-main');let content=document.querySelector('.filter__modal__content');let counter=document.querySelector('.filter__modal__search .count');let locCounter=document.querySelector('#locationmodal .btn-search-full span');if(options.firstload)filter.innerHTML=data.filter;if(locCounter)locCounter.innerHTML=data.count;counter.innerHTML=data.count;content.classList.remove('loading');let elementsMask=Array.from(document.querySelectorAll('[data-maskjs="1"]'));elementsMask.forEach((el)=>{let min=el.getAttribute('data-maskjs-min');let max=el.getAttribute('data-maskjs-max');let scale=el.getAttribute('data-maskjs-scale');let numberMask=IMask(el,{mask:Number,signed:false,thousandsSeparator:' ',normalizeZeros:true,radix:'.',mapToRadix:['.',','],scale:scale?scale:1,min:min?Number(min):null,max:max?Number(max):null});el.addEventListener('reset',function(){numberMask.updateValue();});el.addEventListener('change',function(){numberMask.updateValue();});});let countLoaded=document.querySelectorAll('#filter-main .localcontainerbox .item[data-parent="alllocal"]').length;let countLoadedChecked=document.querySelectorAll('#filter-main .localcontainerbox .item[data-parent="alllocal"] input:checked').length;if(countLoaded===countLoadedChecked){let lcb_idpa=document.querySelector('#filter-main .localcontainerbox .item.main[data-tid="alllocal"] input');if(lcb_idpa)lcb_idpa.checked=true;}let locationmodal_instance=new Modal({id:'locationmodal',onHide:function(){let modal=document.querySelector('.filter__modal__container');if(modal)modal.classList.remove('location__open');},onShow:function(){let modal=document.querySelector('.filter__modal__container');if(modal)modal.classList.add('location__open');}});homehunterEventListener('click','#filter__modal','.filter-field[data-type^="district-"]',function(){if(locationmodal_instance)locationmodal_instance.show();});homehunterEventListener('click','#filter-main','#locationmodal .bottom-line .btn-search-full',function(){if(locationmodal_instance)locationmodal_instance.hide();});return;}if(!isFront&&data.newTerm){let h1=document.querySelector('h1');let breadcrumbs=document.querySelector('.breadcrumbs');if(breadcrumbs&&data.newTerm.breadcrumbs)breadcrumbs.outerHTML=data.newTerm.breadcrumbs;if(h1&&data.newTerm.h1&&data.newTerm.h1!=='Коллекции')h1.textContent=data.newTerm.h1;if(data.newTerm.title)document.title=data.newTerm.title;if(data.newTerm.url)window.history.pushState('html',document.title,data.newTerm.url);}if(isComplex){let new_url=url.split('?');if(new_url[1]){let new_url_options=new_url[1].split('&');new_url_options.forEach((option,index)=>{if(option.indexOf('page')!==-1)new_url_options.splice(index,1);});if(new_url_options.length>0)url=new_url[0]+'?'+new_url_options.join('&');else url=new_url[0];}}if(!isFront&&!data.newTerm)window.history.replaceState({},'',url);if(ids){let si=document.querySelector('#filter-main .search-input');if(si)si.setAttribute('data-ids',data);}if(options.count==='update'){let bsf_s=document.querySelectorAll('#filter-main .btn-search-full span');bsf_s.forEach((btn)=>btn.innerHTML=data.countresult);}let input_view=document.querySelector('input[name="view"]');if(input_view.value==='map')if(options.pager==='load-more'){let pw=document.querySelector('#pager-wrap');if(pw){let div=document.createElement('div');div.classList.add('loading_temp');div.innerHTML=data['content-map'];pw.before(div);}}else{if(options.pager!=='pager'){let map=document.querySelector('#map');if(map){viewMapFastLinks();if(typeof data.content==='object')ya3_map_init(data.content);document.body.classList.add('view-map');viewMapFastLinks();}}let apart_back=document.querySelector('.apart-back');if(apart_back)apart_back.style.display='none';let map__nothing=document.querySelector('.map__nothing');if(map__nothing)map__nothing.remove();let map__list=document.querySelector('.map__list');if(map__list)map__list.remove();let apart_otherLots=document.querySelector('.filter-map .map-apart.default .apart-otherLots');if(apart_otherLots)apart_otherLots.style.display='none';let apart_mainLots=document.querySelectorAll('.apart-mainLot');apart_mainLots.forEach((apart_mainLot)=>apart_mainLot.remove());let pw=document.querySelector('#pager-wrap');if(pw){if(data['content-map']){let element=document.createElement('div');element.classList.add('map__list');element.innerHTML=data['content-map'];pw.before(element);}else{let nothing=document.createElement('p');nothing.innerHTML=data['content'];nothing.classList.add('map__nothing');pw.before(nothing);}pw.innerHTML=data.pager;}}else{document.body.classList.remove('view-map');viewMapFastLinks();if(data.title){let hm_c=document.querySelector('.header-main .count');if(hm_c)hm_c.innerHTML=data.title;}if(options.pager==='load-more'){let cw=document.querySelector('.fl-table #content-wrap')||document.querySelector('#content-wrap');if(cw){let div=document.createElement('div');div.classList.add('loading_temp');cw.append(div);div.outerHTML=data.content;}let pw=document.querySelector('#pager-wrap');if(pw)pw.innerHTML=data.pager;}else if(options.pager==='pager'){let cw=document.querySelector('#content-wrap');if(cw)cw.innerHTML=data.content;let pw=document.querySelector('#pager-wrap');if(pw)pw.innerHTML=data.pager;}else{let cw=document.querySelector('#content-wrap');if(cw)cw.innerHTML=data.content;let pw=document.querySelector('#pager-wrap');if(!pw&&data.pager){let div=document.createElement('div');div.setAttribute('id','pager-wrap');div.innerHTML=data.pager;cw.after(div);}else{if(pw)pw.innerHTML=data.pager;}}let clean=document.querySelector('.clean');if(clean)document.querySelector('.bottombox .bottom2-line').append(clean);if(options.view||options.page==='update')updatePrice(getCurrency('currency'));}initOpenPlanInTableView();lightSwiper();clusterToggle();shareInit();tooltip();initTableViewPlans();copyLinkIdl();complexToggler();favorites__is__check();pagerAddLink();let cw_l=document.querySelector('#content-wrap #loading');if(cw_l)cw_l.remove();let filter_mobile_trigger=document.querySelector('.ft__mobile__trigger .count');if(filter_mobile_trigger){let filter_mobile_footer=document.querySelector('#filter__mobile__modal .micromodal__footer .btn-search-full span');filter_mobile_trigger.textContent=filter_mobile_footer.textContent;}document.body.classList.remove('loading');document.body.classList.remove('loading-bottom');});}}};let map_element=document.getElementById('map');if(map_element)homehunterLoadScript("https://api-maps.yandex.ru/v3/?apikey=8114c2af-b6df-447f-a3de-f9f9fb5d98a5&lang=ru_RU",function(){ya3_map_init();});let clusters;let map;async function ya3_map_init(data){let settings={center:[37.64,55.76],zoom:12};let map_element=document.getElementById('map');await ymaps3.ready;const {YMap,YMapDefaultSchemeLayer,YMapFeatureDataSource,YMapLayer,YMapMarker,YMapEntity,YMapListener}=ymaps3;const {YMapHint,YMapHintContext}=await ymaps3.import('@yandex/ymaps3-hint@0.0.1');const {YMapClusterer,clusterByGrid}=await ymaps3.import('@yandex/ymaps3-clusterer@0.0.1');if(!data){let input_coords=document.querySelector('input[name="map_coord"]');if(input_coords&&input_coords.value!=='')settings.center=input_coords.value.split(',');map=new YMap(map_element,{location:{center:settings.center,zoom:settings.zoom,copyrights:true,copyrightsPosition:"bottom right"}});if(!document.querySelector('.admin-line'))map.setZoomRange({min:12,max:18});if(document.querySelector('#filter-main'))if(document.querySelector('#filter-main').classList.contains('zagorod')){if(!document.querySelector('.admin-line'))map.setZoomRange({min:9,max:18});let lon_array=[];let lat_array=[];JSON.parse(map_element.dataset.content).features.forEach((point)=>{lon_array.push(point.geometry.coordinates[1]);lat_array.push(point.geometry.coordinates[0]);});let averageLon=37.64;if(lon_array.length>0)averageLon=lon_array.reduce((sum,current)=>{return sum+Number(current);},0)/lon_array.length;let averageLat=55.76;if(lat_array.length>0)averageLat=lat_array.reduce((sum,current)=>{return sum+Number(current);},0)/lat_array.length;map.setLocation({center:[averageLon,averageLat],zoom:11});}map.addChild(new YMapDefaultSchemeLayer());map.addChild(new YMapFeatureDataSource({id:'markers'}));map.addChild(new YMapFeatureDataSource({id:'clusters'}));map.addChild(new YMapFeatureDataSource({id:'hints'}));map.addChild(new YMapLayer({source:'markers',type:'markers',zIndex:1800}));map.addChild(new YMapLayer({source:'clusters',type:'markers',zIndex:1801}));map.addChild(new YMapLayer({source:'hints',type:'hints',zIndex:1802}));let handleUpdateMap=function({location}){let input_coords=document.querySelector('input[name="map_coord"]');if(input_coords)input_coords.value=location.center;settings.zoom=location.zoom;homehunterDelay(function(){homehunterFilter('counter',{'map_coord':true});},50);};map.addChild(new YMapListener({layerId:'any',onUpdate:handleUpdateMap}));}function templateMarker(preset){const contentPin=document.createElement('div');contentPin.classList.add('point');let point_circle_classes='point__circle';switch(preset){case 'new':contentPin.classList.add('point__new');point_circle_classes+=' point__circle__new';break;case 'disabled':contentPin.classList.add('point__disabled');point_circle_classes+=' point__circle__disabled';break;default:contentPin.classList.add('point__default');point_circle_classes+=' point__circle__default';break;}contentPin.innerHTML=`
          <div class="${point_circle_classes}"></div>
      `;return contentPin;}function templateCluster(count){const circle=document.createElement('div');circle.innerHTML=`
        <div class="circle">
          <div class="cluster__default">
            <div class="cluster__default__circle">
              <span class="cluster__default__text">${count}</span>
            </div>
          </div>
        </div>
      `;return circle;}function createMarker(feature){return new YMapMarker({coordinates:feature.geometry.coordinates,source:'markers',properties:Object.assign(feature.properties,{hint:feature.properties.name})},templateMarker(feature.options.preset));}function createCluster(coordinates,features){return new YMapMarker({coordinates,source:'clusters',options:{ids:features.map((object)=>{return Number(object?.properties?.nid);})}},templateCluster(features.length));}let marker=createMarker;let cluster=createCluster;if(data)map.removeChild(clusters);let objects=(data?.features)?data.features:JSON.parse(map_element.dataset.content).features;objects.forEach((point)=>{point.geometry.coordinates.reverse();});clusters=new YMapClusterer({method:clusterByGrid({gridSize:48}),features:objects,marker,cluster});map.addChild(clusters);let hint=new YMapHint({layers:'hints',hint:(object)=>object?.properties?.hint}).addChild(new class CustomHint extends YMapEntity{_onAttach(){this._element=document.createElement('div');this._element.className='point__hint';this._detachDom=ymaps3.useDomContext(this,this._element);this._watchContext(YMapHintContext,()=>{this._element.textContent=this._consumeContext(YMapHintContext)?.hint;},{immediate:true});}_onDetach(){this._detachDom();}}());map.addChild(hint);let previousNid=-1;async function loadCurrentObject(nid){if(previousNid===nid)return;let objects__container=document.querySelector('.filter-map .map-apart');if(objects__container)objects__container.classList.add('loading');let info={'type':'mapObjectInfo','nid':((typeof nid)==='object')?nid:[nid],'mapNew':'true'};if(document.body.classList.contains('page-section-235')||document.body.classList.contains('page-section-238'))info['complexview']='true';try{let response=await axios({method:'post',url:'/system/options',data:'data='+JSON.stringify(info)});let data=response?.data;if(!data)return;map.removeChild(clusters);objects.forEach((point)=>{if(Number(point.properties.nid)!==nid)point.options.preset='disabled';else (data?.new)?point.options.preset='new':point.options.preset='default';});clusters=new YMapClusterer({method:clusterByGrid({gridSize:48}),features:objects,marker,cluster});map.addChild(clusters);let map_apart=document.querySelector('.map-apart');if(map_apart&&map_apart.classList.contains('map-apart__hide')){let togglerSidebar=document.querySelector('.apart-toggle');let map_card=document.querySelector('.map-card');let widget=document.querySelector('.widget');let viewtype=document.querySelector('#content-wrap .viewtype[data-type="card"]');map_apart.classList.remove('map-apart__hide');if(togglerSidebar)togglerSidebar.classList.add('active');if(widget)widget.style.right='648px';if(map_card)map_card.style.width='calc(100% - 640px)';map_apart.style.width='640px';if(viewtype)viewtype.classList.remove('full');}let filter_map__back=document.querySelector('.filter-map .map-apart.default .apart-back');if(filter_map__back)filter_map__back.style.display='flex';let map_apart__lot=document.querySelectorAll('.map-apart .apart-mainLot');if(map_apart__lot)map_apart__lot.forEach((lot)=>{lot.remove();});if(filter_map__back&&data?.complex){let mainLot=document.createElement('div');mainLot.classList.add('apart-mainLot');mainLot.innerHTML=data.complex;filter_map__back.after(mainLot);}let map_apart__lots=document.querySelector('.map-apart .apart-otherLots');if(map_apart__lots)map_apart__lots.style.display='block';let map_apart__lots_other=document.querySelector('.map-apart .apart-otherLots .other-blocks');if(map_apart__lots_other)map_apart__lots_other.innerHTML=data.property;let load_more=document.querySelector('.map-apart .load-more');if(load_more)load_more.style.display='none';let pagination=document.querySelector('.map-apart .pagination');if(pagination)pagination.style.display='none';initOpenPlanInTableView();lightSwiper();clusterToggle();shareInit();tooltip();initTableViewPlans();copyLinkIdl();complexToggler();let currency_key=document.body.dataset.currency;let cy_val={'rub':'₽','usd':'$','eur':'€'};cy_val=cy_val[currency_key];let prices=document.querySelectorAll('.price-box .num');prices.forEach((price)=>{price.innerHTML=price.getAttribute('data-'+currency_key);let cu=price.parentNode.querySelector('.cu .s');if(cu)cu.innerHTML=cy_val;});map_apart__lot=document.querySelector('.map-apart .apart-mainLot');if(map_apart__lot)map_apart__lot.dataset.nid=nid;let titles=document.querySelectorAll('.apart-otherLots .text-title');let typePage;if(document.body.classList.contains('page-section-235'))typePage={type:'complex',title:'ЖК '};else if(document.body.classList.contains('page-section-238'))typePage={type:'village',title:'КП '};else typePage={type:'object',title:'Объект '};let select_item=document.querySelectorAll('#content-wrap .bottombox .select-item .item[data-type="'+typePage.type+'"]');select_item.forEach((item)=>item.classList.add('hide'));let hide_select=document.querySelectorAll('#filter-main .hide-select[name="'+typePage.type+'"] option');hide_select.forEach((option)=>{option.remove();});if(titles.length>0)titles.forEach((title,index)=>{if((typeof nid)==='object'){let select_item_nid=document.querySelectorAll('#content-wrap .bottombox .select-item .item[data-id="'+nid[index]+'"]');if(select_item_nid.length===0){let title_id=title.parentNode.querySelector('.text-id');let item=document.createElement('div');item.classList.add('item');item.dataset.id=nid[index];item.dataset.type=typePage.type;item.dataset.field='select';item.innerHTML=typePage.title+title_id.textContent.split(':')[1]+' <span></span>';let select_item=document.querySelector('#content-wrap .bottombox .select-item');if(select_item)select_item.prepend(item);let option=document.createElement('option');option.selected=true;option.value=nid[index];option.textContent=typePage.title+title_id.textContent.split(':')[1];let hide_select=document.querySelector('#filter-main .hide-select[name="'+typePage.type+'"]');if(hide_select)hide_select.prepend(option);}else{let select_item=document.querySelector('#content-wrap .bottombox .select-item .item[data-id="'+nid[index]+'"]');if(select_item)select_item.classList.remove('hide');let hide_select=document.querySelector('#filter-main .hide-select[name="'+typePage.type+'"] option[value="'+nid[index]+'"]');if(hide_select)hide_select.selected=false;}}else{let complexTitle=document.querySelector('.apart-mainLot .desc-title a');if(complexTitle)complexTitle=complexTitle.dataset.label;else complexTitle=title.parentNode.querySelector('.text-id').textContent.split(':')[1];let select_item_nid=document.querySelectorAll('#content-wrap .bottombox .select-item .item[data-id="'+nid+'"]');if(select_item_nid.length===0){let item=document.createElement('div');item.classList.add('item');item.dataset.id=nid;item.dataset.type=typePage.type;item.dataset.field='select';item.innerHTML=typePage.title+complexTitle+' <span></span>';let select_item=document.querySelector('#content-wrap .bottombox .select-item');if(select_item)select_item.prepend(item);let option=document.createElement('option');option.selected=true;option.value=nid;option.textContent=complexTitle;let hide_select=document.querySelector('#filter-main .hide-select[name="'+typePage.type+'"]');if(hide_select)hide_select.prepend(option);}else{let select_item=document.querySelector('#content-wrap .bottombox .select-item .item[data-id="'+nid+'"]');if(select_item)select_item.classList.remove('hide');let hide_select=document.querySelector('#filter-main .hide-select[name="'+typePage.type+'"] option[value="'+nid+'"]');if(hide_select)hide_select.selected=false;}}});else{let complexTitle=document.querySelector('.apart-mainLot .desc-title a');if(complexTitle)complexTitle=complexTitle.dataset.label;else complexTitle=title.parentNode.querySelector('.text-id').textContent.split(':')[1];let select_item_nid=document.querySelectorAll('#content-wrap .bottombox .select-item .item[data-id="'+nid+'"]');if(select_item_nid.length===0){let item=document.createElement('div');item.classList.add('item');item.dataset.id=nid;item.dataset.type=typePage.type;item.dataset.field='select';item.innerHTML=typePage.title+complexTitle+' <span></span>';let select_item=document.querySelector('#content-wrap .bottombox .select-item');if(select_item)select_item.prepend(item);let option=document.createElement('option');option.setAttribute('selected','');option.value=nid;option.textContent=complexTitle;let hide_select=document.querySelector('#filter-main .hide-select[name="'+typePage.type+'"]');if(hide_select)hide_select.prepend(option);}else{let select_item=document.querySelector('#content-wrap .bottombox .select-item .item[data-id="'+nid+'"]');if(select_item)select_item.classList.remove('hide');let hide_select=document.querySelector('#filter-main .hide-select[name="'+typePage.type+'"] option[value="'+nid+'"]');if(hide_select)hide_select.selected=false;}}homehunterFilter('counter',{'map_coord':true});}catch(e){console.log(e);}previousNid=nid;if(objects__container)objects__container.classList.remove('loading');}let handleClickOnMarker=(object)=>{if(object?.entity?._props?.source!=='markers')return;map.setLocation({center:object.entity.coordinates,zoom:17,duration:350});if(!object?.entity?._props?.properties?.nid)return;loadCurrentObject(Number(object.entity._props.properties.nid));};map.addChild(new YMapListener({layerId:'markers',onFastClick:handleClickOnMarker}));let handleClickOnCluster=(object)=>{if(object?.entity?._props?.source!=='clusters')return;map.setLocation({center:object.entity.coordinates,zoom:17,duration:350});if(settings.zoom>15){let nids=object?.entity?._props?.options?.ids;if(!nids)return;loadCurrentObject(nids);}};map.addChild(new YMapListener({layerId:'clusters',onFastClick:handleClickOnCluster}));function toggleSidebar(){let map_apart=document.querySelector('.map-apart');if(!map_apart)return;let map_card=document.querySelector('.map-card');let widget=document.querySelector('.widget');let viewtype=document.querySelector('#content-wrap .viewtype[data-type="card"]');if(!map_apart.classList.contains('map-apart__hide')){map_apart.classList.add('map-apart__hide');togglerSidebar.classList.remove('active');if(widget)widget.style.right='16px';if(map_card)map_card.style.width='100%';map_apart.style.transform='translateX(100%)';if(viewtype)viewtype.classList.add('full');}else{map_apart.classList.remove('map-apart__hide');togglerSidebar.classList.add('active');if(widget)widget.style.right='648px';if(map_card)map_card.style.width='calc(100% - 640px)';map_apart.style.transform='translateX(0%)';if(viewtype)viewtype.classList.remove('full');}}let togglerSidebar=document.querySelector('.apart-toggle');if(togglerSidebar)togglerSidebar.addEventListener('click',toggleSidebar);let apart_back=document.querySelector('.filter-map .apart-back');if(apart_back)apart_back.addEventListener('click',function(){let complex_option=document.querySelectorAll('#filter-main .hide-select[name="complex"] option');complex_option.forEach((option)=>option.remove());let complex_items=document.querySelectorAll('.select-item .item[data-type="complex"]');complex_items.forEach((item)=>item.remove());let village_option=document.querySelectorAll('#filter-main .hide-select[name="village"] option');village_option.forEach((option)=>option.remove());let village_items=document.querySelectorAll('.select-item .item[data-type="village"]');village_items.forEach((item)=>item.remove());let object_option=document.querySelectorAll('#filter-main .hide-select[name="object"] option');object_option.forEach((option)=>option.remove());let object_items=document.querySelectorAll('.select-item .item[data-type="object"]');object_items.forEach((item)=>item.remove());let input_page=document.querySelector('#filter-main input[name="page"]');if(input_page)input_page.value='';homehunterDelay(()=>{homehunterFilter('counter',{'count':'','page':'update','title':true});},delaytime);});}});;
window.addEventListener('DOMContentLoaded',initFilter);function wordByNumber(value,words){value=Math.abs(value)%100;var num=value%10;if(value>10&&value<20)return words[2];if(num>1&&num<5)return words[1];if(num===1)return words[0];return words[2];}function pagerAddLink(){let complex__pager=document.querySelector('.complex__objects #pager-wrap');if(!complex__pager)return;let complex__pager__more=complex__pager.querySelector('.load-more');if(!complex__pager__more)return;let type=document.querySelector('.ft__objects__type .ft__objects__type__input:checked');if(type){let type_parent=type.parentNode;if(!type_parent)return;let type_label=type_parent.querySelector('.ft__objects__type__label');if(!type_label)return;let count=type_label.dataset.count;let url=type_label.href;let pager_link=document.createElement('a');pager_link.classList.add('complex__objects__pager__link');pager_link.href=url;pager_link.textContent='Посмотреть '+count+' '+wordByNumber(Number(count),['предложение','предложения','предложений']);let pager_link_icon=document.createElement('span');pager_link_icon.classList.add('complex__objects__pager__icon');pager_link.append(pager_link_icon);complex__pager.append(pager_link);}else{let complex__objects__head__link=document.querySelector('.complex__objects__head__link');let pager_link=document.createElement('a');pager_link.classList.add('complex__objects__pager__link');pager_link.href=complex__objects__head__link.href;pager_link.textContent=complex__objects__head__link.textContent;let pager_link_icon=document.createElement('span');pager_link_icon.classList.add('complex__objects__pager__icon');pager_link.append(pager_link_icon);complex__pager.append(pager_link);}}function initFilter(){window.filterUtilities={locationSummary:function(object){let sum=0;for(let salary of Object.values(object))sum+=salary;return sum;},numberToWord:function(value,words){value=Math.abs(value)%100;let num=value%10;if(value>10&&value<20)return words[2];if(num>1&&num<5)return words[1];if(num===1)return words[0];return words[2];},locationModalCleaner:document.querySelector('#locationmodal .select-params'),locationModalCleanerRemove:document.querySelector('#locationmodal .select-params .remove'),locationModalCleanerState:{highway:0,area:0,metro:0},makeClearVisible:function(){if(!filterUtilities.locationModalCleaner)return;filterUtilities.locationModalCleaner.classList.add('visible');},makeClearInvisible:function(){if(!filterUtilities.locationModalCleaner)return;filterUtilities.locationModalCleaner.classList.remove('visible');},changeClearContent:function(source,state){if(!filterUtilities.locationModalCleaner)filterUtilities.locationModalCleaner=document.querySelector('#locationmodal .select-params');if(!filterUtilities.locationModalCleaner)return;let countElement=filterUtilities.locationModalCleaner.querySelector('.count');let declElement=filterUtilities.locationModalCleaner.querySelector('.decl');if(!countElement&&!declElement)return;if(state)filterUtilities.locationModalCleanerState[source]+=1;else filterUtilities.locationModalCleanerState[source]-=1;let cleanerStateCount=filterUtilities.locationSummary(filterUtilities.locationModalCleanerState);(cleanerStateCount<=0)?filterUtilities.makeClearInvisible():filterUtilities.makeClearVisible();countElement.textContent=String(cleanerStateCount);if(filterUtilities.locationModalCleanerState.highway<=0&&filterUtilities.locationModalCleanerState.area<=0||filterUtilities.locationModalCleanerState.highway<=0&&filterUtilities.locationModalCleanerState.metro<=0||filterUtilities.locationModalCleanerState.area<=0&&filterUtilities.locationModalCleanerState.metro<=0){if(filterUtilities.locationModalCleanerState.highway>0)declElement.textContent=filterUtilities.numberToWord(cleanerStateCount,['шоссе','шоссе','шоссе']);else if(filterUtilities.locationModalCleanerState.area>0)declElement.textContent=filterUtilities.numberToWord(cleanerStateCount,['район','района','районов']);else{if(filterUtilities.locationModalCleanerState.metro>0)declElement.textContent=filterUtilities.numberToWord(cleanerStateCount,['метро','метро','метро']);}let modal__header=document.querySelectorAll('.micromodal__header ul li[data-container]');if(modal__header)modal__header.forEach((item)=>{switch(item.dataset.container){case 'districtgorod':(filterUtilities.locationModalCleanerState.area>0)?item.classList.add('selected'):item.classList.remove('selected');break;case 'districtzagorod':(filterUtilities.locationModalCleanerState.area>0)?item.classList.add('selected'):item.classList.remove('selected');break;case 'metro':(filterUtilities.locationModalCleanerState.metro>0)?item.classList.add('selected'):item.classList.remove('selected');break;case 'highway':(filterUtilities.locationModalCleanerState.highway>0)?item.classList.add('selected'):item.classList.remove('selected');break;}});}else declElement.textContent=filterUtilities.numberToWord(cleanerStateCount,['локация','локаций','локаций']);let highway__state__element=document.querySelector('#locationmodal [data-container="districtgorod"]');if(highway__state__element)(filterUtilities.locationModalCleanerState.highway>0)?highway__state__element.classList.add('selected'):highway__state__element.classList.remove('selected');let area__state__element=document.querySelector('#locationmodal [data-state-type="area"]');if(area__state__element)(filterUtilities.locationModalCleanerState.area>0)?area__state__element.classList.add('selected'):area__state__element.classList.remove('selected');let metro__state__element=document.querySelector('#locationmodal [data-container="metro"]');if(metro__state__element)(filterUtilities.locationModalCleanerState.metro>0)?metro__state__element.classList.add('selected'):metro__state__element.classList.remove('selected');},clearCleanerState:function(){filterUtilities.locationModalCleanerState={highway:0,area:0,metro:0};filterUtilities.makeClearInvisible();let countElement=filterUtilities.locationModalCleaner.querySelector('.count');if(!countElement)return;let cleanerStateCount=filterUtilities.locationSummary(filterUtilities.locationModalCleanerState);(cleanerStateCount<=0)?filterUtilities.makeClearInvisible():filterUtilities.makeClearVisible();countElement.textContent=String(cleanerStateCount);},clearMetroState:function(){filterUtilities.locationModalCleanerState.metro=0;let countElement=filterUtilities.locationModalCleaner.querySelector('.count');if(!countElement)return;let cleanerStateCount=filterUtilities.locationSummary(filterUtilities.locationModalCleanerState);(cleanerStateCount<=0)?filterUtilities.makeClearInvisible():filterUtilities.makeClearVisible();countElement.textContent=String(cleanerStateCount);},clearAreaHighwayState:function(){filterUtilities.locationModalCleanerState.highway=0;filterUtilities.locationModalCleanerState.area=0;let countElement=filterUtilities.locationModalCleaner.querySelector('.count');if(!countElement)return;let cleanerStateCount=filterUtilities.locationSummary(filterUtilities.locationModalCleanerState);(cleanerStateCount<=0)?filterUtilities.makeClearInvisible():filterUtilities.makeClearVisible();countElement.textContent=String(cleanerStateCount);},isset:(variable)=>{return (typeof (variable)!="undefined"&&variable!==null);},clearPageField:function(){let filter_main_page=document.querySelector('#filter-main input[name="page"]');if(filter_main_page)filter_main_page.value='';},clearPageTerm:function(){let filterElement=document.querySelector('#filter-main');if(filterElement){let parent=filterElement.getAttribute('data-parent');if(parent)window.history.replaceState({},'',parent);}},makeSelectedItem:(id,type,content)=>{let item=document.createElement('div');item.classList.add('item');item.dataset.id=id;if(filterUtilities.isset(type))item.dataset.type=type;item.innerHTML=`${content} <span></span>`;return item;},makeSelectedOption:(value,content)=>{let option=document.createElement('option');option.selected=true;option.value=value;option.textContent=content;return option;}};let selectStation=null;Array.prototype.remove=function(value){let idx=this.indexOf(value);if(idx!==-1)return this.splice(idx,1);return false;};function declOfNum(number,words){return words[(number%100>4&&number%100<20)?2:[2,0,1,1,1,2][(number%10<5)?Math.abs(number)%10:5]];}function getUrlParameter(sParam){let sPageURL=window.location.search.substring(1),sURLVariables=sPageURL.split('&'),sParameterName,i;for(i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split('=');if(sParameterName[0]===sParam)return sParameterName[1]===undefined?true:decodeURIComponent(sParameterName[1]);}}function metroInit(){let params=getUrlParameter('metro')!==undefined?getUrlParameter('metro'):null;let metro=document.querySelector('.localcontainerbox[data-container="metro"]')||null;if(metro!==null){let selectedParamrsParent=metro.parentNode.parentNode.parentNode.querySelector('.bottom-line .select-params');let selectedParamsClose=selectedParamrsParent.querySelector('.remove');let selStationsId=[];let selLinesId=[];let selStationsText=[];let isPanning=false;let selectFilterArray=[];let around=false;let aroundLine=false;let initLine=false;let initStation=false;let drag=false;let click=false;let somethingArray=[];const svgContainer=document.querySelector('.mertro-map');const svgImage=document.querySelector('.mertro-map svg');if(svgImage&&svgContainer){let allLines=svgImage.querySelectorAll('.metro-map-lines .metro-map-lines-item');let allStations=svgImage.querySelectorAll('.metro-map-stations .metro-map-stations-group .metro-map-stations-group-item');let allStops=svgImage.querySelectorAll('.metro-map-stops .metro-map-stop');if(allLines)allLines.forEach((line)=>{line.addEventListener('click',function(event){if(drag===false){let id=event.target.parentNode.getAttribute('data-metro-line')||null;if(id===null)id=event.target.parentNode.parentNode.getAttribute('data-metro-line')||null;let selectLineValue=selectLine.value;if(selLinesId.indexOf(id)===-1){selectLineValue.push(String(id));selectLine.setValue(selectLineValue);initLine=true;}else{selectLineValue.splice(selectLineValue.indexOf(id),1);selectLine.setValue(selectLineValue);}}});line.addEventListener('mouseenter',function(event){let id=event.target.getAttribute('data-metro-line');let labels=Array.from(event.target.querySelectorAll('.metro-map-lines-item-label'))||null;let lineStations=Array.from(svgImage.querySelectorAll(`.metro-map-stations .metro-map-stations-group[data-line='${id}'] .metro-map-stations-group-item`))||null;labels.forEach((label)=>{label.classList.add('metro-map-lines-item-label-hover');});lineStations.forEach((station)=>{let stationId=Number(station.getAttribute('data-metro-station'));let stationStops=Array.from(svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${stationId}']`))||null;station.classList.add('metro-map-stations-group-item-hover');if(stationStops!==null)stationStops.forEach((stop)=>{stop.classList.add('metro-map-stop-hover');});});});line.addEventListener('mouseleave',function(event){let id=event.target.getAttribute('data-metro-line');let labels=Array.from(event.target.querySelectorAll('.metro-map-lines-item-label'))||null;let lineStations=Array.from(svgImage.querySelectorAll(`.metro-map-stations .metro-map-stations-group[data-line='${id}'] .metro-map-stations-group-item`))||null;labels.forEach((label)=>{label.classList.remove('metro-map-lines-item-label-hover');});lineStations.forEach((station)=>{let stationId=Number(station.getAttribute('data-metro-station'));let stationStops=Array.from(svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${stationId}']`))||null;station.classList.remove('metro-map-stations-group-item-hover');if(stationStops!==null)stationStops.forEach((stop)=>{stop.classList.remove('metro-map-stop-hover');});});});});if(allStations){allStations.forEach((station)=>{let stationName=Array.from(station.querySelectorAll('.metro-map-stations-group-item-text'))||null;let stationLine=station.parentNode.dataset.line;let name=getStationName(stationName);somethingArray.push({label:(name+`<span class="Metro-Line-Color Metro-Line-Color__${stationLine}"></span>`),value:station.getAttribute('data-metro-station')});station.addEventListener('click',function(event){if(drag===false){let id=event.target.getAttribute('data-metro-station')||null;id===null?id=event.target.parentNode.getAttribute('data-metro-station')||null:true;id===null?id=event.target.parentNode.parentNode.getAttribute('data-metro-station'):true;let selectStationValue=selectStation.value;if(selStationsId.indexOf(id)===-1){selectStationValue.push(id);initStation=true;selectStation.setValue(selectStationValue);}else{selectStationValue.splice(selectStationValue.indexOf(id),1);selectStation.setValue(selectStationValue);}}});station.addEventListener('mouseenter',function(event){let id=event.target.getAttribute('data-metro-station');let stops=Array.from(svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${id}']`));station.classList.add('metro-map-stations-group-item-hover');if(stops)stops.forEach((stop)=>{stop.classList.add('metro-map-stop-hover');});});station.addEventListener('mouseleave',function(event){let id=event.target.getAttribute('data-metro-station');let stops=Array.from(svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${id}']`));station.classList.remove('metro-map-stations-group-item-hover');if(stops)stops.forEach((stop)=>{stop.classList.remove('metro-map-stop-hover');});});});somethingArray.sort(function(a,b){let nameA=a.label.toLowerCase();let nameB=b.label.toLowerCase();if(nameA<nameB)return -1;if(nameA>nameB)return 1;return 0;});}if(allStops)allStops.forEach((stop)=>{stop.addEventListener('click',function(event){if(drag===false){let id=event.target.getAttribute('data-station')||null;id===null?id=event.target.parentNode.getAttribute('data-station')||null:true;setSelectedStation(id);}});stop.addEventListener('mouseenter',function(event){let id=event.target.getAttribute('data-station');let stops=svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${id}']`);let station=svgImage.querySelector(`.metro-map-stations .metro-map-stations-group .metro-map-stations-group-item[data-metro-station='${id}']`);stops.forEach((stop)=>{stop.classList.add('metro-map-stop-hover');});if(station)station.classList.add('metro-map-stations-group-item-hover');});stop.addEventListener('mouseleave',function(event){let id=event.target.getAttribute('data-station');let stops=svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${id}']`);let station=svgImage.querySelector(`.metro-map-stations .metro-map-stations-group .metro-map-stations-group-item[data-metro-station='${id}']`);stops.forEach((stop)=>{stop.classList.remove('metro-map-stop-hover');});if(station)station.classList.remove('metro-map-stations-group-item-hover');});});}selectStation=metro.querySelector('.select-metro__station');if(selectStation){VirtualSelect.init({ele:'.select-metro__station',search:true,multiple:true,disableSelectAll:true,placeholder:'Выбрать станцию',noSearchResultsText:'Ничего не найдено',searchPlaceholderText:'Поиск',optionsSelectedText:'станций выбрано',optionSelectedText:'станция выбрана',allOptionsSelectedText:'Выбраны все станции',silentInitialValueSet:true,showDropboxAsPopup:false,options:somethingArray});selectStation.addEventListener('change',function(){initStation=true;watcher(selectStation.value,setSelectedStation);});selectStation.addEventListener('reset',function(){let ids=[];selStationsId.forEach((id)=>{ids.push(id);});ids.forEach((id)=>{around=true;setSelectedStation(id);});around=false;selectStation.setValue([]);selectLine.reset();let dt_dg=document.querySelector('[data-type="district-gorod"]');if(dt_dg)dt_dg.classList.remove('selected1');let metroItems=document.querySelectorAll('.item[data-type="metro"]');metroItems.forEach((item)=>{item.remove();});let metroSelect=document.querySelector('select[name="metro"]')||null;if(metroSelect){let options=metroSelect.querySelectorAll('option');options.forEach((option)=>{option.remove();});}filterUtilities.clearMetroState();selStationsId=[];homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});}selectedParamsClose.addEventListener('click',function(){selectStation.reset();});let selectLine=metro.querySelector('.select-metro__line');if(selectLine){VirtualSelect.init({ele:'.select-metro__line',search:true,multiple:true,disableSelectAll:true,placeholder:'Выбрать линию',noSearchResultsText:'Ничего не найдено',searchPlaceholderText:'Поиск',optionsSelectedText:'линий выбрано',optionSelectedText:'линия выбрана',allOptionsSelectedText:'Выбраны все линии',silentInitialValueSet:true,showDropboxAsPopup:false,options:[{label:'Сокольническая линия',value:'15'},{label:'Замоскворецкая линия',value:'12'},{label:'Арбатско-Покровская линия',value:'16'},{label:'Филёвская линия',value:'17'},{label:'Кольцевая линия',value:'18'},{label:'Калужско-Рижская линия',value:'14'},{label:'Таганско-Краснопресненская линия',value:'8'},{label:'Калининская линия',value:'11'},{label:'Солнцевская линия',value:'6'},{label:'Серпуховско-Тимирязевская линия',value:'5'},{label:'Люблинско-Дмитровская линия',value:'9'},{label:'Большая кольцевая линия / 1',value:'7'},{label:'Большая кольцевая линия / 2',value:'10'},{label:'Бутовская линия',value:'13'},{label:'Московское центральное кольцо',value:'4'},{label:'Некрасовская линия',value:'2'},{label:'МЦД-1',value:'3'},{label:'МЦД-2',value:'1'}]});watcher(selectLine.value,setSelectedStationsFromLine);selectLine.addEventListener('change',function(){if(!initLine){setSelectedStationsFromLine(selectLine.value[0]);initLine=true;}watcher(selectLine.value,setSelectedStationsFromLine);});selectLine.addEventListener('reset',function(){let ids=[];selLinesId.forEach((id)=>{ids.push(id);});ids.forEach((id)=>{aroundLine=true;setSelectedStationsFromLine(id);});aroundLine=false;});}if(svgImage&&svgContainer){let allStations=svgImage.querySelectorAll('.metro-map-stations .metro-map-stations-group .metro-map-stations-group-item');if(allStations&&params!==null){let paramsArray=params.split(',');let value=selectStation.value;allStations.forEach((station)=>{paramsArray.forEach((param)=>{if(station.getAttribute('data-metro-station')===param){value.push(`${param}`);selectStation.setValue(value);initStation=true;}});});}}const svgZoomIn=document.querySelector('.metro-zoomIn');const svgZoomOut=document.querySelector('.metro-zoomOut');if(svgImage&&svgContainer){let startPoint={x:0,y:0};let endPoint={x:0,y:0};let isPortrait=window.innerWidth>window.innerHeight;let scale=1;let metro__params={x:136+547+(730/2),y:38+612+(730/2),container_w:svgContainer.offsetWidth/2,container_h:svgContainer.offsetHeight/2};let svgSize={w:svgImage.clientWidth,h:svgImage.clientHeight};let viewBox={x:metro__params.x-metro__params.container_w,y:metro__params.y-metro__params.container_h,w:svgSize.w,h:svgSize.h};scale=svgSize.w/viewBox.w;setTransform(viewBox);const targetScale=isPortrait?0.75:0.5;while(scale>targetScale)calculateZoom(-1,true,null);svgContainer.addEventListener('mousewheel',function(event){event.preventDefault();if(event.deltaY<0)if(scale<=2)calculateZoom(-1,false,event);if(event.deltaY>0)if(scale>=0.3)calculateZoom(-1,false,event);},{passive:false});svgContainer.addEventListener('mousedown',mtDown);svgContainer.addEventListener('touchstart',mtDown);svgContainer.addEventListener('mousemove',function(event){requestAnimationFrame(()=>moveMap(event));},{passive:false});svgContainer.addEventListener('touchmove',function(event){requestAnimationFrame(()=>moveMap(event));},{passive:false});svgContainer.addEventListener('mouseup',mtUp);svgContainer.addEventListener('touchend',mtUp);svgContainer.addEventListener('mouseleave',function(){svgContainer.style['cursor']='default';isPanning=false;});function mtDown(event){click=true;isPanning=true;if(event.type==='touchstart')if(event.touches.length<2)startPoint={x:event.touches[0].pageX,y:event.touches[0].pageY};else event.preventDefault();else startPoint={x:event.x,y:event.y};}function mtUp(event){click=false;if(event.type==='touchend'){if(isPanning){endPoint={x:event.changedTouches[0].pageX,y:event.changedTouches[0].pageY};let dx=(startPoint.x-endPoint.x)/scale;let dy=(startPoint.y-endPoint.y)/scale;viewBox={x:viewBox.x+dx,y:viewBox.y+dy,w:viewBox.w,h:viewBox.h};setTransform(viewBox);isPanning=false;}}else{if(isPanning){endPoint={x:event.x,y:event.y};let dx=(startPoint.x-endPoint.x)/scale;let dy=(startPoint.y-endPoint.y)/scale;viewBox={x:viewBox.x+dx,y:viewBox.y+dy,w:viewBox.w,h:viewBox.h};setTransform(viewBox);isPanning=false;}}}function moveMap(event){event.preventDefault();if(click)drag=true;else{if(!click)drag=false;}if(event.type==='touchmove'){if(isPanning&&drag){endPoint={x:event.touches[0].pageX,y:event.touches[0].pageY};let dx=(startPoint.x-endPoint.x)/scale;let dy=(startPoint.y-endPoint.y)/scale;let movedViewBox={x:viewBox.x+dx,y:viewBox.y+dy,w:viewBox.w,h:viewBox.h};setTransform(movedViewBox);}}else{if(isPanning&&drag){endPoint={x:event.x,y:event.y};let dx=(startPoint.x-endPoint.x)/scale;let dy=(startPoint.y-endPoint.y)/scale;let movedViewBox={x:viewBox.x+dx,y:viewBox.y+dy,w:viewBox.w,h:viewBox.h};setTransform(movedViewBox);}}}if(svgZoomIn&&svgZoomOut){svgZoomIn.addEventListener('click',function(){if(scale<=2)calculateZoom(1,true);});svgZoomOut.addEventListener('click',function(){if(scale>=0.3)calculateZoom(-1,true);});}function calculateZoom(direction,button,event){let w=viewBox.w;let h=viewBox.h;let mx=button===true?svgContainer.getBoundingClientRect().width/2:event.offsetX;let my=button===true?svgContainer.getBoundingClientRect().height/2:event.offsetY;let dw=button===true?w*direction*0.1:w*Math.sign(event.deltaY)*direction*0.1;let dh=button===true?h*direction*0.1:h*Math.sign(event.deltaY)*direction*0.1;let dx=(dw*mx)/svgSize.w;let dy=(dh*my)/svgSize.h;viewBox={x:viewBox.x+dx,y:viewBox.y+dy,w:viewBox.w-dw,h:viewBox.h-dh};scale=svgSize.w/viewBox.w;setTransform(viewBox);}function setTransform(viewBox){svgImage.setAttribute('viewBox',`${viewBox.x} ${viewBox.y} ${viewBox.w} ${viewBox.h}`);}}function getStationName(stationNameText){let text='';stationNameText.forEach((el)=>{const tspans=Array.from(el.querySelectorAll('tspan'))||null;if(tspans!==null)tspans.forEach((tspan)=>{let tspanText=tspan.textContent;if(!tspanText.includes('-'))tspanText+=' ';text+=tspanText;});});return text.trim();}function watcher(arr,fn){arr.push=function(){fn(arguments[0]);return Array.prototype.push.apply(this,arguments);};arr.splice=function(){fn(arr[arguments[0]]);return Array.prototype.splice.apply(this,arguments);};}let selectedInit=false;function setSelectedStation(id){if(id===null||id===undefined)return;let station=svgImage.querySelector(`.metro-map-stations .metro-map-stations-group .metro-map-stations-group-item[data-metro-station='${id}']`);let stationName=station.querySelectorAll('.metro-map-stations-group-item-text');let stationStops=svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${id}']`);let name;if(station)if(selStationsId.indexOf(id)!==-1){station.classList.remove('metro-map-stations-group-item-active');if(stationName.length>0){station.classList.remove('metro-map-stations-group-item-active');name=getStationName(stationName);selStationsId.splice(selStationsId.indexOf(id),1);}stationStops.forEach((stop)=>{stop.classList.remove('metro-map-stop-active');});if(!around)if(selStationsText.indexOf(name)!==-1)selStationsText.splice(selStationsText.indexOf(name),1);if(!around&&stationName){let spliceID=selectFilterArray.findIndex((station)=>station.id===String(id));selectFilterArray.splice(spliceID,1);let selectFilter=document.querySelector('#filter-main select[name="metro"]');let selectFilterChilder=Array.from(selectFilter.children);selectFilterChilder.forEach((item)=>{selectFilter.removeChild(item);});selectFilterArray.forEach((option)=>{selectFilter.append(new Option(option.title,option.id,true,true));});filterUtilities.changeClearContent('metro',false);let bbsiDI=document.querySelector('.bottombox .select-item div[data-id="'+id+'"]');if(bbsiDI)bbsiDI.remove();}}else{station.classList.add('metro-map-stations-group-item-active');if(stationName.length>0){station.classList.add('metro-map-stations-group-item-active');name=getStationName(stationName);}stationStops.forEach((stop)=>{stop.classList.add('metro-map-stop-active');});if(!around){if(selStationsText.indexOf(name)===-1)selStationsText.push(name);selStationsId.push(id);}if(!around&&stationName){selectFilterArray.push({title:name,id:String(id)});let selectFilter=document.querySelector('#filter-main select[name="metro"]');let selectFilterChilder=Array.from(selectFilter.children);selectFilterChilder.forEach((item)=>{selectFilter.removeChild(item);});selectFilterArray.forEach((option)=>{selectFilter.append(new Option(option.title,option.id,true,true));});filterUtilities.changeClearContent('metro',true);let bb_si=document.querySelector('.bottombox .select-item');if(bb_si){let item=document.createElement('div');item.classList.add('item');item.setAttribute('data-id',id);item.setAttribute('data-type','metro');item.innerHTML='Метро '+name+"<span></span>";bb_si.append(item);}}}let bbsMl=document.querySelectorAll('.bottombox .select-item [data-type="metro"]').length;if(bbsMl>=1){let ffDG=document.querySelector('.filter-field[data-type="district-gorod"]');if(ffDG)ffDG.classList.add('selected1');let modalContentUlLiMetro=document.querySelector('.modal-content ul li.metro');if(modalContentUlLiMetro)modalContentUlLiMetro.classList.add('selected');}else{let ffDG=document.querySelector('.filter-field[data-type="district-gorod"]');if(ffDG)ffDG.classList.remove('selected1');let modalContentUlLiMetro=document.querySelector('.modal-content ul li.metro');if(modalContentUlLiMetro)modalContentUlLiMetro.classList.remove('selected');}if(selectedInit){let ffDGsc=document.querySelector('.filter-field[data-type="district-gorod"] span.count');if(ffDGsc){let bbsiM=document.querySelectorAll('.bottombox .select-item [data-type="metro"]').length;let bbsiDG=document.querySelectorAll('.bottombox .select-item [data-type="districtgorod"]').length;ffDGsc.textContent=String(bbsiM+bbsiDG);}}let select_items=document.querySelectorAll('.bottombox .select-item .item[data-type="metro"] span');select_items.forEach((item)=>{if(!item.classList.contains('inited')){item.classList.add('inited');item.addEventListener('click',function(){let id=this.parentNode.getAttribute('data-id');setSelectedStation(id);let filteredArray=[];select_items.forEach((item)=>{let selId=item.parentNode.getAttribute('data-id');if(id!==selId)filteredArray.push(selId);});selectStation.setValue(filteredArray||[]);homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});}});}function setSelectedStationsFromLine(id){let line=svgImage.querySelector(`.metro-map-lines .metro-map-lines-item[data-metro-line='${id}']`)||null;if(line===null)return;let lineLabels=line.querySelectorAll('.metro-map-lines-item-label');let lineStations=svgImage.querySelectorAll(`.metro-map-stations .metro-map-stations-group[data-line='${id}'] .metro-map-stations-group-item`);if(selLinesId.indexOf(id)!==-1){lineLabels.forEach((label)=>{label.classList.remove('metro-map-lines-item-label-active');});lineStations.forEach((station)=>{let stationId=Number(station.getAttribute('data-metro-station'));let stationName=Array.from(station.querySelectorAll('text'))||null;let stationStops=Array.from(svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${stationId}']`))||null;let name;if(stationName!==null){station.classList.remove('metro-map-stations-group-item-active');name=getStationName(stationName);let spliceID=selectFilterArray.findIndex((station)=>station.id===String(stationId));selectFilterArray.splice(spliceID,1);let selectFilter=document.querySelector('#filter-main select[name="metro"]');let selectFilterChilder=Array.from(selectFilter.children);selectFilterChilder.forEach((item)=>{selectFilter.removeChild(item);});selectFilterArray.forEach((option)=>{selectFilter.append(new Option(option.title,option.id,true,true));});let bbSi=document.querySelector('.bottombox .select-item');if(bbSi){let items=bbSi.querySelectorAll('.item');items.forEach((item)=>{if(selectFilterArray.indexOf(item.getAttribute('data-id'))===-1){let bbSiStation=bbSi.querySelector('div[data-id="'+stationId+'"]');if(bbSiStation)bbSiStation.remove();}});}}if(stationStops!==null)stationStops.forEach((stop)=>{stop.classList.remove('metro-map-stop-active');});if(selStationsId.indexOf(String(stationId))!==-1){let selectStationValue=selectStation.value;if(selStationsId.indexOf(String(stationId))!==-1){around=true;initStation=true;selectStationValue.splice(selectStationValue.indexOf(String(stationId)),1);selectStation.setValue(selectStationValue);filterUtilities.changeClearContent('metro',false);}if(selStationsId.indexOf(String(stationId))!==-1)selStationsId.splice(selStationsId.indexOf(String(stationId)),1);}if(selStationsText.indexOf(name)!==-1)selStationsText.splice(selStationsText.indexOf(name),1);});selLinesId.splice(selLinesId.indexOf(id),1);around=false;}else{lineLabels.forEach((label)=>{label.classList.add('metro-map-lines-item-label-active');});lineStations.forEach((station)=>{let stationId=Number(station.getAttribute('data-metro-station'));let stationName=Array.from(station.querySelectorAll('text'));let stationStops=svgImage.querySelectorAll(`.metro-map-stops .metro-map-stop[data-station='${stationId}']`);let name;if(stationName){station.classList.add('metro-map-stations-group-item-active');name=getStationName(stationName);let selectedName=selectFilterArray.find((option)=>option.id===String(stationId));if(selectFilterArray.indexOf(selectedName)===-1)selectFilterArray.push({title:name,id:String(stationId)});let selectFilter=document.querySelector('#filter-main select[name="metro"]');let selectFilterChilder=Array.from(selectFilter.children);selectFilterChilder.forEach((item)=>{selectFilter.removeChild(item);});selectFilterArray.forEach((option)=>{selectFilter.append(new Option(option.title,option.id,true,true));});let bbSi=document.querySelector('.bottombox .select-item');if(bbSi){let items=bbSi.querySelectorAll('.item');items.forEach((item)=>{if(selectFilterArray.indexOf(item.getAttribute('data-id'))===-1){let bbSiStation=bbSi.querySelector('div[data-id="'+stationId+'"]');if(bbSiStation)bbSiStation.remove();}});let content='Метро '+name;bbSi.append(filterUtilities.makeSelectedItem(stationId,'metro',content));}}stationStops.forEach((stop)=>{stop.classList.add('metro-map-stop-active');});if(selStationsId.indexOf(String(stationId))===-1){let selectStationValue=selectStation.value;if(selStationsId.indexOf(String(stationId))===-1){around=true;initStation=true;selectStationValue.push(String(stationId));selectStation.setValue(selectStationValue);filterUtilities.changeClearContent('metro',true);}selStationsId.push(String(stationId));}if(selStationsText.indexOf(name)===-1)selStationsText.push(name);});selLinesId.push(id);around=false;}let bbsMl=document.querySelectorAll('.bottombox .select-item [data-type="metro"]').length;if(bbsMl>=1){let ffDG=document.querySelector('.filter-field[data-type="district-gorod"]');if(ffDG)ffDG.classList.add('selected1');let modalContentUlLiMetro=document.querySelector('.modal-content ul li.metro');if(modalContentUlLiMetro)modalContentUlLiMetro.classList.add('selected');}else{let ffDG=document.querySelector('.filter-field[data-type="district-gorod"]');if(ffDG)ffDG.classList.remove('selected1');let modalContentUlLiMetro=document.querySelector('.modal-content ul li.metro');if(modalContentUlLiMetro)modalContentUlLiMetro.classList.remove('selected');}let ffDGC=document.querySelector('.filter-field[data-type="district-gorod"] span.count');if(ffDGC){let count=0;let bbsiM=document.querySelectorAll('.bottombox .select-item [data-type="metro"]').length;let bbsiDG=document.querySelectorAll('.bottombox .select-item [data-type="districtgorod"]').length;count=bbsiM+bbsiDG;ffDGC.textContent=count;}let select_items=document.querySelectorAll('.bottombox .select-item .item[data-type="metro"] span');select_items.forEach((item)=>{if(!item.classList.contains('inited')){item.classList.add('inited');item.addEventListener('click',function(){let id=this.parentNode.getAttribute('data-id');setSelectedStation(id);let filteredArray=[];select_items.forEach((item)=>{let selId=item.parentNode.getAttribute('data-id');if(id!==selId)filteredArray.push(selId);});selectStation.setValue(filteredArray||[]);homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});}});}const selectedMetro=document.querySelectorAll('.hide-select[name="metro"] option[selected]');const selectedMetroValue=[];selectedMetro.forEach((metro)=>{const id=parseInt(metro.getAttribute('value'));setSelectedStation(id);selectedMetroValue.push(id);});selectedInit=true;metro.querySelector('.select-metro__station').setValue(selectedMetroValue);}}homehunterEventListener('click','#filter-main','.more .select-btn',function(){let mobile_content=document.querySelector('.mobile__filter-content');if(this.classList.contains('active')){this.classList.remove('active');this.closest('.filter-field').classList.remove('active');let full_options=document.querySelector('.full-search-options');if(full_options)full_options.style.display='none';document.body.classList.remove('isMore');}else{this.classList.add('active');this.closest('.filter-field').classList.add('active');let full_options=document.querySelector('.full-search-options');if(full_options)full_options.style.display='flex';let full_categories=document.querySelectorAll('.full-search-category .blocktitle');full_categories.forEach((category)=>{let parent=category.parentNode;if(parent.classList.contains('hidden')){parent.classList.remove('hidden');category.classList.remove('active');let categoryParent=category.parentNode;categoryParent.style.maxHeight=categoryParent.scrollHeight+'px';setTimeout(()=>{categoryParent.style.overflow='visible';},350);}});document.body.classList.add('isMore');let tthis=this;setTimeout(function(){if(mobile_content)mobile_content.scrollTo({top:tthis.getBoundingClientRect().top-80,behavior:"smooth"});},100);}});homehunterEventListener('click','#filter-main .full-search-options','.full-search-category .blocktitle',function(){if(this.parentNode.classList.contains('hidden')){this.classList.remove('active');this.parentNode.classList.remove('hidden');this.parentNode.style.maxHeight=this.parentNode.scrollHeight+'px';setTimeout(()=>{this.parentNode.style.overflow='visible';},350);}else{this.classList.add('active');this.parentNode.classList.add('hidden');this.parentNode.style.overflow='hidden';this.parentNode.style.maxHeight=this.scrollHeight+'px';}});homehunterEventListener('click','#filter-main','.btn-search-full',function(){let filter_more=document.querySelector('.filter-field.more');if(filter_more)filter_more.classList.remove('active');let filter_more_select=document.querySelector('.filter-field.more .select-btn');if(filter_more_select)filter_more_select.classList.remove('active');let filter_more_select_count=document.querySelector('.filter-field.more .select-btn span.count');let count=0;if(filter_more_select_count)count=parseInt(filter_more_select_count.textContent);if(count===0&&filter_more)filter_more.classList.remove('selected1');let full_search_options=document.querySelector('.full-search-options');if(full_search_options)full_search_options.style.display='none';homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},500);});function clearAll(){document.querySelectorAll('.filter-field input').forEach(function(input){input.value='';});document.querySelectorAll('.filter-field input[data-maskjs="1"]').forEach((input)=>{input.dispatchEvent(new Event('reset'));});document.querySelectorAll('#filter-main .filter-field.number-list .list .i.disabled').forEach((item)=>{item.classList.remove('disabled');});document.querySelectorAll('#filter-main .filter-field.line-check .item.active').forEach((item)=>{item.classList.remove('active');});document.querySelectorAll('#filter-main .filter-field.selected1 .select-btn .count').forEach((item)=>{item.innerHTML='0';});document.querySelectorAll('#filter-main .filter-field.selected1').forEach((field)=>{field.classList.remove('selected1');});document.querySelectorAll('#locationmodal .header-box li.selected').forEach((item)=>{item.classList.remove('selected');});document.querySelectorAll('#filter-main select.hide-select').forEach((select)=>{select.innerHTML='';});document.querySelectorAll('#filter-main .filter-field:not(.select-dropdown) .select-btn > span.count').forEach((span)=>{span.innerHTML='0';});document.querySelectorAll('.localcontainerbox .item input').forEach((input)=>{input.checked=false;});document.querySelectorAll('.localcontainerbox .item input').forEach((input)=>{input.checked=false;});let locationModalParams=document.querySelector('#locationmodal .location-box .bottom-line .select-params');if(locationModalParams)locationModalParams.style.display='none';document.querySelectorAll('#filter-main .veryfastlink .item').forEach((item)=>{if(item.getAttribute('data-field')==='decor')item.classList.remove('active');else{item.classList.remove('disabled');item.classList.remove('active');}});document.querySelectorAll('.view-map .veryfastlink .item').forEach((item)=>{if(item.getAttribute('data-field')==='decor')item.classList.remove('active');else{item.classList.remove('disabled');item.classList.remove('active');}});let inputLegalstatus=document.querySelector('#filter-main input[name="legalstatus"]');if(inputLegalstatus)inputLegalstatus.value='';let inputTypevillage=document.querySelector('#filter-main input[name="typevillage"]');if(inputTypevillage)inputTypevillage.value='';let inputOrder=document.querySelector('#filter-main input[name="order"]');if(inputOrder)inputOrder.value='';let inputOrderBy=document.querySelector('#filter-main input[name="order-by"]');if(inputOrderBy)inputOrderBy.value='';document.querySelectorAll('#filter-main .filter-field.select-list .list .item input').forEach((item)=>{item.checked=false;});document.querySelectorAll('#filter-main .select-item .item').forEach(function(item){item.classList.add('hide');});if(document.body.classList.contains('view-map'))document.querySelectorAll('#content-wrap .select-item .item').forEach(function(item){item.classList.add('hide');});if(selectStation!==null)selectStation.reset();document.querySelectorAll('.item[data-type="metro"]').forEach((item)=>{item.remove();});let dataGorodCount=document.querySelector('[data-type="district-gorod"] .count');if(dataGorodCount)dataGorodCount.innerHTML='0';let dataGorod=document.querySelector('[data-type="district-gorod"]');if(dataGorod)dataGorod.classList.remove('selected1');filterUtilities.clearCleanerState();filterUtilities.clearPageTerm();homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);}homehunterEventListener('click','#filter-main','.clean',clearAll);homehunterEventListener('click','#content-wrap','.clean',clearAll);homehunterEventListener('click','.filter__modal','.clean',clearAll);homehunterEventListener('click','#filter-main','.filter__modal__clean',clearAll);homehunterEventListener('click','#content-wrap','.filter__modal__clean',clearAll);homehunterEventListener('click','.filter__modal','.filter__modal__clean',clearAll);homehunterEventListener('change','#filter-main','.select-list select',function(){let tid=this.options[this.selectedIndex].value;let name=this.options[this.selectedIndex].textContent;let vid=this.closest('.filter-field').dataset.type.replace('list','');if(tid)if(!document.querySelector('#filter-main select[name="'+vid+'"] option[value="'+tid+'"]')){document.querySelector('#filter-main select[name="'+vid+'"]').appendChild(filterUtilities.makeSelectedOption(tid,name));let content='ЖК '+name;document.querySelector('#filter-main .bottom-line .select-item').append(filterUtilities.makeSelectedItem(tid,'complex',content));}setTimeout(function(){filterUtilities.clearPageField();document.querySelector('#filter-main .cwsearch input[type="text"]').value='';document.querySelector('#filter-main .btn-search-full').click();},1);});homehunterEventListener('mouseup','#filter-main','.selectparams .item',function(){filterUtilities.clearPageField();this.remove();if(this.getAttribute('data-type')==='agency'){let agency_parent=document.querySelector('#filter-main .admin-line .filter-field[data-type="agency"]');if(agency_parent){agency_parent.classList.remove('selected1');let agency_item=agency_parent.querySelector('.item.active');let agency_count=agency_parent.querySelector('.count');if(agency_item)agency_item.classList.remove('active');if(agency_count)agency_count.textContent='0';}}let title=document.querySelector('h1');if(title)title.textContent='Элитные квартиры в Москве';let filterElement=document.querySelector('#filter-main');if(filterElement){let parent=filterElement.getAttribute('data-parent');if(parent)window.history.replaceState({},'',parent);}setTimeout(function(){homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);},100);let bredcrumbs=document.querySelector('.breadcrumbs');if(bredcrumbs)bredcrumbs.innerHTML='<li><a href="/" itemprop="url"><span itemprop="title">Главная</span></a></li><li><a href="/moscow/flats/sale" itemprop="url"><span itemprop="title">Элитные квартиры</span></a></li>';let header_info=document.querySelector('.node-type-agency .header-info');if(header_info){header_info.style.display='none';header_info.after('<h1>Элитные квартиры в Москве</h1>');setTimeout(function(){header_info.remove();},500);}});homehunterEventListener('mouseup','#content-wrap','.veryfastlink .item',function(){filterUtilities.clearPageField();let field=this.getAttribute('data-field');let type=this.getAttribute('data-type');let id=this.getAttribute('data-id');if(this.classList.contains('active'))this.classList.remove('active');else this.classList.add('active');if(field&&field==='villageclass'){let fastlink_class=document.querySelector('.veryfastlink .item[data-field="villageclass"]');if(fastlink_class){fastlink_class.classList.remove('active');fastlink_class.classList.add('disabled');this.classList.remove('disabled');this.classList.add('active');}}if(document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active').length>0)if(field!=='decor'&&field!=='subtype'){let ids=Array.from(document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active'));let new_ids=ids.map((value)=>{return value.getAttribute('data-id');}).join(',');let input=document.querySelector('input[name="'+field+'"]');if(input)input.value=new_ids;}else if(field==='subtype'){document.querySelectorAll('#filter-main .filter-field[data-type="'+field+'"] .item.active').forEach(function(element){element.classList.remove('active');});document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active').forEach(function(element){let id=element.dataset.id;document.querySelector('#filter-main .filter-field[data-type="'+field+'"] .item[data-val="'+id+'"]').classList.add('active');});if(document.querySelectorAll('.veryfastlink .item[data-field="'+field+'"].active').length>=2)document.querySelectorAll('.veryfastlink .item[data-field="'+field+'"].active').forEach(function(element){element.classList.remove('active');});}else{document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item.active input').forEach(function(input){input.checked=false;});document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item.active').forEach(function(item){item.classList.remove('active');});document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active').forEach(function(activeItem){const id=activeItem.getAttribute('data-id');document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item[data-val="'+id+'"]').forEach(function(item){item.classList.add('active');item.querySelector('input').checked=true;});});let filterElement=document.querySelector('#filter-main');if(filterElement){let parent=filterElement.getAttribute('data-parent');if(parent)window.history.replaceState({},'',parent);}}else if(field==='subtype'){let fm_ff_i=document.querySelector('#filter-main .filter-field[data-type="subtype"] .item[data-val="'+id+'"]');let event=new Event('click');fm_ff_i.dispatchEvent(event);}else if(field!=='decor'){if(document.querySelector('input[name="'+field+'"]'))document.querySelector('input[name="'+field+'"]').value='';}else{let fm__ff_dtd__l=document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item.active input');fm__ff_dtd__l.forEach((item)=>{item.checked=false;});let fm__ff_dtd=document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item.active');fm__ff_dtd.forEach((item)=>{item.classList.remove('active');});}homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});homehunterEventListener('mouseup','#filter-main','.veryfastlink .item',function(){filterUtilities.clearPageField();let field=this.getAttribute('data-field');let type=this.getAttribute('data-type');if(this.classList.contains('active'))this.classList.remove('active');else this.classList.add('active');if(field&&field==='villageclass'){let fastlink_class=document.querySelector('.veryfastlink .item[data-field="villageclass"]');if(fastlink_class){fastlink_class.classList.remove('active');fastlink_class.classList.add('disabled');this.classList.remove('disabled');this.classList.add('active');}}if(type)if(document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active').length)if(field!=='decor'&&field!=='subtype'){let ids=document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active');let new_ids=Array.from(ids).map((value)=>{return value.getAttribute('data-id');}).join(',');let input=document.querySelector('input[name="'+field+'"]');if(input)input.value=new_ids;}else if(field==='subtype'){document.querySelectorAll('#filter-main .filter-field[data-type="'+field+'"] .item.active').forEach(function(element){element.classList.remove('active');});document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active').forEach(function(element){let id=element.dataset.id;document.querySelector('#filter-main .filter-field[data-type="'+field+'"] .item[data-val="'+id+'"]').classList.add('active');});if(document.querySelectorAll('.veryfastlink .item[data-field="'+field+'"].active').length>=2)document.querySelectorAll('.veryfastlink .item[data-field="'+field+'"].active').forEach(function(element){element.classList.remove('active');});}else{document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item.active input').forEach(function(input){input.checked=false;});document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item.active').forEach(function(item){item.classList.remove('active');});document.querySelectorAll('.veryfastlink .item[data-type="'+type+'"].active').forEach(function(activeItem){const id=activeItem.getAttribute('data-id');document.querySelectorAll('#filter-main .filter-field[data-type="decor"] .list .item[data-val="'+id+'"]').forEach(function(item){item.classList.add('active');item.querySelector('input').checked=true;});});let filterElement=document.querySelector('#filter-main');if(filterElement){let parent=filterElement.getAttribute('data-parent');if(parent)window.history.replaceState({},'',parent);}}else if(field!=='decor'){let inf=document.querySelector('input[name="'+field+'"]');if(inf)inf.value='';}else{let ffdtd_l_ia_i=document.querySelector('#filter-main .filter-field[data-type="decor"] .list .item.active input');if(ffdtd_l_ia_i)ffdtd_l_ia_i.checked=false;let ffdtd_l_ia=document.querySelector('#filter-main .filter-field[data-type="decor"] .list .item.active');if(ffdtd_l_ia)ffdtd_l_ia.classList.remove('active');let filterElement=document.querySelector('#filter-main');if(filterElement){let parent=filterElement.getAttribute('data-parent');if(parent)window.history.replaceState({},'',parent);}}homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});fullOptionsCount();function fullOptionsCount(){setTimeout(function(){let filter_line_item=Array.from(document.querySelectorAll('#filter-main .full-search-options .filter-field.line-check .item.active'));let filter_number_item=document.querySelectorAll('#filter-main .full-search-options .filter-field.number-list input');let count=0;if(filter_line_item)count+=filter_line_item.length;if(filter_number_item)count+=Array.from(filter_number_item).filter((input)=>{return !!input.value;}).length;let btn__more=document.querySelector('#filter-main .filter-field.more');if(btn__more)(count>0)?btn__more.classList.add('selected1'):btn__more.classList.remove('selected1');},100);}homehunterEventListener('click','#filter-main','.full-search-options .item',fullOptionsCount);homehunterEventListener('click','#filter-main','.full-search-options input',fullOptionsCount);homehunterEventListener('change','#filter-main','.full-search-options .item',fullOptionsCount);homehunterEventListener('change','#filter-main','.full-search-options input',fullOptionsCount);homehunterEventListener('mouseup','#filter-main','.select-list.line-check .select-btn',function(){filterUtilities.clearPageField();let box=this.closest('.line-check');if(!box)return;let timer=null;let type=box.getAttribute('data-type');box.classList.toggle('active');if(box.classList.contains('active')){let select_lines=document.querySelectorAll('.select-list.line-check:not([data-type="'+type+'"])');select_lines.forEach((select_line)=>select_line.classList.remove('active'));let select_line_lists=document.querySelectorAll('.select-list.line-check:not([data-type="'+type+'"]) .list');select_line_lists.forEach((select_line_list)=>select_line_list.classList.remove('active'));box.querySelector('.list').style.display='block';setTimeout(function(){box.querySelector('.list').classList.add('active');},1);if(timer)clearTimeout(timer);}else{box.querySelector('.list').classList.remove('active');timer=setTimeout(function(){box.querySelector('.list').style.display='none';},350);}});homehunterEventListener('click','#filter-main','.line-check .item',function(){filterUtilities.clearPageField();if(this.classList.contains('active')){this.classList.remove('active');let input=this.querySelector('input[type="checkbox"]');if(input)input.checked=false;filterUtilities.clearPageTerm();}else{this.classList.add('active');let input=this.querySelector('input[type="checkbox"]');if(input)input.checked=true;}let t=this;let field=this.closest('.filter-field').getAttribute('data-type');let box=this.closest('.filter-field');if(field==='decor'){if(t.getAttribute('data-parent')){let decor_parent=this.getAttribute('data-parent');if(this.classList.contains('active')){let current_parent=box.querySelector('.item[data-val="'+decor_parent+'"]');if(current_parent){current_parent.classList.add('active');let current_parent_input=current_parent.querySelector('input');if(current_parent_input)current_parent_input.checked=true;}}}let b2l_vfl_id=document.querySelectorAll('.bottom2-line .veryfastlink .item[data-field="decor"]');b2l_vfl_id.forEach((item)=>item.classList.remove('active'));let ff=this.closest('.filter-field');if(ff.querySelectorAll('.item.active:not([data-parent])').length===1){let item_dp=ff.querySelector('.item.active:not([data-parent])').getAttribute('data-val');if(!item_dp)return;let item=document.querySelector('.bottom2-line .veryfastlink .item[data-field="decor"][data-id="'+item_dp+'"]');if(item)item.classList.add('active');}}if(field==='rooms'){let field=document.querySelector('.filter-field[data-type="rooms"] .checktype .type.active');if(!field)return;let field__field=field.getAttribute('data-field');if(!field__field)return;let label='Комнат ';if(field__field==='bedrooms'){let input__roomchoose=document.querySelector('input[name="roomchoose"]');if(input__roomchoose)input__roomchoose.value=field__field;label='Спален ';}else{let input__roomchoose=document.querySelector('input[name="roomchoose"]');if(input__roomchoose)input__roomchoose.value='';}let fm_bl_si_i_p=document.querySelectorAll('#filter-main .bottom-line .select-item .item[data-type="rooms"] p');fm_bl_si_i_p.forEach((input)=>{input.textContent=label;});}if(box.classList.contains('select-list')){let btn=box.querySelector('.select-btn');let count=box.querySelectorAll('.item.active').length;if(btn)if(count>0){box.classList.add('selected1');let btn_count=btn.querySelector('.count');if(btn_count)btn_count.textContent=count;}else{let btn_count=btn.querySelector('.count');if(btn_count)btn_count.textContent='0';box.classList.remove('selected1');}}setTimeout(function(){homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);},300);});homehunterEventListener('mouseup','#filter-main','.list .i:not(.disabled)',function(){filterUtilities.clearPageField();let is=this.closest('.list').querySelectorAll('.i');is.forEach((i)=>{i.classList.remove('active');});this.classList.add('active');let value=this.getAttribute('data-val');let valueInput=this.parentNode.parentNode.querySelector('input');if(valueInput)valueInput.value=value;let field=this.parentNode.parentNode;if(field.classList.contains('from')){value=parseInt(value+' '.replace(/\s+/g,''));let to=parseInt(field.parentNode.querySelector('.to input').value+' '.replace(/\s+/g,''));if(to>'0'&&value>to)field.parentNode.querySelector('.to input').value=this.getAttribute('data-val');let list=this.closest('.filter-field').querySelectorAll('.to .list .i');list.forEach((i)=>{i.classList.remove('disabled');if(parseInt(this.getAttribute('data-val'))<=value)this.classList.add('disabled');});}homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});homehunterEventListener('click','#filter-main','.currency .item:not(.active)',function(){let filter_main_page=document.querySelector('#filter-main input[name="page"]');if(filter_main_page)filter_main_page.value='';let val=this.getAttribute('data-cy');let currency__items=document.querySelectorAll('.currency .item');currency__items.forEach((item)=>item.classList.remove('active'));this.classList.add('active');setCurrency('currency',val,'filter');if(val==='rub')val=null;let input_curency=document.querySelector('#filter-main input[name="currency"]');if(input_curency)input_curency.value=val;let update=false;let filter_price_inputs=document.querySelectorAll('#filter-main .filter-field[data-type="price"] input');filter_price_inputs.forEach((input)=>{if(input.value)update=true;});if(update)homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});homehunterEventListener('clickUpdate','#filter-main','.currency .item',function(){let val=this.getAttribute('data-cy');if(val==='rub')val=null;let update=false;let priceInputs=document.querySelectorAll('#filter-main .filter-field[data-type="price"] input');priceInputs.forEach((input)=>{if(input.value.length>0)update=true;});});homehunterEventListener('mouseup','#filter-main','.filter-field[data-type="rooms"] .checktype .type:not(.active)',function(){let filter_main_page=document.querySelector('#filter-main input[name="page"]');if(filter_main_page)filter_main_page.value='';let filter__rooms__type=document.querySelectorAll('.filter-field[data-type="rooms"] .checktype .type');filter__rooms__type.forEach((type)=>type.classList.remove('active'));this.classList.add('active');if(document.querySelectorAll('.filter-field[data-type="rooms"] .content-field .item.active').length===0)return;let input_roomchoose=document.querySelector('input[name="roomchoose"]');let field=this.getAttribute('data-field');let label='Комнат ';if(input_roomchoose)if(field==='bedrooms'){input_roomchoose.value=field;label='Спален ';}else input_roomchoose.value='';let filter_room_tags=document.querySelectorAll('#filter-main .bottom-line .select-item .item[data-type="rooms"] p');filter_room_tags.forEach((tag)=>tag.textContent=label);if(this.closest('.filter-field').querySelector('.content-field .item.active'))homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});homehunterEventListener('focusout','#filter-main','.filter-field input:not([type="search"]):not(.vscomp-hidden-input):not(.vscomp-search-input)',function(){let filter_main_page=document.querySelector('#filter-main input[name="page"]');if(filter_main_page)filter_main_page.value='';if(!this.getAttribute('data-val')&&!this.value)return;let value=null;let to=null;if(this.value)value=parseInt(this.value);if(this.value){value=parseInt(this.value.replace(/[^+\d]/g,'')+' ');if(this.closest('.filter-field').querySelector('.to input'))to=parseInt(this.closest('.filter-field').querySelector('.to input').value.replace(/[^+\d]/g,'')+' ');if(this.parentNode.classList.contains('from')&&to>'0'&&value>to)this.closest('.filter-field').querySelector('.to input').value=this.value;}if(this.getAttribute('data-val')&&this.value.replace(/\s+/g,'')===this.getAttribute('data-val'))return;this.setAttribute('data-val',this.value.replace(/\s+/g,''));homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});homehunterEventListener('mouseup','#filter-main','.filter-field[data-type="district-zagorod"] .select-btn',function(){locationModal();filterUtilities.locationModalCleaner=document.querySelector('#locationmodal .select-params');filterUtilities.clearAreaHighwayState();let inputs=document.querySelectorAll('.localcontainerbox .item:not(.main) input');inputs.forEach((input)=>{if(input.checked){let parent=input.closest('.localcontainerbox.listcheckbox');let parent__type=parent.getAttribute('data-container')||'';(parent__type==='highway')?filterUtilities.changeClearContent('highway',input.checked):filterUtilities.changeClearContent('area',input.checked);}});});homehunterEventListener('click','#filter-main','.full-filter-main-box .search-fast-boxes .btn-save',function(){let filter__select__active=document.querySelector('.filter-field .select-btn.active');if(filter__select__active)filter__select__active.classList.remove('active');let full_filter=document.querySelector('.full-filter-main-box');if(full_filter)full_filter.style.display='none';homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});},homehunterOptions.delay);});const viewElements=document.querySelectorAll('.header-main .view .line');function onClickView(event){const viewElement=event.target;if(viewElement.classList.contains('active'))return;let view=viewElement.dataset.type;if(view==='card'&&!document.body.classList.contains('page-cabinet'))view=null;if(view!=='map'){if(document.querySelector('#map-overview'))document.querySelector('#map-overview').classList.add('hide');if(document.querySelector('.header-main .sort'))document.querySelector('.header-main .sort').classList.remove('hide');if(document.querySelector('#pager-wrap'))document.querySelector('#pager-wrap').classList.remove('hide');}if(document.querySelector('.header-main .view .line.active'))document.querySelector('.header-main .view .line.active').classList.remove('active');viewElement.classList.add('active');if(document.querySelector('#filter-main input[name="view"]'))document.querySelector('#filter-main input[name="view"]').value=view;homehunterDelay(function(){homehunterFilter('counter',{'count':'','pager':'','page':'update','title':true,'view':'update'});},homehunterOptions.delay);}for(const viewElement of viewElements){viewElement.removeEventListener('click',onClickView);viewElement.addEventListener('click',onClickView);}homehunterEventListener('click','#content-wrap','.viewtype',function(){let type=this.getAttribute('data-type');if(type){let input=document.querySelector('input[name="view"]');if(input)input.value=type;homehunterDelay(function(){homehunterFilter('counter',{'count':'','pager':'','page':'update','title':true,'view':'update'});},homehunterOptions.delay);}});let build__toggler=document.querySelector('.header-main .build-choseen .select-btn')||null;if(build__toggler!==null)build__toggler.addEventListener('click',function(){this.parentNode.classList.toggle('active');});let build__items=document.querySelectorAll('.header-main .build-choseen input');build__items.forEach((item)=>{item.addEventListener('change',function(){homehunterDelay(function(){homehunterFilter('counter',{'count':'','pager':'','page':'update','title':true});},homehunterOptions.delay);});});homehunterEventListener('click','#filter-main .cwsearch','.search-result .line[data-sid]',function(){if(event.target.getAttribute('href'))return;function mapComplexZoom(name){let objects=window.homehunterMapObjectManager.objects.getAll();let pointReturn='';objects.forEach((point)=>{if(point.properties.name===name||point.properties.name.includes(name)){pointReturn=point;window.homehunterMap.setCenter(point.geometry.coordinates,16);}});return pointReturn;}let sid=this.getAttribute('data-sid');let vid=this.getAttribute('data-vid');let filter__clean=document.querySelector('#filter-main .clean');if(!vid){vid='object';if(filter__clean)filter__clean.dispatchEvent(new Event('click'));}if(!this.textContent)return;if(!sid)return;if(vid==='district'){let table__element=document.querySelector('.table[data-type="'+vid+'"] li[data-tid="'+sid+'"]');if(table__element)table__element.click();}else{if(vid==='districtgorod'){let location__input=document.querySelector('.localcontainerbox[data-container="districtgorod"] .column .item[data-tid="'+sid+'"] input');if(location__input)location__input.click();}if(!document.querySelector('#filter-main select[name="'+vid+'"] option[value="'+sid+'"]')){let filter__select=document.querySelector('#filter-main select[name="'+vid+'"]');if(filter__select)filter__select.append(filterUtilities.makeSelectedOption(sid,this.textContent));let filter__tags=document.querySelector('#filter-main .bottom-line .select-item');if(filter__tags){let content=(this.querySelector('.type'))?this.querySelector('.type').textContent+' ':'';content+=(this.querySelector('.name'))?this.querySelector('.name').textContent:'';filter__tags.append(filterUtilities.makeSelectedItem(sid,undefined,content));}if(document.body.classList.contains('view-map')){let content__tags=document.querySelector('#content-wrap .select-item');if(content__tags){let content=(this.querySelector('.type'))?this.querySelector('.type').textContent+' ':'';content+=(this.querySelector('.name'))?this.querySelector('.name').textContent+' ':'';content__tags.append(filterUtilities.makeSelectedItem(sid,undefined,content));}if(vid==='complex'||vid==='village'){let nid=mapComplexZoom(this.querySelector('.name').textContent);let info={'type':'mapObjectInfo','nid':nid.properties.nid};axios({method:'post',url:'/system/options',data:'data='+JSON.stringify(info)}).then(function(data){data=data.data;if(data){if(window.homehunterMapObjectManager.objects._objectsById)Object.keys(window.homehunterMapObjectManager.objects._objectsById).forEach((index)=>{let pointObj=window.homehunterMapObjectManager.objects._objectsById[index];if(pointObj.options.preset==='nofilter')return;window.homehunterMapObjectManager.objects.setObjectOptions(pointObj.id,{preset:'nofilter'});});window.homehunterMapObjectManager.objects.setObjectOptions(nid.id,{preset:(data.new)?'new':'default'});let map_apart=document.querySelector('.map-apart');if(map_apart)if(map_apart.classList.contains('map-apart__hide')){map_apart.classList.remove('map-apart__hide');map_apart.style.width='640px';let apart_toggle=document.querySelector('.apart-toggle');if(apart_toggle)apart_toggle.classList.add('active');let map_card=document.querySelector('.map-card');if(map_card)map_card.style.width='calc(100% - 640px)';let widget=document.querySelector('.widget');if(widget)widget.style.right='640px';let cw_vdtc=document.querySelector('#content-wrap .viewtype[data-type="card"]');if(cw_vdtc)cw_vdtc.classList.remove('full');setTimeout(function(){window.homehunterMap.container.fitToViewport();},300);}let fm_mad_ab=document.querySelector('.filter-map .map-apart.default .apart-back');if(fm_mad_ab){fm_mad_ab.style.display='flex';let am=document.createElement('div');am.classList.add('apart-mainLot');am.innerHTML=data.complex;}let ma_am=document.querySelector('.map-apart .apart-mainLot');if(ma_am)ma_am.remove();let ma_ao=document.querySelector('.map-apart .apart-otherLots');if(ma_ao)ma_ao.style.display='block';let ma_ao_ob=document.querySelector('.map-apart .apart-otherLots .other-blocks');if(ma_ao_ob)ma_ao_ob.innerHTML=data.property;let ma_lm=document.querySelector('.map-apart .load-more');if(ma_lm)ma_lm.style.display='none';let ma_p=document.querySelector('.map-apart .pagination');if(ma_p)ma_p.style.display='none';lightSwiper();clusterToggle();shareInit();tooltip();initTableViewPlans();copyLinkIdl();complexToggler();let currency_key=document.body.getAttribute('data-currency');let cy_val={'rub':'₽','usd':'$','eur':'€'};cy_val=cy_val[currency_key];let pb_n=document.querySelectorAll('.price-box .num');pb_n.forEach((num)=>{num.innerHTML=num.getAttribute('data-'+currency_key);num.parentNode.querySelector('.cu .s').innerHTML=cy_val;});if(ma_am)ma_am.setAttribute('data-nid',nid.properties.nid);const search__results=document.querySelectorAll('.search-result');search__results.forEach((result)=>result.innerHTML='');document.body.classList.remove('actives-search');homehunterFilter('counter',{'map_coord':true});}});}}}}setTimeout(function(){let input__page=document.querySelector('#filter-main input[name="page"]');if(input__page){input__page.value='';input__page.dispatchEvent(new Event('clear'));}let input__cwsearch=document.querySelector('#filter-main .cwsearch input[type="text"]');if(input__cwsearch){input__cwsearch.value='';input__cwsearch.dispatchEvent(new Event('clear'));}if(!document.body.classList.contains('view-map')){let filter__save=document.querySelector('#filter-main .btn-search-full');if(filter__save)filter__save.click();}},100);});function removeResult(){let id=this.getAttribute('data-id')||'';let type=this.getAttribute('data-type');if(type){let inputs=document.querySelectorAll('.filter-field[data-type="'+type.split('-')[0]+'"] input');inputs.forEach((input)=>{let event=new Event('updateMask');input.dispatchEvent(event);});}if(id!=='')if(document.querySelector('#filter-main select.hide-select option[value="'+id+'"]')){this.remove();let option=document.querySelector('#filter-main select.hide-select option[value="'+id+'"]');if(option)option.remove();let location__input=document.querySelector('.localcontainerbox .item[data-tid="'+id+'"] input');if(location__input&&location__input.checked)location__input.click();}else{if(id)if(this.getAttribute('data-field')){let field=this.getAttribute('data-field');let type=this.getAttribute('data-type');if(!field&&!type)return;let filter__field=document.querySelector('.filter-field[data-type="'+type+'"] .item[data-val="'+id+'"]');if(!filter__field)return;if(field==='checklist'){filter__field.click();filter__field.classList.remove('active');}else{if(field==='select'){filter__field.classList.remove('active');filter__field.classList.remove('active');let filter__field__input=document.querySelector('.filter-field[data-type="'+type+'"] .item[data-val="'+id+'"] input');if(filter__field__input)filter__field__input.checked=false;let event=new Event('mousedown');filter__field.dispatchEvent(event);}}if(document.querySelectorAll('.filter-field[data-type="'+type+'"] .list .item.active').length===0)document.querySelector('.filter-field[data-type="'+type+'"]').classList.remove('selected1');}else{const filterFields=document.querySelectorAll("#filter-main .filter-field.active");filterFields.forEach(function(filterField){const value=filterField.dataset.select;let count=null;value.forEach(function(val){val.forEach(function(v){const index=v.indexOf(id.toString());if(index>-1)v.splice(index,1);count=v.length;});});filterField.dataset.select=JSON.stringify(value);const countElement=filterField.querySelector("span.count");countElement.textContent=count;});}}else{let field=this.getAttribute('data-field');let type=this.getAttribute('data-type');if(!field&&!type)return;if(field==='checkbox'){let filter__field=document.querySelector('.filter-field[data-type="'+type+'"] .item');if(filter__field)filter__field.classList.remove('active');}else{if(field==='input')if(type.search('-')!==-1){type=type.split('-');let filter__field=document.querySelector('.filter-field[data-type="'+type[0]+'"] .'+type[1]+' input');if(filter__field)filter__field.value='';}else{let filter__field=document.querySelector('.filter-field[data-type="'+type+'"] input');if(filter__field)filter__field.value='';}}}this.classList.add('hide');filterUtilities.clearPageTerm();setTimeout(function(){let count=document.querySelectorAll('#filter-main .full-search-options .filter-field.line-check .item.active').length;count+=[...document.querySelectorAll('#filter-main .full-search-options .filter-field.number-list input')].filter(function(){return !!this.value;}).length;let counter=document.querySelector('#filter-main .filter-field.more span.count');if(counter)counter.textContent=count;if(count===0){let filter__more=document.querySelector('#filter-main .filter-field.more');if(filter__more)filter__more.classList.remove('selected1');}homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'','page':'update'});},homehunterOptions.delay);},150);}homehunterEventListener('click','#filter-main','.select-item .item',removeResult);homehunterEventListener('click','#content-wrap','.select-item .item',removeResult);homehunterEventListener('click','.header-main','.group:not(.active)',function(){this.classList.add('active');const group__input=document.querySelector('input[name="group"]');const group=group__input?group__input.value:null;const type=this.getAttribute('data-type');if(!type&&!group)return;if(group){if(group__input)group__input.value='';this.textContent=this.getAttribute('data-label-true');}else{if(group__input)group__input.value=type;this.textContent=this.getAttribute('data-label-false');}homehunterDelay(function(){homehunterFilter('counter',{'count':'update','pager':'new','page':'update','title':true});let header__group=document.querySelector('.header-main .group');if(header__group)header__group.classList.remove('active');},homehunterOptions.delay);});let sortToggler=document.querySelector('.header-main .sort .ft__sorting__toggler')||null;if(sortToggler!==null){let activeSort=document.querySelector('.header-main .sort .ft__sorting__key.active')||null;if(activeSort!==null)sortToggler.textContent=activeSort.textContent;}homehunterEventListener('click','.header-main .sort','.ft__sorting__toggler',function(){this.parentNode.classList.toggle('ft__sorting__open');});homehunterEventListener('click','.header-main .sort','.line:not(.active)',function(){let type=this.dataset.type;let order=this.getAttribute('data-order-by');let value=this.textContent;let toggler=this.closest('.ft__sorting').querySelector('.ft__sorting__toggler')||null;if(toggler!==null){toggler.textContent=value;let parent=this.closest('.ft__sorting')||null;if(parent!==null)parent.classList.remove('open');}if(!this.classList.contains('active')){let sorts=document.querySelectorAll('.header-main .sort .line');sorts.forEach((sort)=>sort.classList.remove('active'));this.classList.add('active');}let input__order=document.querySelector('#filter-main input[name="order"]');let input__order__by=document.querySelector('#filter-main input[name="order-by"]');let input__page=document.querySelector('#filter-main input[name="page"]');if(input__order)input__order.value=type;if(input__order__by)input__order__by.value=order;if(input__page)input__page.value='';homehunterDelay(function(){homehunterFilter('counter',{'count':'','pager':'','page':'update'});},homehunterOptions.delay);});document.body.addEventListener('click',function(e){if(!e.target.closest('.ft__sorting')){let sorting=document.querySelector('.ft__sorting');if(sorting)sorting.classList.remove('ft__sorting__open');}});let locationmodal_instance='';if(!document.body.classList.contains('front')){let modal=document.querySelector('#locationmodal');if(modal)locationmodal_instance=new Modal({id:'locationmodal',disableScroll:true});}homehunterEventListener('click','#filter-main','.cwsearch .cwsearch__trigger',function(){locationModal();filterUtilities.locationModalCleaner=document.querySelector('#locationmodal .select-params');filterUtilities.clearAreaHighwayState();let inputs=document.querySelectorAll('.localcontainerbox .item:not(.main) input');inputs.forEach((input)=>{if(input.checked){let parent=input.closest('.localcontainerbox.listcheckbox');let parent__type=parent.getAttribute('data-container')||'';(parent__type==='highway')?filterUtilities.changeClearContent('highway',input.checked):filterUtilities.changeClearContent('area',input.checked);}});let type=this.getAttribute('data-type');if(type){let tabs=document.querySelectorAll('#locationmodal .header-box ul li[data-container]');let targetTab=document.querySelector('#locationmodal .header-box ul li[data-container="'+type+'"]');tabs.forEach((tab)=>{tab.classList.remove('active');if(tab===targetTab)tab.classList.add('active');});let containers=document.querySelectorAll('#locationmodal .location-box .localcontainerbox[data-container]');let targetContainer=document.querySelector('#locationmodal .location-box .localcontainerbox[data-container="'+type+'"]');containers.forEach((container)=>{container.classList.remove('active');if(container===targetContainer)container.classList.add('active');});let locationbox=document.querySelector('#locationmodal .location-box');if(locationbox)locationbox.setAttribute('data-active',type);if(type==='metro'){let localContainerBoxItem=document.querySelector('#locationmodal .localcontainerbox[data-container="'+type+'"]');if(!localContainerBoxItem){let search=document.querySelector('#locationmodal .locationsearch.active');if(search)search.classList.remove('active');let selectParams=document.querySelector('#locationmodal .select-params');if(selectParams)selectParams.classList.add('select-params-dark');let info={'type':'locationmodal','container':type};axios({method:'post',url:'/system/options',data:'data='+JSON.stringify(info)}).then(function(data){let locationBox=document.querySelector('#locationmodal .location-box');if(locationBox)locationBox.insertAdjacentHTML('beforeend',data.data);let containBox=document.querySelector('#locationmodal .localcontainerbox[data-container="metro"]');if(containBox)containBox.classList.add('active');metroInit();});}}}});homehunterEventListener('mouseup','#filter-main','.filter-field[data-type="district-gorod"] .select-btn',function(){locationModal();filterUtilities.locationModalCleaner=document.querySelector('#locationmodal .select-params');filterUtilities.clearAreaHighwayState();let inputs=document.querySelectorAll('.localcontainerbox .item:not(.main) input');inputs.forEach((input)=>{if(input.checked){let parent=input.closest('.localcontainerbox.listcheckbox');let parent__type=parent.getAttribute('data-container')||'';(parent__type==='highway')?filterUtilities.changeClearContent('highway',input.checked):filterUtilities.changeClearContent('area',input.checked);}});});let countLoaded=document.querySelectorAll('#filter-main .localcontainerbox .item[data-parent="alllocal"]').length;let countLoadedChecked=document.querySelectorAll('#filter-main .localcontainerbox .item[data-parent="alllocal"] input:checked').length;if(countLoaded===countLoadedChecked){let inputs=document.querySelectorAll('#filter-main .localcontainerbox .item.main[data-tid="alllocal"] input');inputs.forEach((input)=>input.checked=true);}function locationModal(){function translit(str){let angToRus={"q":"й","w":"ц","e":"у","r":"к","t":"е","y":"н","u":"г","i":"ш","o":"щ","p":"з","[":"х","{":"х","]":"ъ","}":"ъ","a":"ф","s":"ы","d":"в","f":"а","g":"п","h":"р","j":"о","k":"л","l":"д",";":"ж",":":"ж","'":"э",'"':"э","z":"я","x":"ч","c":"с","v":"м","b":"и","n":"т","m":"ь",",":"б","<":"б",".":"ю",">":"ю"};let string=str.toString().toLowerCase().split('');string.forEach((char,index)=>{if(/[a-zA-Z]|\[|\]|\{|\}|\\|\/|\.|\,|\<|\>|\'|\"|\;|\:/.test(char))string[index]=angToRus[char];});return string.join('');}let location=document.querySelector('#locationmodal');let locationSearch=document.querySelector('.locationsearch input');if(!location||!locationSearch)return;if(!locationSearch.classList.contains('inited')){locationSearch.classList.add('inited');locationSearch.addEventListener('input',function(){let locationWrapper=location.querySelector('.location-box');let locationActiveTab=locationWrapper.getAttribute('data-active');if(locationActiveTab==='districtgorod'||locationActiveTab==='highway'||locationActiveTab==='districtzagorod'){let tab=locationWrapper.querySelector('.localcontainerbox[data-container="'+locationActiveTab+'"]');if(!tab)return;let value=this.value;value=translit(value);let marks=tab.querySelectorAll('.item label span mark');marks.forEach((mark)=>{let parent=mark.parentNode;parent.insertBefore(mark.firstChild,mark);parent.removeChild(mark);});if(value==='')return;let re=new RegExp(value,'gim');let items=tab.querySelectorAll('.item label span');items.forEach((item)=>{item.innerHTML=item.innerHTML.replace(re,'<mark>$&</mark>');});}});}}function changeLocationTab(){let item=this.getAttribute('data-container');let locationBox=document.querySelector('#locationmodal .location-box');if(locationBox)locationBox.setAttribute('data-active',item);let headerList=document.querySelectorAll('#locationmodal .header-box ul li');if(headerList.length>0){headerList.forEach(function(headerItem){headerItem.classList.remove('active');});this.classList.add('active');}let localContainerBoxList=document.querySelectorAll('#locationmodal .localcontainerbox');if(localContainerBoxList.length>0)localContainerBoxList.forEach(function(localContainerBoxItem){localContainerBoxItem.classList.remove('active');});let containBox=document.querySelector('#locationmodal .localcontainerbox[data-container="'+item+'"]');if(containBox)containBox.classList.add('active');if(item==='districtgorod'||item==='highway'||item==='districtzagorod'){let locationSearch=document.querySelector('.locationsearch');if(locationSearch){let input=locationSearch.querySelector('.locationsearch__input');if(item==='districtgorod'||item==='districtzagorod')input.setAttribute('placeholder','Поиск по названию районов');else{if(item==='highway')input.setAttribute('placeholder','Поиск по названию шоссе');}input.value='';let event=new Event('input');input.dispatchEvent(event);locationSearch.classList.add('active');}}else{let locationSearch=document.querySelector('.locationsearch');if(locationSearch)locationSearch.classList.remove('active');}if(item!=='districtgorod'||item!=='highway'||item!=='districtzagorod'){let localContainerBoxItem=document.querySelector('#locationmodal .localcontainerbox[data-container="'+item+'"]');if(!localContainerBoxItem){let selectParams=document.querySelector('#locationmodal .select-params');if(selectParams)selectParams.classList.add('select-params-dark');let info={'type':'locationmodal','container':item};axios({method:'post',url:'/system/options',data:'data='+JSON.stringify(info)}).then(function(data){let locationBox=document.querySelector('#locationmodal .location-box');if(locationBox)locationBox.insertAdjacentHTML('beforeend',data.data);let containBox=document.querySelector('#locationmodal .localcontainerbox[data-container="metro"]');if(containBox)containBox.classList.add('active');metroInit();});}}}homehunterEventListener('click','#locationmodal .header-box ul','li:not(.active), #locationmodal .header-box ul li:not(.active)',changeLocationTab);homehunterEventListener('click','#filter__modal','.li:not(.active), #locationmodal .header-box ul li:not(.active)',changeLocationTab);homehunterEventListener('change','#filter-main','#locationmodal .localcontainerbox .item input',function(){let trigger=this.closest('.item');if(window.getComputedStyle(trigger).display==='none')return;let parent=this.closest('.localcontainerbox.listcheckbox');let parent__type=parent.getAttribute('data-container')||'';let trigger__id=trigger.getAttribute('data-tid');let trigger__type=trigger.getAttribute('data-type');let trigger__label=trigger.getAttribute('data-label');let trigger__is__checked=this.checked;let trigger__is__main=trigger.classList.contains('main');filterUtilities.clearPageTerm();if(trigger__is__main){let trigger__children=document.querySelectorAll('.column[data-tid="'+trigger__id+'"] .item[data-parent="'+trigger__id+'"] input');trigger__children.forEach((children)=>{if(children.checked===trigger__is__checked)return;if(window.getComputedStyle(children.closest('.item')).display==='none')return;children.checked=trigger__is__checked;children.dispatchEvent(new Event('change'));let child=children.closest('.item');let child__id=child.getAttribute('data-tid');let child__type=child.getAttribute('data-type');let child__name=(child.querySelector('label span'))?child.querySelector('label span').textContent:'';if(children.checked){let filter__tags=document.querySelector('#filter-main select[name="'+child__type+'"]');if(filter__tags)filter__tags.append(filterUtilities.makeSelectedOption(child__id,child__name));let select__tags=document.querySelector('.bottombox .select-item');if(select__tags){let content=(child__type==='highway')?'Шоссе '+child__name:'Район '+child__name;select__tags.prepend(filterUtilities.makeSelectedItem(child__id,(child__type==='highway')?'highway':'districtgorod',content));}(parent__type==='highway')?filterUtilities.changeClearContent('highway',children.checked):filterUtilities.changeClearContent('area',children.checked);}else{let filter__tags=document.querySelectorAll('#filter-main select[name="'+child__type+'"] option[value="'+child__id+'"]');filter__tags.forEach((tag)=>tag.remove());let select__tags=document.querySelectorAll('.bottombox .select-item .item[data-id="'+child__id+'"]');select__tags.forEach((tag)=>tag.remove());(parent__type==='highway')?filterUtilities.changeClearContent('highway',children.checked):filterUtilities.changeClearContent('area',children.checked);}});if(trigger__label)if(trigger__is__checked){let filter__tags=document.querySelector('#filter-main select[name="'+trigger__type+'"]');if(filter__tags)filter__tags.append(filterUtilities.makeSelectedOption(trigger__id,trigger__label));let select__tags=document.querySelector('.bottombox .select-item');if(select__tags){let content='Округ '+trigger__label;select__tags.prepend(filterUtilities.makeSelectedItem(trigger__id,'okrug',content));}}else{let filter__tags=document.querySelectorAll('#filter-main select[name="'+trigger__type+'"] option[value="'+trigger__id+'"]');filter__tags.forEach((tag)=>tag.remove());let select__tags=document.querySelectorAll('.bottombox .select-item .item[data-id="'+trigger__id+'"]');select__tags.forEach((tag)=>tag.remove());}}else if(parent__type==='districtzagorod'){let trigger__name=trigger.querySelector('label').textContent;filterUtilities.changeClearContent('area',trigger__is__checked);if(trigger__is__checked){let filter__tags=document.querySelector('#filter-main select[name="districtzagorod"]');if(filter__tags)filter__tags.append(filterUtilities.makeSelectedOption(trigger__id,trigger__name));let select__tags=document.querySelector('.bottombox .select-item');if(select__tags)select__tags.prepend(filterUtilities.makeSelectedItem(trigger__id,'districtzagorod',trigger__name));}else{let filter__tags=document.querySelectorAll('#filter-main select[name="districtzagorod"] option[value="'+trigger__id+'"]');filter__tags.forEach((tag)=>tag.remove());let select__tags=document.querySelectorAll('.bottombox .select-item .item[data-id="'+trigger__id+'"]');select__tags.forEach((tag)=>tag.remove());}}else{let trigger__parent=trigger.getAttribute('data-parent');let trigger__name=trigger.querySelector('label').textContent;(parent__type==='highway')?filterUtilities.changeClearContent('highway',trigger__is__checked):filterUtilities.changeClearContent('area',trigger__is__checked);let parent__item=document.querySelector('.column[data-tid="'+trigger__parent+'"] .item.main');if(parent__item){let parent__type=parent__item.getAttribute('data-type');if(trigger__is__checked){let filter__tags=document.querySelector('#filter-main select[name="'+trigger__type+'"]');if(filter__tags)filter__tags.append(filterUtilities.makeSelectedOption(trigger__id,trigger__name));let select__tags=document.querySelector('.bottombox .select-item');if(select__tags){let content=(trigger__type==='highway')?'Шоссе '+trigger__name:'Район '+trigger__name;select__tags.prepend(filterUtilities.makeSelectedItem(trigger__id,(trigger__type==='highway')?'highway':'districtgorod',content));}let items__length=document.querySelectorAll('.column[data-tid="'+trigger__parent+'"] .item:not(.main)').length;let items__checked__length=document.querySelectorAll('.column[data-tid="'+trigger__parent+'"] .item:not(.main) input:checked').length;let parent=document.querySelector('.column[data-tid="'+trigger__parent+'"] .item.main input');if(parent){let parent_id=parent.closest('.item').getAttribute('data-tid');let parent_type=parent.closest('.item').getAttribute('data-type');let parent_label=parent.closest('.item').getAttribute('data-label');let parent__is__checked=items__length===items__checked__length;if(parent_label)if(parent__is__checked){let filter__tags=document.querySelector('#filter-main select[name="'+parent_type+'"]');if(filter__tags)filter__tags.append(filterUtilities.makeSelectedOption(parent_id,parent_label));let select__tags=document.querySelector('.bottombox .select-item');if(select__tags){let content='Округ '+parent_label;select__tags.prepend(filterUtilities.makeSelectedItem(parent_id,'okrug',content));}}else{let filter__tags=document.querySelectorAll('#filter-main select[name="'+parent_type+'"] option[value="'+parent_id+'"]');filter__tags.forEach((tag)=>tag.remove());let select__tags=document.querySelectorAll('.bottombox .select-item .item[data-id="'+parent_id+'"]');select__tags.forEach((tag)=>tag.remove());}}}else{let parent=document.querySelector('.column[data-tid="'+trigger__parent+'"] .item.main input');if(parent)parent.checked=false;let filter__tags=document.querySelectorAll('#filter-main select[name="'+parent__type+'"] option[value="'+trigger__parent+'"]');filter__tags.forEach((tag)=>tag.remove());let select__tags=document.querySelectorAll('.bottombox .select-item .item[data-id="'+trigger__parent+'"]');select__tags.forEach((tag)=>tag.remove());filter__tags=document.querySelectorAll('#filter-main select[name="'+trigger__type+'"] option[value="'+trigger__id+'"]');filter__tags.forEach((tag)=>tag.remove());select__tags=document.querySelectorAll('.bottombox .select-item .item[data-id="'+trigger__id+'"]');select__tags.forEach((tag)=>tag.remove());}}}const amount=trigger.closest('.localcontainerbox').querySelectorAll('.item:not(.main) input:checked').length;const amount_tags=amount+document.querySelectorAll('select[name="metro"] option:checked').length;const district_gorod=document.querySelector('.filter-field[data-type="district-gorod"] span.count');const district_zagorod=document.querySelector('.filter-field[data-type="district-zagorod"] span.count');if(district_gorod)district_gorod.textContent=amount_tags;if(district_zagorod)district_zagorod.textContent=amount_tags;const filter_field_gorod=document.querySelector('.filter-field[data-type="district-gorod"]');const filter_field_zagorod=document.querySelector('.filter-field[data-type="district-zagorod"]');if(amount_tags>0){if(filter_field_gorod)filter_field_gorod.classList.add('selected1');if(filter_field_zagorod)filter_field_zagorod.classList.add('selected1');}else{if(filter_field_gorod)filter_field_gorod.classList.remove('selected1');if(filter_field_zagorod)filter_field_zagorod.classList.remove('selected1');}});homehunterEventListener('click','#filter-main','#locationmodal .bottom-line .btn-search-full',function(){if(locationmodal_instance)locationmodal_instance.hide();});homehunterEventListener('click','#filter-main','#locationmodal .select-params .remove',function(){const location__inputs=document.querySelectorAll('.localcontainerbox .item input:checked');location__inputs.forEach((input)=>{if(input.checked)input.click();});filterUtilities.clearCleanerState();});homehunterEventListener('change','#filter-main','select[name="metro"]',function(){let selectElement=document.querySelector('#filter-main select[name="metro"]');let selectedOptions=selectElement.querySelectorAll('option:checked');let count=selectedOptions.length;let location_modal=document.querySelector('#locationmodal .location-box');let header_box=document.querySelector('#locationmodal .header-box ul li.districtgorod');let select_params_decl=document.querySelector('#locationmodal .location-box .bottom-line .select-params span.decl');let select_params_count=document.querySelector('#locationmodal .location-box .bottom-line .select-params span.count');if(count){if(select_params_decl)select_params_decl.textContent=declOfNum(count,['станция','станций']);if(select_params_count)select_params_count.textContent=count;if(header_box)header_box.classList.add('selected');}else{if(select_params_decl)select_params_decl.textContent='';if(select_params_count)select_params_count.textContent='';if(header_box)header_box.classList.remove('selected');}});function fastlinks__toggle(){const toggler=document.querySelector('.ft__fastlink__toggler');if(!toggler)return;const icon=toggler.querySelector('.ft__fastlink__icon');let timer=null;toggler.addEventListener('click',()=>{const parent=toggler.parentNode;const links=parent.querySelectorAll('.ft__fastlink__hide');if(parent.style.maxHeight){parent.style.maxHeight=null;toggler.childNodes[0].textContent='Показать все подборки';icon.classList.remove('ft__fastlink__icon__active');clearTimeout(timer);timer=setTimeout(()=>links.forEach((link)=>link.style.display='none'),350);}else{clearTimeout(timer);links.forEach((link)=>link.style.display='flex');parent.style.maxHeight=parent.scrollHeight+'px';toggler.childNodes[0].textContent='Скрыть подборки';icon.classList.add('ft__fastlink__icon__active');}});}fastlinks__toggle();let ft__objects__types=document.querySelectorAll('.ft__objects__types .ft__objects__type .ft__objects__type__input');let listingLinkElement=document.querySelector('.complex__objects__head__link');ft__objects__types.forEach((type)=>{let checkedValues=[];ft__objects__types.forEach((input)=>{if(input.checked&&input.value!=='0')checkedValues.push(input.value);});ft__objects__types.forEach((input)=>{if(checkedValues.length>0){if(input.value==='0')input.checked=false;}else{if(input.value==='0')input.checked=true;}if(input.checked){let parent=input.parentNode;if(!parent)return;let label=parent.querySelector('.ft__objects__type__label');if(!label)return;let url=label.href;let count=label.dataset.count;listingLinkElement.href=url;listingLinkElement.textContent='Посмотреть '+count+' '+wordByNumber(Number(count),['предложение','предложения','предложений']);}});type.addEventListener('click',function(){let parent=type.parentNode;if(!parent)return;let label=parent.querySelector('.ft__objects__type__label');if(!label)return;let url=label.href;let count=label.dataset.count;listingLinkElement.href=url;listingLinkElement.textContent='Посмотреть '+count+' '+wordByNumber(Number(count),['предложение','предложения','предложений']);homehunterDelay(function(){homehunterFilter('counter',{'count':'','pager':'','page':'update'});},homehunterOptions.delay);});});pagerAddLink();function styleFields(){let inputs=document.querySelectorAll('#filter-main input[type="text"]');inputs.forEach((input)=>{const isSearch=input.closest('.cwsearch');const isFilterField=input.closest('.filter-field.number-list');input.addEventListener('focus',function(){if(isSearch){let parent=input.closest('.cwsearch');parent.classList.add('focused');}if(isFilterField){let parent=input.closest('.filter-field.number-list');parent.classList.add('focused');}});input.addEventListener('blur',function(){if(isSearch){let parent=input.closest('.cwsearch');parent.classList.remove('focused');}if(isFilterField){let parent=input.closest('.filter-field.number-list');parent.classList.remove('focused');}});});}styleFields();function initFilterTabs(){let indicator=document.querySelector('.ft__tabs__indicator');let tabs=document.querySelectorAll('.ft__tabs__item');tabs.forEach((tab)=>{let width=tab.offsetWidth;let left=tab.offsetLeft;if(indicator&&tab.classList.contains('active'))indicator.style.transform=`translateX(${left}px) scaleX(${width})`;if(document.body.classList.contains('gin--vertical-toolbar'))tab.addEventListener('click',function(){event.preventDefault();if(tab.classList.contains('active'))return;tabs.forEach((tab)=>tab.classList.remove('active'));if(indicator)indicator.style.transform=`matrix(${width}, 0, 0, 1, ${left}, 0)`;this.classList.add('active');homehunterDelay(function(){homehunterFilter('counter',{'changetype':'true','url':tab.href.replace('https://homehunter.ru','')});},homehunterOptions.delay);});});}if(document.querySelector('.ft__tabs'))initFilterTabs();};
homehunterEventListener('click','body','.map-apart .pagination li',function(){let map_apart=document.querySelector('.map-apart');map_apart.scrollTo({top:0,behavior:'smooth'});});function complexToggler(){let complexTogglers=document.querySelectorAll('.apart-mainLot a.mainLot-sales');complexTogglers.forEach((toggler)=>{if(toggler.classList.contains('inited'))return;toggler.classList.add('inited');toggler.addEventListener('click',function(event){if(!this.closest('.apart-mainLot').nextElementSibling.classList.contains('apart-mainLot'))return;event.preventDefault();let parent=this.closest('.apart-mainLot');let id=parent.getAttribute('data-nid');if(document.querySelector('.apart-otherLots[data-nid-parent="'+id+'"]'))document.querySelector('.apart-otherLots[data-nid-parent="'+id+'"]').remove();else{let info={'type':'mapObjectInfo','nid':id,'onlyProperty':true};axios({method:'post',url:'/system/options',data:'data='+JSON.stringify(info)}).then(function(response){let div=document.createElement('div');div.classList.add('apart-otherLots');div.setAttribute('data-nid-parent',id);;div.style.display='block';div.style.overflow='unset';div.style.height='unset';div.innerHTML='<div class="other-blocks">'+response.data.property+'</div>';parent.after(div);lightSwiper();});}});});}complexToggler();;
window.addEventListener('DOMContentLoaded',function(){const pendingForms=new WeakMap();let search_box=document.querySelector('.search-box input');let cwsearch=document.querySelector('#filter-main .cwsearch input');let nm_filter__field=document.querySelector('.nm-filter__field input');function showSearchResult(data,type){let search_result__element='';if(type==='search')search_result__element=document.querySelector('#search-context .search-result');else{if(type==='cwsearch'){search_result__element=document.querySelector('.cwsearch .search-result');if(!search_result__element){let div=document.createElement('div');div.classList.add('search-result');cwsearch.parentNode.append(div);search_result__element=div;}}}if(!search_result__element)return;search_result__element.innerHTML='<div class="line">К сожалению, результаты не найдены.</div>';data=eval(data);let count=data['count'];let rule=data['rule'];let translit=data['translit'];if(count!==0||data['val']!==null){let result=document.querySelector('#search-context .result');if(result)result.innerHTML='';search_result__element.innerHTML=data['val'];let sc_sr_l=document.querySelectorAll('#search-context .search-result .line');homehunterHighlight(sc_sr_l,rule);homehunterHighlight(sc_sr_l,translit);}}async function search(event,scope){let scope__current=event.currentTarget;let previousController=pendingForms.get(scope__current);if(previousController)setTimeout(()=>previousController.abort(),150);let currentController=new AbortController();pendingForms.set(scope__current,currentController);if(event.keyCode===8||event.keyCode===46)scope.setAttribute('data-original','');let value=scope.value;let value__original=scope.getAttribute('data-original')||'';let search_result=document.querySelector('.search-result');if(value.length>=2){if(value__original===value)return;scope.setAttribute('data-original',value);let isCwsearch=scope.parentNode.classList.contains('cwsearch');try{let data='data='+JSON.stringify(value);if(isCwsearch){let filter=scope.closest('#filter-main');data=(filter.classList[0])?'data='+JSON.stringify(value)+'&search&section='+JSON.stringify(filter.classList[0]):'data='+JSON.stringify(value)+'&search';}let response=await axios.post('/system/search',data,{signal:currentController.signal});showSearchResult(response.data,(isCwsearch)?'cwsearch':'search');yaCounter50743261.reachGoal('searchuse');pendingForms.delete(scope__current);}catch(error){if(error.name==='CanceledError')return;throw error;}document.body.classList.add('actives-search');}else{document.body.classList.remove('actives-search');if(search_result)search_result.innerHTML='';}}if(search_box){search_box.addEventListener('keyup',function(event){search(event,search_box);});search_box.addEventListener('mouseenter',function(event){search(event,search_box);});search_box.addEventListener('paste',function(event){search(event,search_box);});}if(cwsearch){cwsearch.addEventListener('keyup',function(event){search(event,cwsearch);});cwsearch.addEventListener('mouseenter',function(event){search(event,cwsearch);});cwsearch.addEventListener('paste',function(event){search(event,cwsearch);});}if(nm_filter__field){nm_filter__field.addEventListener('keyup',function(event){search(event,nm_filter__field);});nm_filter__field.addEventListener('mouseenter',function(event){search(event,nm_filter__field);});nm_filter__field.addEventListener('paste',function(event){search(event,nm_filter__field);});}homehunterEventListener('click','#search-context','.result .line',function(){let url=this.getAttribute('data-url');if(url)window.location=url;});homehunterEventListener('click','.search-box','.search-result .line',function(){let url=this.getAttribute('data-url');if(url)window.location=url;});let search_context=document.querySelector('#search-context');if(search_context)search_context.addEventListener('keydown',function(event){let selected_li=null;let key_pressed=(typeof (event.keyCode)!='undefined'?event.keyCode:event.which);let next_li;if(key_pressed===40||key_pressed===38){if(selected_li===null){let search_context__result=document.querySelectorAll('#search-context .result div');selected_li=search_context__result[0];}else{if(key_pressed===40)next_li=selected_li.nextElementSibling;else next_li=selected_li.previousElementSibling;if(next_li.size()>0)selected_li=next_li;else selected_li=null;}let search_context__result=document.querySelectorAll('#search-context .result div');search_context__result.forEach((div)=>div.style.background='#ffffff');if(selected_li!==null){selected_li.style.background='#e5e5e5';let event=new Event('focus');selected_li.dispatchEvent(event);}}else{if(key_pressed===13){if(selected_li!==null){let url=selected_li.getAttribute('data-url');window.location=url;}else{let search_context__result=document.querySelectorAll('#search-context .result div');if(search_context__result){let url=search_context__result[0].getAttribute('data-url');if(url)window.location=url;}}let search_context__result=document.querySelector('#search-context .result');if(search_context__result)search_context__result.innerHTML='';}}});function getElements(selectors){const elements=[];selectors.forEach((selector)=>{let element=document.querySelector(selector);if(element)elements.push(element);});return elements;}const searchInput=getElements(['.search-box input','#filter-main .cwsearch input','.nm-filter__field input','input#location-search']);searchInput.forEach((input)=>{let mask=new IMask(input,{mask:/[\d\wА-Яа-я\!\@\"\#\№\$\;\%\^\:\?\&\*\(\)\-\_\=\+]/});input.addEventListener('clear',function(){mask.updateValue();});});document.addEventListener('click',function(event){if((!event.target.closest('.search-result'))&&(event.target.getAttribute('data-name')!=='search')&&(event.target.getAttribute('data-name')!=='search-input')&&(!event.target.classList.contains('search'))){const search__results=document.querySelectorAll('.search-result');search__results.forEach((result)=>result.innerHTML='');document.body.classList.remove('actives-search');}});});;
const notification=new Notification();function widget__toggler(){const togglers=document.querySelectorAll('.widget .widget__toggler:not(.widget__toggler__usersnap, .widget__toggler__scroll)');togglers.forEach((toggler)=>{let content=toggler.parentNode.querySelector('.widget__content');if(content)content.classList.add('init');const parent=toggler.closest('.widget__item');if(!parent)return;toggler.addEventListener('click',()=>{if(parent.classList.contains('widget__item__open'))parent.classList.remove('widget__item__open');else{togglers.forEach((toggler)=>{const parent=toggler.closest('.widget__item');if(!parent)return;parent.classList.remove('widget__item__open');});parent.classList.add('widget__item__open');}},{passive:true});});}function widget__scroll(){let toggler=document.querySelector('.widget .widget__toggler__scroll');if(!toggler)return;toggler.addEventListener('click',()=>window.scrollTo({top:0,left:0,behavior:"smooth"}),{passive:true});}function widget__scroll__handler(){let toggler=document.querySelector('.widget .widget__toggler__scroll');if(!toggler)return;(window.scrollY>=500)?toggler.classList.add('widget__toggler__visible'):toggler.classList.remove('widget__toggler__visible');}function widget__usersnap(){let toggler=document.querySelector('.widget .widget__toggler__usersnap');if(!toggler)return;toggler.addEventListener('click',()=>window.Usersnap.logEvent("openusersnap"),{passive:true});}function widget__masking__change(){const masks=document.querySelectorAll('.widget .widget__content__masking .widget__content__text');masks.forEach((mask)=>{mask.addEventListener('click',async()=>{const mask__name=mask.textContent;const mask__role=mask.getAttribute('data-mask-role');if(!mask__name||!mask__role)return;try{await axios.get(`/cabinet/masq?masq_to_role_id=${mask__role}`);notification.create({message:`Маскировка под «${mask__name}» применена`,type:'success'});window.location.reload();}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}},{passive:true});});}function widget__masking__reset(){const notification=new Notification();const reset=document.querySelector('.widget .widget__content__masking .widget__content__reset');if(!reset)return;reset.addEventListener('click',async()=>{try{await axios.get('/cabinet/masq');notification.create({message:`Маскировка сброшена`,type:'success'});window.location.reload();}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}},{passive:true});}function widget__search(){let lastRequestValue;let input=document.querySelector('.widget #location-search');if(!input)return;input.addEventListener('input',async function searchChange(e){let value=input.value;let parent=input.closest('.widget__content__search');let results=parent.querySelector('.location-search-results');if(value===''||value.length<=2){parent.classList.remove('active-search');results.innerHTML='';return;}if(value===lastRequestValue)if(e.type==='click'){parent.classList.toggle('active-search');return;}lastRequestValue=value;try{let responce=await axios.post('/system/search',`data="${value.trim()}"`);results.innerHTML=responce.data.val;parent.classList.add('active-search');yaCounter50743261.reachGoal('searchuse');}catch(error){console.log(error);}});}function updateCollectionPageList(id,title){let list=document.querySelector('.favorite-category');if(!list)return;const collectionElement=document.createElement('a');collectionElement.classList.add('favorite-category__item');collectionElement.classList.add(`fctid${id}`);collectionElement.setAttribute('data-id',id);collectionElement.setAttribute('href',`/cabinet/collection?id=${id}`);collectionElement.innerHTML=`
        <p class="favorite-category__title">${title}</p>
        <p class="favorite-category__amount">0 объекта</p>
    `;list.appendChild(collectionElement);}async function widget__modal__favorite__create__add__object(collection__id,object__id){try{const response=await axios.get(`/system/collection/add?object_id=${object__id}&id=${collection__id}`);if(response.data.status){let parent=document.querySelector('.favoriteControl[data-object_id="'+object__id+'"]');let collections__id=parent.getAttribute('data-object_collections');if(collections__id!==null){collections__id=collections__id.split(',');collections__id.push(collection__id);parent.setAttribute('data-object_collections',collections__id.join(','));}else parent.setAttribute('data-object_collections',collection__id);if(!parent.classList.contains('active'))updateCounters(1);parent.classList.add('active');notification.create({message:`Объект добавлен в коллекцию`,type:'success'});}else notification.create({message:`Произошла ошибка`,type:'unsuccess'});}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}function widget__modal__favorite__create(){const notification=new Notification();let modal__element=document.querySelector('#widget__modal__favorite__create');if(!modal__element)return;const modal=new Modal({id:'widget__modal__favorite__create',disableScroll:true});const modal__parent=document.getElementById('widget__modal__favorite__create')||null;if(modal__parent===null)return;modal__parent.classList.add('init');const collection__list=document.querySelector('.widget__content__favorite .widget__content__list')||null;if(collection__list===null)return;const form=modal__parent.querySelector('.widget__modal__form');const field=modal__parent.querySelector('.widget__modal__field');const input=modal__parent.querySelector('.widget__modal__input');const button=modal__parent.querySelector('.widget__modal__button');const error=modal__parent.querySelector('.widget__modal__error__text');async function form__submit(event){event.preventDefault();let collection__name=input.value;collection__name=collection__name.trim();if(collection__name.length===0||collection__name.length>80)return;try{let response=await axios.get('/system/collection/create?name='+collection__name);let collection__id=response.data.id||null;if(collection__id==="already_exists")notification.create({message:`Коллекция с таким названием уже существует`,type:'unsuccess'});else{field.classList.remove('widget__modal__hover');field.classList.remove('widget__modal__focus');input.value='';button.setAttribute('disabled','');let collection__link=document.createElement('a');collection__link.classList.add('widget__content__item');collection__link.setAttribute('target','_blank');collection__link.setAttribute('href',`/collection?id=${collection__id}`);let collection__text=document.createElement('p');collection__text.textContent=collection__name;collection__text.classList.add('widget__content__text');let collection__counter=document.createElement('p');collection__counter.textContent='0';collection__counter.classList.add('widget__content__counter');let collection__icon=document.createElement('span');collection__icon.classList.add('widget__content__icon');collection__link.appendChild(collection__text);collection__link.appendChild(collection__counter);collection__link.appendChild(collection__icon);collection__list.appendChild(collection__link);let collection__widget__list=document.querySelector('#widget__modal__favorite .widget__modal__list');if(collection__widget__list){let collection__widget__length=collection__widget__list.querySelectorAll('.widget__modal__item').length;collection__widget__length=(collection__widget__length===0)?collection__widget__length:collection__widget__length+1;let collection__widget__item=document.createElement('div');collection__widget__item.classList.add('widget__modal__item');collection__widget__item.classList.add('widget__modal__collection');collection__widget__item.innerHTML=`
                        <div class="widget__modal__rename">
                            <span class="widget__modal__rename__drag"></span>
                            <input class="widget__modal__rename__name" name="${collection__id}" value="${collection__name}" weight="${collection__widget__length}" readonly="">
                            <span class="widget__modal__rename__icon"></span>
                        </div>
                        <div class="widget__modal__remove">
                            <span class="widget__modal__remove__text">Вы уверены?</span>
                            <span class="widget__modal__remove__icon"></span>
                        </div>
                    `;collection__widget__list.append(collection__widget__item);}updateCollectionPageList(collection__id,collection__name);notification.create({message:`Коллекция "${collection__name}" успешно создана`,type:'success'});modal.hide();if(modal.modal.getAttribute('data-object-id')!==null)widget__modal__favorite__create__add__object(collection__id,modal.modal.getAttribute('data-object-id'));}}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}function input__hover(event){if(event.type==='mouseenter')field.classList.add('widget__modal__hover');if(event.type==='mouseleave')field.classList.remove('widget__modal__hover');}function input__focus(event){if(event.type==='focus')field.classList.add('widget__modal__focus');if(event.type==='blur'){if(this.value.length===0)field.classList.remove('widget__modal__focus');if(this.value.length>80){field.classList.add('widget__modal__error');error.textContent='Название не должно быть больше 80 символов';}else{field.classList.remove('widget__modal__error');error.textContent='';}}}function input__input(){if(this.value.length===0||this.value.length>80){button.setAttribute('disabled','');if(this.value.length>80){field.classList.add('widget__modal__error');error.textContent='Название не должно быть больше 80 символов';}}else{button.removeAttribute('disabled');field.classList.remove('widget__modal__error');error.textContent='';}}form.addEventListener('submit',form__submit,{passive:false});input.addEventListener('mouseenter',input__hover,{passive:true});input.addEventListener('mouseleave',input__hover,{passive:true});input.addEventListener('focus',input__focus,{passive:true});input.addEventListener('blur',input__focus,{passive:true});input.addEventListener('input',input__input,{passive:true});}function widget__modal__favorite__edit(){const notification=new Notification();const modal__element=document.querySelector('#widget__modal__favorite');if(!modal__element)return;const modal__collections=document.querySelector('#widget__modal__favorite .widget__modal__list');new Modal({id:'widget__modal__favorite',disableScroll:true});let timer;function hoverCollectionListHandler(event){if(!event.target.closest('.widget__modal__collection'))if(event.target.closest('.widget__modal__collection'))event.target.closest('.widget__modal__collection').classList.remove('widget__modal__click');}function hoverRemoveHandler(event){if(event.target.closest('.widget__modal__remove')){if(event.type==='mouseover')event.target.closest('.widget__modal__collection').classList.add('widget__modal__hover');if(event.type==='mouseout'){event.target.closest('.widget__modal__collection').classList.remove('widget__modal__hover');event.target.closest('.widget__modal__collection').classList.remove('widget__modal__click');}}}async function clickRemoveHandler(event){if(event.target.closest('.widget__modal__remove__icon')){const input=event.target.closest('.widget__modal__collection').querySelector('.widget__modal__rename__name');const remover__text=event.target.closest('.widget__modal__collection').querySelector('.widget__modal__remove__text');if(!event.target.closest('.widget__modal__collection').classList.contains('widget__modal__click')){let collections=modal__element.querySelectorAll('.widget__modal__collection');collections.forEach((collection)=>{collection.classList.remove('widget__modal__click');});event.target.closest('.widget__modal__collection').classList.add('widget__modal__click');}else{const collection__id=input.getAttribute('name');try{let response=await axios.get(`/system/collection/delete?id=${collection__id}`);if(response.data.status){remover__text.textContent='Коллекция успешно удалена';event.target.closest('.widget__modal__collection').classList.add('widget__modal__removed');let widget__item=document.querySelector('.widget__content__favorite .widget__content__item[href="/collection?id='+collection__id+'"]');if(widget__item)widget__item.remove();let widget__items=document.querySelectorAll('.widget__content__item[href^="/collection?id"]');if(widget__items.length===0){let widget__favorite__count=document.querySelector('.widget__toggler.widget__toggler__favorite .widget__toggler__counter');if(widget__favorite__count)widget__favorite__count.textContent='0';}setTimeout(()=>{event.target.closest('.widget__modal__collection').classList.add('widget__modal__deleted');setTimeout(()=>{event.target.closest('.widget__modal__collection').remove();},350);favorites__is__check();},1000);}else{event.target.closest('.widget__modal__collection').classList.remove('widget__modal__click');notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}catch(error){event.target.closest('.widget__modal__collection').classList.remove('widget__modal__click');notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}}}async function clickEditHandler(event){if(event.target.closest('.widget__modal__rename__icon')){const input=event.target.closest('.widget__modal__collection').querySelector('.widget__modal__rename__name');const edit=event.target.closest('.widget__modal__collection').querySelector('.widget__modal__rename__icon');if(input.getAttribute('readonly')!==null){input.removeAttribute('readonly');input.focus();input.selectionStart=input.value.length;edit.classList.add('widget__modal__rename__icon__submit');}else{const collection__id=input.getAttribute('name');const collection__name=input.value;if(input.value.length===0||input.value.length>=80)return;const inputs=document.querySelectorAll('.widget__modal__rename__name');let isDoubleName=false;inputs.forEach((el)=>{if(el===input)return;if(input.value===el.value)isDoubleName=true;});if(isDoubleName){notification.create({message:`Коллекция с таким именем уже существует`,type:'unsuccess'});return;}try{let response=await axios.get(`/system/collection/update?id=${collection__id}&name=${collection__name}`);if(response.data.status){input.blur();input.setAttribute('readonly','');edit.classList.remove('widget__modal__rename__icon__submit');notification.create({message:`Коллекция успешно переименованна`,type:'success'});}else notification.create({message:`Произошла ошибка`,type:'unsuccess'});}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}}}modal__element.addEventListener('mouseover',hoverRemoveHandler,{passive:false});modal__element.addEventListener('mouseout',hoverRemoveHandler,{passive:false});modal__element.addEventListener('mouseout',hoverCollectionListHandler,{passive:false});modal__element.addEventListener('click',clickRemoveHandler,{passive:false});modal__element.addEventListener('click',clickEditHandler,{passive:false});modal__element.addEventListener('tap',clickEditHandler,{passive:false});let prevWights={};function changeWidgetCollectionIndex(weight){const collectionList=document.querySelector('.widget__content__favorite .widget__content__list');const collections=document.querySelectorAll('.widget__content__favorite .widget__content__list .widget__content__item')||[];const newCollectionList=[];for(let collection__id in weight)collections.forEach((collection)=>{let href_id=collection.getAttribute('href').split('=');if(href_id[1]===collection__id)newCollectionList[weight[collection__id]]=collection;});collectionList.innerHTML='';newCollectionList.forEach((collection)=>{collectionList.appendChild(collection);});}async function changeCollectionIndex(){const collections=document.querySelectorAll('#widget__modal__favorite .widget__modal__collection');const weights={};collections.forEach((collection,index)=>{const input=collection.querySelector('input.widget__modal__rename__name')||null;if(input===null)return false;input.setAttribute('weight',index);let id=input.getAttribute('name');weights[id]=index;});if(JSON.stringify(prevWights)!==JSON.stringify(weights))try{let response=await axios.post('/system/collection/updateall',weights);if(response.status)changeWidgetCollectionIndex(weights);else notification.create({message:`Произошла ошибка`,type:'unsuccess'});}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}prevWights=weights;}new Sortable(modal__collections,{handle:'.widget__modal__rename__drag',animation:350,easing:"cubic-bezier(0.37, 0, 0.63, 1)",onStart:()=>{},onEnd:()=>{changeCollectionIndex();}});const modal__create__trigger=document.querySelector('#widget__modal__favorite .widget__modal__create');const modal__create__field=document.querySelector('#widget__modal__favorite .widget__modal__field');const modal__create__input=document.querySelector('#widget__modal__favorite .widget__modal__field .widget__modal__field__input');const modal__create__submit=document.querySelector('#widget__modal__favorite .widget__modal__field .widget__modal__field__icon');modal__create__trigger.addEventListener('click',()=>{if(modal__create__field.style.maxHeight){modal__create__field.style.maxHeight=null;modal__create__field.style.margin=null;}else{modal__create__field.style.maxHeight=modal__create__field.scrollHeight+'px';modal__create__field.style.margin='0 0 12px';}},{passive:true});function clearCollectionField(){modal__create__field.classList.remove('widget__modal__field__hover');modal__create__field.classList.remove('widget__modal__field__focus');modal__create__input.value='';modal__create__submit.setAttribute('disabled','');}function appendCollectionToWidget(collection__name,collection__id){const collection__list=document.querySelector('.widget__content__favorite .widget__content__list')||null;if(collection__list===null)return;clearCollectionField();let collection__link=document.createElement('a');collection__link.classList.add('widget__content__item');collection__link.setAttribute('target','_blank');collection__link.setAttribute('href',`/collection?id=${collection__id}`);let collection__text=document.createElement('p');collection__text.textContent=collection__name;collection__text.classList.add('widget__content__text');let collection__counter=document.createElement('p');collection__counter.textContent='0';collection__counter.classList.add('widget__content__counter');let collection__icon=document.createElement('span');collection__icon.classList.add('widget__content__icon');collection__link.appendChild(collection__text);collection__link.appendChild(collection__counter);collection__link.appendChild(collection__icon);collection__list.appendChild(collection__link);}function appendCollectionToModal(collection__name,collection__id){const collection__list=document.querySelector('#widget__modal__favorite .widget__modal__list')||null;if(collection__list===null)return;clearCollectionField();let collection__item=document.createElement('div');collection__item.classList.add('widget__modal__item');collection__item.classList.add('widget__modal__collection');let collection__rename=document.createElement('div');collection__rename.classList.add('widget__modal__rename');let collection__drag=document.createElement('span');collection__drag.classList.add('widget__modal__rename__drag');let collection__input=document.createElement('input');collection__input.classList.add('widget__modal__rename__name');collection__input.setAttribute('name',collection__id);collection__input.setAttribute('value',collection__name);collection__input.setAttribute('weight',0);collection__input.setAttribute('readonly','');let collection__edit=document.createElement('span');collection__edit.classList.add('widget__modal__rename__icon');let collection__remove=document.createElement('div');collection__remove.classList.add('widget__modal__remove');let collection__text=document.createElement('span');collection__text.classList.add('widget__modal__remove__text');collection__text.textContent='Вы уверены?';let collection__trash=document.createElement('span');collection__trash.classList.add('widget__modal__remove__icon');collection__rename.appendChild(collection__drag);collection__rename.appendChild(collection__input);collection__rename.appendChild(collection__edit);collection__remove.appendChild(collection__text);collection__remove.appendChild(collection__trash);collection__item.appendChild(collection__rename);collection__item.appendChild(collection__remove);collection__list.appendChild(collection__item);}async function form__submit(event){event.preventDefault();let collection__name=modal__create__input.value;collection__name=collection__name.trim();if(collection__name.length===0||collection__name.length>80)return;try{let response=await axios.get('/system/collection/create?name='+collection__name);let collection__id=response.data.id;if(collection__id==="already_exists")notification.create({message:`Коллекция с таким названием уже существует`,type:'unsuccess'});else{appendCollectionToWidget(collection__name,collection__id);appendCollectionToModal(collection__name,collection__id);notification.create({message:`Коллекция "${collection__name}" успешно создана`,type:'success'});}}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}function input__hover(event){if(event.type==='mouseenter')modal__create__field.classList.add('widget__modal__field__hover');if(event.type==='mouseleave')modal__create__field.classList.remove('widget__modal__field__hover');}function input__focus(event){if(event.type==='focus')modal__create__field.classList.add('widget__modal__field__focus');if(event.type==='blur'){if(this.value.length===0)modal__create__field.classList.remove('widget__modal__field__focus');if(this.value.length>80){modal__create__field.classList.add('widget__modal__field__error');notification.create({message:`Название коллекции не должно быть больше 80 символов`,type:'unsuccess'});}else modal__create__field.classList.remove('widget__modal__field__error');}}function input__input(){if(this.value.length===0||this.value.length>80){modal__create__submit.setAttribute('disabled','');if(this.value.length>80){modal__create__field.classList.add('widget__modal__field__error');notification.create({message:`Название коллекции не должно быть больше 80 символов`,type:'unsuccess'});}}else{modal__create__submit.removeAttribute('disabled');modal__create__field.classList.remove('widget__modal__field__error');}}modal__create__submit.addEventListener('click',form__submit,{passive:false});modal__create__input.addEventListener('mouseenter',input__hover,{passive:true});modal__create__input.addEventListener('mouseleave',input__hover,{passive:true});modal__create__input.addEventListener('focus',input__focus,{passive:true});modal__create__input.addEventListener('blur',input__focus,{passive:true});modal__create__input.addEventListener('input',input__input,{passive:true});}function widget__currency(){const currencies=document.querySelectorAll('.widget .widget__content__radio')||[];currencies.forEach((currency)=>{let currency__key=currency.getAttribute('data-currency_key')||null;let currency__symbol=currency.getAttribute('data-currency_symbol')||null;if(currency__key===null||currency__symbol===null)return;currency.addEventListener('click',()=>{currencies.forEach((currency)=>currency.classList.remove('active'));currency.classList.add('active');setCurrency('currency',currency__key,'widget');if(window.innerWidth<768){let actual_budjet=document.querySelectorAll('.actual.petitions .actual-form__budjet .actual-form__budjet-radio label');actual_budjet.forEach((budjet)=>{budjet.textContent=currency__symbol;});}},{passive:true});});}document.addEventListener('DOMContentLoaded',()=>{widget__toggler();widget__scroll();widget__scroll__handler();widget__usersnap();widget__masking__change();widget__masking__reset();widget__search();widget__modal__favorite__create();widget__modal__favorite__edit();widget__currency();},{passive:true});document.addEventListener('scroll',widget__scroll__handler,{passive:true});document.body.addEventListener('click',function(e){if(!e.target.closest('.widget__item')){const widgetItems=document.querySelectorAll('.widget .widget__item');widgetItems.forEach((item)=>{item.classList.remove('widget__item__open');});}},{passive:true});;
function declOfNum(number,words){return words[(number%100>4&&number%100<20)?2:[2,0,1,1,1,2][(number%10<5)?Math.abs(number)%10:5]];}function obejctIsInCollection(parent){let inputs=parent.querySelectorAll('input');let isChecked=false;inputs.forEach((input)=>{if(input.checked)isChecked=true;});let deleteBtn=parent.querySelector('.actions-item.delete');if(deleteBtn)(!isChecked)?deleteBtn.classList.add('disable'):deleteBtn.classList.remove('disable');}function updateWidgetList(id,count){let item=document.querySelector('.widget__content__favorite .widget__content__list a[href="/collection?id='+id+'"] .widget__content__counter');if(item)if(count)item.textContent=Number(item.textContent)+1;else item.textContent=Number(item.textContent)-1;}async function favorite__content__add(parent){parent.classList.add('disabled');const object__id=parent.getAttribute('data-object_id');if(!object__id)return;try{const response=await axios.get(`/system/collection/add?object_id=${object__id}`);if(response.data.status){if(typeof (response.data.status)==='string'){let wfItems=document.querySelectorAll('.widget__content__favorite .widget__content__list .widget__content__item');if(wfItems.length===0){let wfList=document.querySelector('.widget__content__favorite .widget__content__list');let item=document.createElement('a');item.classList.add('widget__content__item');item.setAttribute('href','/collection?id='+response.data.status);let itemTitle=document.createElement('p');itemTitle.classList.add('widget__content__text');itemTitle.textContent='Первая коллекция';let itemCount=document.createElement('p');itemCount.classList.add('widget__content__counter');itemCount.textContent='0';let itemIcon=document.createElement('span');itemIcon.classList.add('widget__content__icon');item.append(itemTitle);item.append(itemCount);item.append(itemIcon);wfList.append(item);}let wmf_wml_wmcs=document.querySelectorAll('#widget__modal__favorite .widget__modal__list .widget__modal__item.widget__modal__collection');if(wmf_wml_wmcs.length===0){let wmf_wml=document.querySelector('#widget__modal__favorite .widget__modal__list');let item=document.createElement('div');item.classList.add('widget__modal__item');item.classList.add('widget__modal__collection');item.innerHTML=`
                        <div class="widget__modal__rename">
                            <span class="widget__modal__rename__drag"></span>
                            <input class="widget__modal__rename__name" name="${response.data.status}" value="Первая коллекция" weight="0" readonly="">
                            <span class="widget__modal__rename__icon"></span>
                        </div>
                        <div class="widget__modal__remove">
                            <span class="widget__modal__remove__text">Вы уверены?</span>
                            <span class="widget__modal__remove__icon"></span>
                        </div>
                    `;wmf_wml.append(item);}let fc__fc_i=document.querySelectorAll('.favorite-category .favorite-category__item');fc__fc_i.forEach((category)=>{let category_id=category.getAttribute('data-id');let category_amount=category.querySelector('.favorite-category__amount');if(category_id===response.data.status&&category_amount){let count=Number(category_amount.textContent.split(' ')[0])+1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}if(category_id==='all'){let category_amount=category.querySelector('.favorite-category__amount');if(category_amount){let count=Number(category_amount.textContent.split(' ')[0])+1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}}});let collections__id=parent.getAttribute('data-object_collections');if(collections__id!==null){collections__id=collections__id.split(',');if(!collections__id.includes(response.data.status))collections__id.push(response.data.status);parent.setAttribute('data-object_collections',collections__id.join(','));}else parent.setAttribute('data-object_collections',response.data.status);favorite__list__append(parent,response.data.action);updateWidgetList(response.data.status,true);}if(!parent.classList.contains('active'))updateCounters(1);parent.classList.add('active');notification.create({message:`Объект добавлен в коллекцию`,type:'success'});}else notification.create({message:`Произошла ошибка`,type:'unsuccess'});parent.classList.remove('disabled');}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});parent.classList.remove('disabled');}}async function favorite__content__remove(parent){const object__id=parent.getAttribute('data-object_id');const collections__id=parent.getAttribute('data-object_collections')||'';if(parent.classList.contains('wait'))return;parent.classList.add('wait');if(collections__id.split(',').length===1){try{const response=await axios.get(`/system/collection/delobject?object_id=${object__id}&id=${collections__id}`);if(response.data.status){updateCounters(-1);parent.removeAttribute('data-object_collections');parent.classList.remove('active');parent.classList.remove('open');collections__id.split(',').forEach((collection)=>{updateWidgetList(collection,false);});let fc__fc_i=document.querySelectorAll('.favorite-category .favorite-category__item');fc__fc_i.forEach((category)=>{let category_id=category.getAttribute('data-id');let category_amount=category.querySelector('.favorite-category__amount');collections__id.split(',').forEach((collection)=>{if(category_id===collection&&category_amount){let count=Number(category_amount.textContent.split(' ')[0])-1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}});if(category_id==='all'){let category_amount=category.querySelector('.favorite-category__amount');if(category_amount){let count=Number(category_amount.textContent.split(' ')[0])-1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}}});updateWidgetList(response.data.status,false);notification.create({message:`Объект удален из коллекции`,type:'success'});}else notification.create({message:`Произошла ошибка`,type:'unsuccess'});}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}parent.classList.remove('wait');}else{parent.classList.remove('wait');if(parent.classList.contains('open'))parent.classList.remove('open');else{favorite__get__list(parent);setTimeout(function(){parent.classList.add('open');},1);}}}async function favorite__list__append(parent,content){const list=parent.querySelector('.actions-list');if(!list)return;list.outerHTML=content;obejctIsInCollection(parent);if(window.innerWidth<868){}else setTimeout(function(){parent.classList.add('open');},1);}async function favorite__content__add__collection(parent,checkbox){const input=checkbox.querySelector('input');if(!input)return;const object__id=parent.getAttribute('data-object_id');const collection__id=input.getAttribute('data-id');if(input.checked)try{const response=await axios.get(`/system/collection/add?object_id=${object__id}&id=${collection__id}`);let collections__id=parent.getAttribute('data-object_collections');if(collections__id!==null){collections__id=collections__id.split(',');collections__id.push(collection__id);parent.setAttribute('data-object_collections',collections__id.join(','));}else parent.setAttribute('data-object_collections',collection__id);if(response.data.status){favorite__list__append(parent,response.data.action);notification.create({message:`Объект добавлен в коллекцию`,type:'success'});let widget__collection=document.querySelector('.widget__content__item[href$="'+collection__id+'"] .widget__content__counter');if(widget__collection)widget__collection.textContent=Number(widget__collection.textContent)+1;let fc__fc_i=document.querySelectorAll('.favorite-category .favorite-category__item');fc__fc_i.forEach((category)=>{let category_id=category.getAttribute('data-id');let category_amount=category.querySelector('.favorite-category__amount');if(category_id===response.data.status&&category_amount){let count=Number(category_amount.textContent.split(' ')[0])+1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}if(category_id==='all'){let category_amount=category.querySelector('.favorite-category__amount');if(category_amount){let count=Number(category_amount.textContent.split(' ')[0])+1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}}});}else notification.create({message:`Произошла ошибка`,type:'unsuccess'});}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}else try{const response=await axios.get(`/system/collection/delobject?object_id=${object__id}&id=${collection__id}`);if(response.data.status){const counter=checkbox.querySelector('.actions-collections__amount');if(counter)counter.textContent=parseInt(counter.textContent)-1;let collections__id=parent.getAttribute('data-object_collections');if(collections__id!==null){collections__id=collections__id.split(',');const index=collections__id.indexOf(collection__id);if(index!==-1)collections__id.splice(index,1);parent.setAttribute('data-object_collections',collections__id.join(','));}else parent.setAttribute('data-object_collections',collection__id);let fc__fc_i=document.querySelectorAll('.favorite-category .favorite-category__item');fc__fc_i.forEach((category)=>{let category_id=category.getAttribute('data-id');let category_amount=category.querySelector('.favorite-category__amount');if(category_id===collection__id&&category_amount){let count=Number(category_amount.textContent.split(' ')[0])-1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}if(category_id==='all'){let category_amount=category.querySelector('.favorite-category__amount');if(category_amount){let count=Number(category_amount.textContent.split(' ')[0])-1;category_amount.textContent=count+' '+declOfNum(count,['объект','объекта','объектов']);}}});notification.create({message:`Объект удален из коллекции`,type:'remove'});let widget__collection=document.querySelector('.widget__content__item[href$="'+collection__id+'"] .widget__content__counter');if(widget__collection)widget__collection.textContent=Number(widget__collection.textContent)-1;}else notification.create({message:`Произошла ошибка`,type:'unsuccess'});}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}const checkboxes=parent.querySelectorAll('.actions-list .actions-collections__checkbox input')||[];const in__collection=[];checkboxes.forEach((checkbox)=>{if(checkbox.checked)in__collection.push(checkbox);});if(in__collection.length===0){parent.removeAttribute('data-object_collections');parent.classList.remove('active');updateCounters(-1);}else{if(!parent.classList.contains('active'))if(in__collection.length===1)updateCounters(1);parent.classList.add('active');}obejctIsInCollection(parent);}function favorite__content__remove__collection(parent){const object__id=parent.getAttribute('data-object_id');const inputs=parent.querySelectorAll('.actions-list input[type="checkbox"]');let isBeChecked=false;inputs.forEach(async(input)=>{if(input.checked){isBeChecked=true;input.checked=false;const collection__id=input.getAttribute('data-id');try{await axios.get(`/system/collection/delobject?object_id=${object__id}&id=${collection__id}`);let wfItems=document.querySelectorAll('.widget__content__favorite .widget__content__list .widget__content__item');wfItems.forEach((collection)=>{let href_id=collection.getAttribute('href').split('=')[1];if(collection__id===href_id){let collection__count=collection.querySelector('.widget__content__counter');if(collection__count)collection__count.textContent=Number(collection__count.textContent)-1;}});parent.removeAttribute('data-object_collections');}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}});if(isBeChecked){updateCounters(-1);notification.create({message:`Объект удален из коллекций`,type:'success'});parent.removeAttribute('data-object_collections');parent.classList.remove('active');parent.classList.remove('open');}}async function favorite__get__list(parent){const object__id=parent.getAttribute('data-object_id');try{const response=await axios.get(`/system/collection/list_object?object_id=${object__id}`);(response.data.status)?favorite__list__append(parent,response.data.action):notification.create({message:`Произошла ошибка`,type:'unsuccess'});}catch(error){notification.create({message:`Произошла ошибка`,type:'unsuccess'});}}function updateCounters(count){const headline__counter__icon=document.querySelector('.profile__stat__icon_favorites');if(headline__counter__icon){const headline__counter__count=headline__counter__icon.nextElementSibling;headline__counter__count.textContent=parseInt(headline__counter__count.textContent)+count;}const widget__count=document.querySelector('.widget__toggler__favorite .widget__toggler__counter');if(widget__count)widget__count.textContent=parseInt(widget__count.textContent)+count;}function setCounters(count,selector){const element=document.querySelector(selector);if(element){const counter=element.nextElementSibling;counter.textContent=count;}}function updateHeadLineAlerts(count){const counter=document.querySelector('.profile-alert .amount');if(!counter)return;counter.textContent=count;}function updateHeadLineAlertsNew(isNew){const alert=document.querySelector('.profile-alert .new');if(!alert)return;if(isNew)alert.classList.remove('hide');}function updateLists(html,selector){const element=document.querySelector(selector);if(element)element.innerHTML=html;}function updateHeadLineAlertsWidget(html){const alerts=document.querySelector('.profile__alert .dashalert__list');if(!alerts)return;alerts.innerHTML=html;handlerAlertWidgetItems(alerts);}function handlerAlertWidgetItems(parent){const items=parent.querySelectorAll('.dashalert__item');items.forEach((item)=>{let isViewed=item.getAttribute('data-viewed');if(isViewed==='true')return;let isBlog=item.classList.contains('dashalert__item-blog');(isBlog)?item.addEventListener('mouseenter',handler):item.addEventListener('click',handler);async function handler(){let viewed=item.getAttribute('data-viewed');if(viewed==='false'){const id=this.getAttribute('data-id')||null;this.setAttribute('data-viewed','true');try{const response=await axios.get(`https://homehunter.ru/system/collection/alertViewed?id=${id}`);this.classList.add('dashalert__item-watched');}catch(error){this.classList.remove('dashalert__item-watched');this.setAttribute('data-viewed','false');}}}});}async function favorites__is__check(){const controllers=document.querySelectorAll('.favoriteControl');const object_ids=[];controllers.forEach((controller)=>{const object_id=controller.getAttribute('data-object_id');controller.classList.remove('active');object_ids.push(object_id);});let version=Number(localStorage.getItem('hh_header_version'))||0;try{let response;if(object_ids.length===0)response=await axios.post(`/system/collection/check`,{},{params:{menu_version:version}});else{response=await axios.post(`/system/collection/check`,{object_ids},{params:{menu_version:version}});if(response.data===null||response.data.length===0)return;const ids=response.data.object_ids;for(let id in ids){const collections__id=ids[id];controllers.forEach((controller)=>{const object_id=controller.getAttribute('data-object_id');if(object_id===id){controller.setAttribute('data-object_collections',collections__id.join(','));controller.classList.add('active');}});}}if(response.data===null||response.data.length===0)return;setCounters(response.data.views.count,'.profile__stat__icon_watches');setCounters(response.data.views.count,'.widget__toggler__browsed .widget__toggler__icon span');updateLists(response.data.views.html,'.widget__content__browsed .widget__content__list');setCounters(response.data.collections.count,'.profile__stat__icon_favorites');setCounters(response.data.collections.count,'.widget__toggler__favorite .widget__toggler__icon span');updateLists(response.data.collections.html,'.widget__content__favorite .widget__content__list');updateLists(response.data.collections.list,'#widget__modal__favorite .widget__modal__list');if(response.data.alert!==undefined){updateHeadLineAlerts(response.data.alert.count);updateHeadLineAlertsNew(response.data.alert.alertNew);updateHeadLineAlertsWidget(response.data.alert.widget);}}catch(error){}}document.body.addEventListener('click',function(e){if(e.target.closest('.favoriteControl')){const parent=e.target.closest('.favoriteControl');const controllers=document.querySelectorAll('.favoriteControl');controllers.forEach((controller)=>{if(controller===parent)return;controller.classList.remove('open');});if(e.target.closest('.favoriteControl-content'))(parent.classList.contains('active'))?favorite__content__remove(parent):favorite__content__add(parent);if(e.target.closest('.favoriteControl-select'))(parent.classList.contains('open'))?parent.classList.remove('open'):favorite__get__list(parent);if(e.target.closest('.actions-list .actions-collections__checkbox input'))favorite__content__add__collection(parent,e.target.closest('.actions-collections__checkbox'));if(e.target.closest('.actions-list .actions-item.delete:not(.disable)'))favorite__content__remove__collection(parent);}else{const parents=document.querySelectorAll('.favoriteControl');parents.forEach((parent)=>{parent.classList.remove('open');});}});document.addEventListener('DOMContentLoaded',()=>{favorites__is__check();});;
